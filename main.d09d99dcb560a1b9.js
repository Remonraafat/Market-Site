"use strict";(self.webpackChunkmyS=self.webpackChunkmyS||[]).push([[179],{2011:(ft,Ee,R)=>{R.d(Ee,{Dh:()=>he,GT:()=>ge,cc:()=>Ne,hO:()=>Ye,on:()=>$,pX:()=>ee,xv:()=>ue});var c=R(5e3),Y=R(127),k=R(5813);ft=R.hmd(ft);const ae=["ngOnDestroy"],ee=(we,st,et,Se={})=>new Proxy(we,{get:(ve,be)=>et.runOutsideAngular(()=>{var We;if(we[be])return(null===(We=null==Se?void 0:Se.spy)||void 0===We?void 0:We.get)&&Se.spy.get(be,we[be]),we[be];if(ae.indexOf(be)>-1)return()=>{};const qe=st.toPromise().then(ie=>{const Je=ie&&ie[be];return"function"==typeof Je?Je.bind(ie):Je&&Je.then?Je.then(X=>et.run(()=>X)):et.run(()=>Je)});return new Proxy(()=>{},{get:(ie,Je)=>qe[Je],apply:(ie,Je,X)=>qe.then(le=>{var re;const Ce=le&&le(...X);return(null===(re=null==Se?void 0:Se.spy)||void 0===re?void 0:re.apply)&&Se.spy.apply(be,X,Ce),Ce})})})}),ge=(we,st)=>{st.forEach(et=>{Object.getOwnPropertyNames(et.prototype||et).forEach(Se=>{Object.defineProperty(we.prototype,Se,Object.getOwnPropertyDescriptor(et.prototype||et,Se))})})};class oe{constructor(st){return st}}const he=new c.OlP("angularfire2.app.options"),ue=new c.OlP("angularfire2.app.name");function $(we,st,et){const ve="object"==typeof et&&et||{};ve.name=ve.name||"string"==typeof et&&et||"[DEFAULT]";const We=Y.Z.apps.filter(qe=>qe&&qe.name===ve.name)[0]||st.runOutsideAngular(()=>Y.Z.initializeApp(we,ve));try{JSON.stringify(we)!==JSON.stringify(We.options)&&G("error",`${We.name} Firebase App already initialized with different options${ft.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(qe){}return new oe(We)}const G=(we,...st)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[we](...st)},J={provide:oe,useFactory:$,deps:[he,c.R0b,[new c.FiY,ue]]};let Ye=(()=>{class we{constructor(et){Y.Z.registerVersion("angularfire",k.q4.full,"core"),Y.Z.registerVersion("angularfire",k.q4.full,"app-compat"),Y.Z.registerVersion("angular",c.q4F.full,et.toString())}static initializeApp(et,Se){return{ngModule:we,providers:[{provide:he,useValue:et},{provide:ue,useValue:Se}]}}}return we.\u0275fac=function(et){return new(et||we)(c.LFG(c.Lbi))},we.\u0275mod=c.oAB({type:we}),we.\u0275inj=c.cJS({providers:[J]}),we})();function Ne(we,st,et,Se,ve){const[,be,We]=globalThis.\u0275AngularfireInstanceCache.find(qe=>qe[0]===we)||[];if(be)return function ke(we,st){try{return we.toString()===st.toString()}catch(et){return we===st}}(ve,We)||(fe("error",`${st} was already initialized on the ${et} Firebase App with different settings.${Ue?" You may need to reload as Firebase is not HMR aware.":""}`),fe("warn",{is:ve,was:We})),be;{const qe=Se();return globalThis.\u0275AngularfireInstanceCache.push([we,qe,ve]),qe}}const Ue=!!ft.hot,fe=(we,...st)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[we](...st)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(ft,Ee,R)=>{R.d(Ee,{q4:()=>ah,iC:()=>vu,fc:()=>lc,HU:()=>_u,vb:()=>ch,JM:()=>po});var c=R(5e3),Y=R(5867),k=R(5861),ae=R(9681),ee=R(2090),ge=R(4859),oe=R(1877);const he="@firebase/installations",G="w:0.5.8",J="FIS_v2",we=new ee.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function st(E){return E instanceof ee.ZR&&E.code.includes("request-failed")}function et({projectId:E}){return`https://firebaseinstallations.googleapis.com/v1/projects/${E}/installations`}function Se(E){return{token:E.token,requestStatus:2,expiresIn:X(E.expiresIn),creationTime:Date.now()}}function ve(E,S){return be.apply(this,arguments)}function be(){return(be=(0,k.Z)(function*(E,S){const V=(yield S.json()).error;return we.create("request-failed",{requestName:E,serverCode:V.code,serverMessage:V.message,serverStatus:V.status})})).apply(this,arguments)}function We({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function qe(E,{refreshToken:S}){const O=We(E);return O.append("Authorization",function le(E){return`${J} ${E}`}(S)),O}function ie(E){return Je.apply(this,arguments)}function Je(){return(Je=(0,k.Z)(function*(E){const S=yield E();return S.status>=500&&S.status<600?E():S})).apply(this,arguments)}function X(E){return Number(E.replace("s","000"))}function re(E,S){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,k.Z)(function*({appConfig:E,heartbeatServiceProvider:S},{fid:O}){const V=et(E),W=We(E),ne=S.getImmediate({optional:!0});if(ne){const It=yield ne.getHeartbeatsHeader();It&&W.append("x-firebase-client",It)}const nt={method:"POST",headers:W,body:JSON.stringify({fid:O,authVersion:J,appId:E.appId,sdkVersion:G})},ct=yield ie(()=>fetch(V,nt));if(ct.ok){const It=yield ct.json();return{fid:It.fid||O,registrationStatus:2,refreshToken:It.refreshToken,authToken:Se(It.authToken)}}throw yield ve("Create Installation",ct)})).apply(this,arguments)}function me(E){return new Promise(S=>{setTimeout(S,E)})}const Rt=/^[cdef][\w-]{21}$/;function gn(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const O=function Ke(E){return function Be(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return Rt.test(O)?O:""}catch(E){return""}}function Kt(E){return`${E.appName}!${E.appId}`}const hr=new Map;function Rn(E,S){const O=Kt(E);nn(O,S),function Yt(E,S){const O=function Ai(){return!Dr&&"BroadcastChannel"in self&&(Dr=new BroadcastChannel("[Firebase] FID Change"),Dr.onmessage=E=>{nn(E.data.key,E.data.fid)}),Dr}();O&&O.postMessage({key:E,fid:S}),function Hs(){0===hr.size&&Dr&&(Dr.close(),Dr=null)}()}(O,S)}function nn(E,S){const O=hr.get(E);if(O)for(const V of O)V(S)}let Dr=null;const Xr="firebase-installations-store";let ps=null;function gs(){return ps||(ps=(0,ee.X3)("firebase-installations-database",1,(E,S)=>{0===S&&E.createObjectStore(Xr)})),ps}function yt(E,S){return li.apply(this,arguments)}function li(){return(li=(0,k.Z)(function*(E,S){const O=Kt(E),W=(yield gs()).transaction(Xr,"readwrite"),ne=W.objectStore(Xr),xe=yield ne.get(O);return yield ne.put(S,O),yield W.complete,(!xe||xe.fid!==S.fid)&&Rn(E,S.fid),S})).apply(this,arguments)}function fr(E){return rr.apply(this,arguments)}function rr(){return(rr=(0,k.Z)(function*(E){const S=Kt(E),V=(yield gs()).transaction(Xr,"readwrite");yield V.objectStore(Xr).delete(S),yield V.complete})).apply(this,arguments)}function Ni(E,S){return Co.apply(this,arguments)}function Co(){return(Co=(0,k.Z)(function*(E,S){const O=Kt(E),W=(yield gs()).transaction(Xr,"readwrite"),ne=W.objectStore(Xr),xe=yield ne.get(O),nt=S(xe);return void 0===nt?yield ne.delete(O):yield ne.put(nt,O),yield W.complete,nt&&(!xe||xe.fid!==nt.fid)&&Rn(E,nt.fid),nt})).apply(this,arguments)}function Sn(E){return pr.apply(this,arguments)}function pr(){return(pr=(0,k.Z)(function*(E){let S;const O=yield Ni(E.appConfig,V=>{const W=$s(V),ne=Va(E,W);return S=ne.registrationPromise,ne.installationEntry});return""===O.fid?{installationEntry:yield S}:{installationEntry:O,registrationPromise:S}})).apply(this,arguments)}function $s(E){return Gt(E||{fid:gn(),registrationStatus:0})}function Va(E,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(we.create("app-offline"))};const O={fid:S.fid,registrationStatus:1,registrationTime:Date.now()},V=function Qt(E,S){return ht.apply(this,arguments)}(E,O);return{installationEntry:O,registrationPromise:V}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:Nt(E)}:{installationEntry:S}}function ht(){return(ht=(0,k.Z)(function*(E,S){try{const O=yield re(E,S);return yt(E.appConfig,O)}catch(O){throw st(O)&&409===O.customData.serverCode?yield fr(E.appConfig):yield yt(E.appConfig,{fid:S.fid,registrationStatus:0}),O}})).apply(this,arguments)}function Nt(E){return Er.apply(this,arguments)}function Er(){return(Er=(0,k.Z)(function*(E){let S=yield ts(E.appConfig);for(;1===S.registrationStatus;)yield me(100),S=yield ts(E.appConfig);if(0===S.registrationStatus){const{installationEntry:O,registrationPromise:V}=yield Sn(E);return V||O}return S})).apply(this,arguments)}function ts(E){return Ni(E,S=>{if(!S)throw we.create("installation-not-found");return Gt(S)})}function Gt(E){return function Do(E){return 1===E.registrationStatus&&E.registrationTime+1e4<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function Ur(E,S){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,k.Z)(function*({appConfig:E,heartbeatServiceProvider:S},O){const V=bt(E,O),W=qe(E,O),ne=S.getImmediate({optional:!0});if(ne){const It=yield ne.getHeartbeatsHeader();It&&W.append("x-firebase-client",It)}const nt={method:"POST",headers:W,body:JSON.stringify({installation:{sdkVersion:G,appId:E.appId}})},ct=yield ie(()=>fetch(V,nt));if(ct.ok)return Se(yield ct.json());throw yield ve("Generate Auth Token",ct)})).apply(this,arguments)}function bt(E,{fid:S}){return`${et(E)}/${S}/authTokens:generate`}function jr(E){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,k.Z)(function*(E,S=!1){let O;const V=yield Ni(E.appConfig,ne=>{if(!Ut(ne))throw we.create("not-registered");const xe=ne.authToken;if(!S&&H(xe))return ne;if(1===xe.requestStatus)return O=tt(E,S),ne;{if(!navigator.onLine)throw we.create("app-offline");const nt=q(ne);return O=wt(E,nt),nt}});return O?yield O:V.authToken})).apply(this,arguments)}function tt(E,S){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,k.Z)(function*(E,S){let O=yield it(E.appConfig);for(;1===O.authToken.requestStatus;)yield me(100),O=yield it(E.appConfig);const V=O.authToken;return 0===V.requestStatus?jr(E,S):V})).apply(this,arguments)}function it(E){return Ni(E,S=>{if(!Ut(S))throw we.create("not-registered");return function de(E){return 1===E.requestStatus&&E.requestTime+1e4<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function wt(E,S){return $t.apply(this,arguments)}function $t(){return($t=(0,k.Z)(function*(E,S){try{const O=yield Ur(E,S),V=Object.assign(Object.assign({},S),{authToken:O});return yield yt(E.appConfig,V),O}catch(O){if(!st(O)||401!==O.customData.serverCode&&404!==O.customData.serverCode){const V=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield yt(E.appConfig,V)}else yield fr(E.appConfig);throw O}})).apply(this,arguments)}function Ut(E){return void 0!==E&&2===E.registrationStatus}function H(E){return 2===E.requestStatus&&!function B(E){const S=Date.now();return S<E.creationTime||E.creationTime+E.expiresIn<S+36e5}(E)}function q(E){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:S})}function He(){return(He=(0,k.Z)(function*(E){const S=E,{installationEntry:O,registrationPromise:V}=yield Sn(S);return V?V.catch(console.error):jr(S).catch(console.error),O.fid})).apply(this,arguments)}function rn(){return(rn=(0,k.Z)(function*(E,S=!1){const O=E;return yield Hr(O),(yield jr(O,S)).token})).apply(this,arguments)}function Hr(E){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,k.Z)(function*(E){const{registrationPromise:S}=yield Sn(E);S&&(yield S)})).apply(this,arguments)}function ir(E){return we.create("missing-app-config-values",{valueName:E})}const Ua="installations",Fe=E=>{const S=E.getProvider("app").getImmediate(),O=function ms(E){if(!E||!E.options)throw ir("App Configuration");if(!E.name)throw ir("App Name");const S=["projectId","apiKey","appId"];for(const O of S)if(!E.options[O])throw ir(O);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(S);return{app:S,appConfig:O,heartbeatServiceProvider:(0,ae._getProvider)(S,"heartbeat"),_delete:()=>Promise.resolve()}},Vt=E=>{const S=E.getProvider("app").getImmediate(),O=(0,ae._getProvider)(S,Ua).getImmediate();return{getId:()=>function Q(E){return He.apply(this,arguments)}(O),getToken:W=>function Et(E){return rn.apply(this,arguments)}(O,W)}};(function Cn(){(0,ae._registerComponent)(new ge.wA(Ua,Fe,"PUBLIC")),(0,ae._registerComponent)(new ge.wA("installations-internal",Vt,"PRIVATE"))})(),(0,ae.registerVersion)(he,"0.5.8"),(0,ae.registerVersion)(he,"0.5.8","esm2017");const Sr="@firebase/remote-config",jn=new ee.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Hf{constructor(S,O,V,W){this.client=S,this.storage=O,this.storageCache=V,this.logger=W}isCachedDataFresh(S,O){if(!O)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const V=Date.now()-O,W=V<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${V}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${W}.`),W}fetch(S){var O=this;return(0,k.Z)(function*(){const[V,W]=yield Promise.all([O.storage.getLastSuccessfulFetchTimestampMillis(),O.storage.getLastSuccessfulFetchResponse()]);if(W&&O.isCachedDataFresh(S.cacheMaxAgeMillis,V))return W;S.eTag=W&&W.eTag;const ne=yield O.client.fetch(S),xe=[O.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ne.status&&xe.push(O.storage.setLastSuccessfulFetchResponse(ne)),yield Promise.all(xe),ne})()}}function na(E=navigator){return E.languages&&E.languages[0]||E.language}class Ul{constructor(S,O,V,W,ne,xe){this.firebaseInstallations=S,this.sdkVersion=O,this.namespace=V,this.projectId=W,this.apiKey=ne,this.appId=xe}fetch(S){var O=this;return(0,k.Z)(function*(){const[V,W]=yield Promise.all([O.firebaseInstallations.getId(),O.firebaseInstallations.getToken()]),xe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${O.projectId}/namespaces/${O.namespace}:fetch?key=${O.apiKey}`,nt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},ct={sdk_version:O.sdkVersion,app_instance_id:V,app_instance_id_token:W,app_id:O.appId,language_code:na()},It={method:"POST",headers:nt,body:JSON.stringify(ct)},zt=fetch(xe,It),Pt=new Promise((vi,os)=>{S.signal.addEventListener(()=>{const Is=new Error("The operation was aborted.");Is.name="AbortError",os(Is)})});let Zn;try{yield Promise.race([zt,Pt]),Zn=yield zt}catch(vi){let os="fetch-client-network";throw"AbortError"===vi.name&&(os="fetch-timeout"),jn.create(os,{originalErrorMessage:vi.message})}let zn=Zn.status;const fa=Zn.headers.get("ETag")||void 0;let uc,yi;if(200===Zn.status){let vi;try{vi=yield Zn.json()}catch(os){throw jn.create("fetch-client-parse",{originalErrorMessage:os.message})}uc=vi.entries,yi=vi.state}if("INSTANCE_STATE_UNSPECIFIED"===yi?zn=500:"NO_CHANGE"===yi?zn=304:("NO_TEMPLATE"===yi||"EMPTY_CONFIG"===yi)&&(uc={}),304!==zn&&200!==zn)throw jn.create("fetch-status",{httpStatus:zn});return{status:zn,eTag:fa,config:uc}})()}}class Xg{constructor(S,O){this.client=S,this.storage=O}fetch(S){var O=this;return(0,k.Z)(function*(){const V=(yield O.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return O.attemptFetch(S,V)})()}attemptFetch(S,{throttleEndTimeMillis:O,backoffCount:V}){var W=this;return(0,k.Z)(function*(){yield function Jn(E,S){return new Promise((O,V)=>{const W=Math.max(S-Date.now(),0),ne=setTimeout(O,W);E.addEventListener(()=>{clearTimeout(ne),V(jn.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,O);try{const ne=yield W.client.fetch(S);return yield W.storage.deleteThrottleMetadata(),ne}catch(ne){if(!function Gd(E){if(!(E instanceof ee.ZR&&E.customData))return!1;const S=Number(E.customData.httpStatus);return 429===S||500===S||503===S||504===S}(ne))throw ne;const xe={throttleEndTimeMillis:Date.now()+(0,ee.$s)(V),backoffCount:V+1};return yield W.storage.setThrottleMetadata(xe),W.attemptFetch(S,xe)}})()}}class Zc{constructor(S,O,V,W,ne){this.app=S,this._client=O,this._storageCache=V,this._storage=W,this._logger=ne,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function zc(E,S){const O=E.target.error||void 0;return jn.create(S,{originalErrorMessage:O&&O.message})}const Ws="app_namespace_store";class rm{constructor(S,O,V,W=function nm(){return new Promise((E,S)=>{try{const O=indexedDB.open("firebase_remote_config",1);O.onerror=V=>{S(zc(V,"storage-open"))},O.onsuccess=V=>{E(V.target.result)},O.onupgradeneeded=V=>{0===V.oldVersion&&V.target.result.createObjectStore(Ws,{keyPath:"compositeKey"})}}catch(O){S(jn.create("storage-open",{originalErrorMessage:O}))}})}()){this.appId=S,this.appName=O,this.namespace=V,this.openDbPromise=W}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var O=this;return(0,k.Z)(function*(){const V=yield O.openDbPromise;return new Promise((W,ne)=>{const nt=V.transaction([Ws],"readonly").objectStore(Ws),ct=O.createCompositeKey(S);try{const It=nt.get(ct);It.onerror=zt=>{ne(zc(zt,"storage-get"))},It.onsuccess=zt=>{const Pt=zt.target.result;W(Pt?Pt.value:void 0)}}catch(It){ne(jn.create("storage-get",{originalErrorMessage:It&&It.message}))}})})()}set(S,O){var V=this;return(0,k.Z)(function*(){const W=yield V.openDbPromise;return new Promise((ne,xe)=>{const ct=W.transaction([Ws],"readwrite").objectStore(Ws),It=V.createCompositeKey(S);try{const zt=ct.put({compositeKey:It,value:O});zt.onerror=Pt=>{xe(zc(Pt,"storage-set"))},zt.onsuccess=()=>{ne()}}catch(zt){xe(jn.create("storage-set",{originalErrorMessage:zt&&zt.message}))}})})()}delete(S){var O=this;return(0,k.Z)(function*(){const V=yield O.openDbPromise;return new Promise((W,ne)=>{const nt=V.transaction([Ws],"readwrite").objectStore(Ws),ct=O.createCompositeKey(S);try{const It=nt.delete(ct);It.onerror=zt=>{ne(zc(zt,"storage-delete"))},It.onsuccess=()=>{W()}}catch(It){ne(jn.create("storage-delete",{originalErrorMessage:It&&It.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class qd{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,k.Z)(function*(){const O=S.storage.getLastFetchStatus(),V=S.storage.getLastSuccessfulFetchTimestampMillis(),W=S.storage.getActiveConfig(),ne=yield O;ne&&(S.lastFetchStatus=ne);const xe=yield V;xe&&(S.lastSuccessfulFetchTimestampMillis=xe);const nt=yield W;nt&&(S.activeConfig=nt)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function So(){return $f.apply(this,arguments)}function $f(){return($f=(0,k.Z)(function*(){if(!(0,ee.hl)())return!1;try{return yield(0,ee.eu)()}catch(E){return!1}})).apply(this,arguments)}!function ra(){(0,ae._registerComponent)(new ge.wA("remote-config",function E(S,{instanceIdentifier:O}){const V=S.getProvider("app").getImmediate(),W=S.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw jn.create("registration-window");if(!(0,ee.hl)())throw jn.create("indexed-db-unavailable");const{projectId:ne,apiKey:xe,appId:nt}=V.options;if(!ne)throw jn.create("registration-project-id");if(!xe)throw jn.create("registration-api-key");if(!nt)throw jn.create("registration-app-id");const ct=new rm(nt,V.name,O=O||"firebase"),It=new qd(ct),zt=new oe.Yd(Sr);zt.logLevel=oe.in.ERROR;const Pt=new Ul(W,ae.SDK_VERSION,O,ne,xe,nt),Zn=new Xg(Pt,ct),zn=new Hf(Zn,ct,It,zt),fa=new Zc(V,zn,It,ct,zt);return function Hn(E){const S=(0,ee.m9)(E);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(fa),fa},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(Sr,"0.3.7"),(0,ae.registerVersion)(Sr,"0.3.7","esm2017")}();const Kc="/firebase-messaging-sw.js",Ks="/firebase-cloud-messaging-push-scope",ui="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Io="google.c.a.c_id",Ha="google.c.a.c_l",Zd="google.c.a.ts",im="google.c.a.e";var Qs=(()=>{return(E=Qs||(Qs={})).PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",Qs;var E})();function xi(E){const S=new Uint8Array(E);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Hl(E){const O=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),V=atob(O),W=new Uint8Array(V.length);for(let ne=0;ne<V.length;++ne)W[ne]=V.charCodeAt(ne);return W}const $l="fcm_token_details_db",Ir="fcm_token_object_Store";function Gf(E){return Gl.apply(this,arguments)}function Gl(){return Gl=(0,k.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ne=>ne.name).includes($l))return null;let S=null;return(yield(0,ee.X3)($l,5,function(){var V=(0,k.Z)(function*(W,ne,xe,nt){var ct;if(ne<2||!W.objectStoreNames.contains(Ir))return;const It=nt.objectStore(Ir),zt=yield It.index("fcmSenderId").get(E);if(yield It.clear(),zt)if(2===ne){const Pt=zt;if(!Pt.auth||!Pt.p256dh||!Pt.endpoint)return;S={token:Pt.fcmToken,createTime:null!==(ct=Pt.createTime)&&void 0!==ct?ct:Date.now(),subscriptionOptions:{auth:Pt.auth,p256dh:Pt.p256dh,endpoint:Pt.endpoint,swScope:Pt.swScope,vapidKey:"string"==typeof Pt.vapidKey?Pt.vapidKey:xi(Pt.vapidKey)}}}else if(3===ne){const Pt=zt;S={token:Pt.fcmToken,createTime:Pt.createTime,subscriptionOptions:{auth:xi(Pt.auth),p256dh:xi(Pt.p256dh),endpoint:Pt.endpoint,swScope:Pt.swScope,vapidKey:xi(Pt.vapidKey)}}}else if(4===ne){const Pt=zt;S={token:Pt.fcmToken,createTime:Pt.createTime,subscriptionOptions:{auth:xi(Pt.auth),p256dh:xi(Pt.p256dh),endpoint:Pt.endpoint,swScope:Pt.swScope,vapidKey:xi(Pt.vapidKey)}}}});return function(W,ne,xe,nt){return V.apply(this,arguments)}}())).close(),yield(0,ee.Lj)($l),yield(0,ee.Lj)("fcm_vapid_details_db"),yield(0,ee.Lj)("undefined"),zd(S)?S:null}),Gl.apply(this,arguments)}function zd(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:S}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}const bs="firebase-messaging-store";let $a=null;function Yc(){return $a||($a=(0,ee.X3)("firebase-messaging-database",1,(E,S)=>{0===S&&E.createObjectStore(bs)})),$a}function En(E){return ia.apply(this,arguments)}function ia(){return(ia=(0,k.Z)(function*(E){const S=No(E),V=yield(yield Yc()).transaction(bs).objectStore(bs).get(S);if(V)return V;{const W=yield Gf(E.appConfig.senderId);if(W)return yield Js(E,W),W}})).apply(this,arguments)}function Js(E,S){return yn.apply(this,arguments)}function yn(){return(yn=(0,k.Z)(function*(E,S){const O=No(E),W=(yield Yc()).transaction(bs,"readwrite");return yield W.objectStore(bs).put(S,O),yield W.complete,S})).apply(this,arguments)}function Wd(E){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,k.Z)(function*(E){const S=No(E),V=(yield Yc()).transaction(bs,"readwrite");yield V.objectStore(bs).delete(S),yield V.complete})).apply(this,arguments)}function No({appConfig:E}){return E.appId}const $n=new ee.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ga(E,S){return $i.apply(this,arguments)}function $i(){return($i=(0,k.Z)(function*(E,S){const O=yield eo(E),V=Ct(S),W={method:"POST",headers:O,body:JSON.stringify(V)};let ne;try{ne=yield(yield fetch(di(E.appConfig),W)).json()}catch(xe){throw $n.create("token-subscribe-failed",{errorInfo:xe})}if(ne.error)throw $n.create("token-subscribe-failed",{errorInfo:ne.error.message});if(!ne.token)throw $n.create("token-subscribe-no-token");return ne.token})).apply(this,arguments)}function Gr(E,S){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,k.Z)(function*(E,S){const O=yield eo(E),V=Ct(S.subscriptionOptions),W={method:"PATCH",headers:O,body:JSON.stringify(V)};let ne;try{ne=yield(yield fetch(`${di(E.appConfig)}/${S.token}`,W)).json()}catch(xe){throw $n.create("token-update-failed",{errorInfo:xe})}if(ne.error)throw $n.create("token-update-failed",{errorInfo:ne.error.message});if(!ne.token)throw $n.create("token-update-no-token");return ne.token})).apply(this,arguments)}function ws(E,S){return zl.apply(this,arguments)}function zl(){return(zl=(0,k.Z)(function*(E,S){const V={method:"DELETE",headers:yield eo(E)};try{const ne=yield(yield fetch(`${di(E.appConfig)}/${S}`,V)).json();if(ne.error)throw $n.create("token-unsubscribe-failed",{errorInfo:ne.error.message})}catch(W){throw $n.create("token-unsubscribe-failed",{errorInfo:W})}})).apply(this,arguments)}function di({projectId:E}){return`https://fcmregistrations.googleapis.com/v1/projects/${E}/registrations`}function eo(E){return to.apply(this,arguments)}function to(){return(to=(0,k.Z)(function*({appConfig:E,installations:S}){const O=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${O}`})})).apply(this,arguments)}function Ct({p256dh:E,auth:S,endpoint:O,vapidKey:V}){const W={web:{endpoint:O,auth:S,p256dh:E}};return V!==ui&&(W.web.applicationPubKey=V),W}const Wl=6048e5;function qa(E){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,k.Z)(function*(E){const S=yield Xc(E.swRegistration,E.vapidKey),O={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:S.endpoint,auth:xi(S.getKey("auth")),p256dh:xi(S.getKey("p256dh"))},V=yield En(E.firebaseDependencies);if(V){if(sa(V.subscriptionOptions,O))return Date.now()>=V.createTime+Wl?Qc(E,{token:V.token,createTime:Date.now(),subscriptionOptions:O}):V.token;try{yield ws(E.firebaseDependencies,V.token)}catch(W){console.warn(W)}return De(E.firebaseDependencies,O)}return De(E.firebaseDependencies,O)})).apply(this,arguments)}function Yl(E){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,k.Z)(function*(E){const S=yield En(E.firebaseDependencies);S&&(yield ws(E.firebaseDependencies,S.token),yield Wd(E.firebaseDependencies));const O=yield E.swRegistration.pushManager.getSubscription();return!O||O.unsubscribe()})).apply(this,arguments)}function Qc(E,S){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,k.Z)(function*(E,S){try{const O=yield Gr(E.firebaseDependencies,S),V=Object.assign(Object.assign({},S),{token:O,createTime:Date.now()});return yield Js(E.firebaseDependencies,V),O}catch(O){throw yield Yl(E),O}})).apply(this,arguments)}function De(E,S){return jt.apply(this,arguments)}function jt(){return(jt=(0,k.Z)(function*(E,S){const V={token:yield Ga(E,S),createTime:Date.now(),subscriptionOptions:S};return yield Js(E,V),V.token})).apply(this,arguments)}function Xc(E,S){return In.apply(this,arguments)}function In(){return(In=(0,k.Z)(function*(E,S){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Hl(S)})})).apply(this,arguments)}function sa(E,S){return S.vapidKey===E.vapidKey&&S.endpoint===E.endpoint&&S.auth===E.auth&&S.p256dh===E.p256dh}function oa(E){const S={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function hi(E,S){if(!S.notification)return;E.notification={};const O=S.notification.title;O&&(E.notification.title=O);const V=S.notification.body;V&&(E.notification.body=V);const W=S.notification.image;W&&(E.notification.image=W)}(S,E),function eu(E,S){!S.data||(E.data=S.data)}(S,E),function tu(E,S){if(!S.fcmOptions)return;E.fcmOptions={};const O=S.fcmOptions.link;O&&(E.fcmOptions.link=O);const V=S.fcmOptions.analytics_label;V&&(E.fcmOptions.analyticsLabel=V)}(S,E),S}function Kd(E){return"object"==typeof E&&!!E&&Io in E}function nu(E,S){const O=[];for(let V=0;V<E.length;V++)O.push(E.charAt(V)),V<S.length&&O.push(S.charAt(V));return O.join("")}function no(E){return $n.create("missing-app-config-values",{valueName:E})}nu("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),nu("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ar{constructor(S,O,V){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const W=function Jl(E){if(!E||!E.options)throw no("App Configuration Object");if(!E.name)throw no("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:O}=E;for(const V of S)if(!O[V])throw no(V);return{appName:E.name,projectId:O.projectId,apiKey:O.apiKey,appId:O.appId,senderId:O.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:W,installations:O,analyticsProvider:V}}_delete(){return Promise.resolve()}}function Pi(E){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,k.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(Kc,{scope:Ks}),E.swRegistration.update().catch(()=>{})}catch(S){throw $n.create("failed-service-worker-registration",{browserErrorMessage:S.message})}})).apply(this,arguments)}function ro(E,S){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,k.Z)(function*(E,S){if(!S&&!E.swRegistration&&(yield Pi(E)),S||!E.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw $n.create("invalid-sw-registration");E.swRegistration=S}})).apply(this,arguments)}function ru(E,S){return ec.apply(this,arguments)}function ec(){return(ec=(0,k.Z)(function*(E,S){S?E.vapidKey=S:E.vapidKey||(E.vapidKey=ui)})).apply(this,arguments)}function iu(){return(iu=(0,k.Z)(function*(E,S){if(!navigator)throw $n.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw $n.create("permission-blocked");return yield ru(E,null==S?void 0:S.vapidKey),yield ro(E,null==S?void 0:S.serviceWorkerRegistration),qa(E)})).apply(this,arguments)}function Za(E,S,O){return aa.apply(this,arguments)}function aa(){return(aa=(0,k.Z)(function*(E,S,O){const V=su(S);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(V,{message_id:O[Io],message_name:O[Ha],message_time:O[Zd],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function su(E){switch(E){case Qs.NOTIFICATION_CLICKED:return"notification_open";case Qs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Yd(){return(Yd=(0,k.Z)(function*(E,S){const O=S.data;if(!O.isFirebaseMessaging)return;E.onMessageHandler&&O.messageType===Qs.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(oa(O)):E.onMessageHandler.next(oa(O)));const V=O.data;Kd(V)&&"1"===V[im]&&(yield Za(E,O.messageType,V))})).apply(this,arguments)}const nc="@firebase/messaging",Qd=E=>{const S=new Ar(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",O=>function ou(E,S){return Yd.apply(this,arguments)}(S,O)),S},Mo=E=>{const S=E.getProvider("messaging").getImmediate();return{getToken:V=>function tc(E,S){return iu.apply(this,arguments)}(S,V)}};function Xd(){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,k.Z)(function*(){try{yield(0,ee.eu)()}catch(E){return!1}return"undefined"!=typeof window&&(0,ee.hl)()&&(0,ee.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Jd(){(0,ae._registerComponent)(new ge.wA("messaging",Qd,"PUBLIC")),(0,ae._registerComponent)(new ge.wA("messaging-internal",Mo,"PRIVATE")),(0,ae.registerVersion)(nc,"0.9.12"),(0,ae.registerVersion)(nc,"0.9.12","esm2017")}();const lu="analytics",tv="firebase_id",za="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",rc="https://www.googletagmanager.com/gtag/js",Xn=new oe.Yd("@firebase/analytics");function eh(E){return Promise.all(E.map(S=>S.catch(O=>O)))}function sm(E,S){const O=document.createElement("script");O.src=`${rc}?l=${E}&id=${S}`,O.async=!0,document.head.appendChild(O)}function la(E,S,O,V,W,ne){return th.apply(this,arguments)}function th(){return(th=(0,k.Z)(function*(E,S,O,V,W,ne){const xe=V[W];try{if(xe)yield S[xe];else{const ct=(yield eh(O)).find(It=>It.measurementId===W);ct&&(yield S[ct.appId])}}catch(nt){Xn.error(nt)}E("config",W,ne)})).apply(this,arguments)}function uu(E,S,O,V,W){return xo.apply(this,arguments)}function xo(){return(xo=(0,k.Z)(function*(E,S,O,V,W){try{let ne=[];if(W&&W.send_to){let xe=W.send_to;Array.isArray(xe)||(xe=[xe]);const nt=yield eh(O);for(const ct of xe){const It=nt.find(Pt=>Pt.measurementId===ct),zt=It&&S[It.appId];if(!zt){ne=[];break}ne.push(zt)}}0===ne.length&&(ne=Object.values(S)),yield Promise.all(ne),E("event",V,W||{})}catch(ne){Xn.error(ne)}})).apply(this,arguments)}function om(){const E=window.document.getElementsByTagName("script");for(const S of Object.values(E))if(S.src&&S.src.includes(rc))return S;return null}const qt=new ee.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Gn=new class gt{constructor(S={},O=1e3){this.throttleMetadata=S,this.intervalMillis=O}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,O){this.throttleMetadata[S]=O}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function ca(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function Wa(E){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,k.Z)(function*(E){var S;const{appId:O,apiKey:V}=E,W={method:"GET",headers:ca(V)},ne=za.replace("{app-id}",O),xe=yield fetch(ne,W);if(200!==xe.status&&304!==xe.status){let nt="";try{const ct=yield xe.json();(null===(S=ct.error)||void 0===S?void 0:S.message)&&(nt=ct.error.message)}catch(ct){}throw qt.create("config-fetch-failed",{httpStatus:xe.status,responseMessage:nt})}return xe.json()})).apply(this,arguments)}function mr(E){return cn.apply(this,arguments)}function cn(){return(cn=(0,k.Z)(function*(E,S=Gn,O){const{appId:V,apiKey:W,measurementId:ne}=E.options;if(!V)throw qt.create("no-app-id");if(!W){if(ne)return{measurementId:ne,appId:V};throw qt.create("no-api-key")}const xe=S.getThrottleMetadata(V)||{backoffCount:0,throttleEndTimeMillis:Date.now()},nt=new du;return setTimeout((0,k.Z)(function*(){nt.abort()}),void 0!==O?O:6e4),xn({appId:V,apiKey:W,measurementId:ne},xe,nt,S)})).apply(this,arguments)}function xn(E,S,O){return pt.apply(this,arguments)}function pt(){return(pt=(0,k.Z)(function*(E,{throttleEndTimeMillis:S,backoffCount:O},V,W=Gn){const{appId:ne,measurementId:xe}=E;try{yield am(V,S)}catch(nt){if(xe)return Xn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${xe} provided in the "measurementId" field in the local Firebase config. [${nt.message}]`),{appId:ne,measurementId:xe};throw nt}try{const nt=yield Wa(E);return W.deleteThrottleMetadata(ne),nt}catch(nt){if(!rh(nt)){if(W.deleteThrottleMetadata(ne),xe)return Xn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${xe} provided in the "measurementId" field in the local Firebase config. [${nt.message}]`),{appId:ne,measurementId:xe};throw nt}const ct=503===Number(nt.customData.httpStatus)?(0,ee.$s)(O,W.intervalMillis,30):(0,ee.$s)(O,W.intervalMillis),It={throttleEndTimeMillis:Date.now()+ct,backoffCount:O+1};return W.setThrottleMetadata(ne,It),Xn.debug(`Calling attemptFetch again in ${ct} millis`),xn(E,It,V,W)}})).apply(this,arguments)}function am(E,S){return new Promise((O,V)=>{const W=Math.max(S-Date.now(),0),ne=setTimeout(O,W);E.addEventListener(()=>{clearTimeout(ne),V(qt.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}function rh(E){if(!(E instanceof ee.ZR&&E.customData))return!1;const S=Number(E.customData.httpStatus);return 429===S||500===S||503===S||504===S}class du{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}function ih(){return ua.apply(this,arguments)}function ua(){return(ua=(0,k.Z)(function*(){if(!(0,ee.hl)())return Xn.warn(qt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ee.eu)()}catch(E){return Xn.warn(qt.create("indexeddb-unavailable",{errorInfo:E}).message),!1}return!0})).apply(this,arguments)}function An(){return(An=(0,k.Z)(function*(E,S,O,V,W,ne,xe){var nt;const ct=mr(E);ct.then(zn=>{O[zn.measurementId]=zn.appId,E.options.measurementId&&zn.measurementId!==E.options.measurementId&&Xn.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${zn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(zn=>Xn.error(zn)),S.push(ct);const It=ih().then(zn=>{if(zn)return V.getId()}),[zt,Pt]=yield Promise.all([ct,It]);om()||sm(ne,zt.measurementId),W("js",new Date);const Zn=null!==(nt=null==xe?void 0:xe.config)&&void 0!==nt?nt:{};return Zn.origin="firebase",Zn.update=!0,null!=Pt&&(Zn[tv]=Pt),W("config",zt.measurementId,Zn),zt.measurementId})).apply(this,arguments)}class Ln{constructor(S){this.app=S}_delete(){return delete pi[this.app.options.appId],Promise.resolve()}}let pi={},ao=[];const hu={};let ti,lo,Ri="dataLayer",Ka=!1;function gi(E,S,O){!function ic(){const E=[];if((0,ee.ru)()&&E.push("This is a browser extension environment."),(0,ee.zI)()||E.push("Cookies are not available."),E.length>0){const S=E.map((V,W)=>`(${W+1}) ${V}`).join(" "),O=qt.create("invalid-analytics-context",{errorInfo:S});Xn.warn(O.message)}}();const V=E.options.appId;if(!V)throw qt.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw qt.create("no-api-key");Xn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=pi[V])throw qt.create("already-exists",{id:V});if(!Ka){!function Ds(E){let S=[];Array.isArray(window[E])?S=window[E]:window[E]=S}(Ri);const{wrappedGtag:ne,gtagCore:xe}=function Zf(E,S,O,V,W){let ne=function(...xe){window[V].push(arguments)};return window[W]&&"function"==typeof window[W]&&(ne=window[W]),window[W]=function nh(E,S,O,V){function ne(){return(ne=(0,k.Z)(function*(xe,nt,ct){try{"event"===xe?yield uu(E,S,O,nt,ct):"config"===xe?yield la(E,S,O,V,nt,ct):E("set",nt)}catch(It){Xn.error(It)}})).apply(this,arguments)}return function W(xe,nt,ct){return ne.apply(this,arguments)}}(ne,E,S,O),{gtagCore:ne,wrappedGtag:window[W]}}(pi,ao,hu,Ri,"gtag");lo=ne,ti=xe,Ka=!0}return pi[V]=function Es(E,S,O,V,W,ne,xe){return An.apply(this,arguments)}(E,ao,hu,S,ti,Ri,O),new Ln(E)}function fu(){return(fu=(0,k.Z)(function*(E,S,O,V,W){if(W&&W.global)E("event",O,V);else{const ne=yield S;E("event",O,Object.assign(Object.assign({},V),{send_to:ne}))}})).apply(this,arguments)}function Ja(){return pu.apply(this,arguments)}function pu(){return(pu=(0,k.Z)(function*(){if((0,ee.ru)()||!(0,ee.zI)()||!(0,ee.hl)())return!1;try{return yield(0,ee.eu)()}catch(E){return!1}})).apply(this,arguments)}const Tt="@firebase/analytics";!function Kf(){(0,ae._registerComponent)(new ge.wA(lu,(S,{options:O})=>gi(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),O),"PUBLIC")),(0,ae._registerComponent)(new ge.wA("analytics-internal",function E(S){try{const O=S.getProvider(lu).getImmediate();return{logEvent:(V,W,ne)=>function Xa(E,S,O,V){E=(0,ee.m9)(E),function zf(E,S,O,V,W){return fu.apply(this,arguments)}(lo,pi[E.app.options.appId],S,O,V).catch(W=>Xn.error(W))}(O,V,W,ne)}}catch(O){throw qt.create("interop-component-reg-failed",{reason:O})}},"PRIVATE")),(0,ae.registerVersion)(Tt,"0.7.8"),(0,ae.registerVersion)(Tt,"0.7.8","esm2017")}();var cm=R(4408),_r=R(7565);const da=new class ln extends _r.v{}(class Po extends cm.o{constructor(S,O){super(S,O),this.scheduler=S,this.work=O}schedule(S,O=0){return O>0?super.schedule(S,O):(this.delay=O,this.state=S,this.scheduler.flush(this),this)}execute(S,O){return O>0||this.closed?super.execute(S,O):this._execute(S,O)}requestAsyncId(S,O,V=0){return null!=V&&V>0||null==V&&this.delay>0?super.requestAsyncId(S,O,V):S.flush(this)}});var um=R(4986),gu=R(8505),Nr=R(5363),mi=R(9468);const ah=new c.GfV("7.3.0"),fo="__angularfire_symbol__analyticsIsSupportedValue",qi="__angularfire_symbol__analyticsIsSupported",ss="__angularfire_symbol__remoteConfigIsSupportedValue",er="__angularfire_symbol__remoteConfigIsSupported",ha="__angularfire_symbol__messagingIsSupportedValue",mu="__angularfire_symbol__messagingIsSupported";function po(E,S,O){if(S){if(1===S.length)return S[0];const ne=S.filter(xe=>xe.app===O);if(1===ne.length)return ne[0]}return O.container.getProvider(E).getImmediate({optional:!0})}globalThis[qi]||(globalThis[qi]=Ja().then(E=>globalThis[fo]=E).catch(()=>globalThis[fo]=!1)),globalThis[mu]||(globalThis[mu]=Xd().then(E=>globalThis[ha]=E).catch(()=>globalThis[ha]=!1)),globalThis[er]||(globalThis[er]=So().then(E=>globalThis[ss]=E).catch(()=>globalThis[ss]=!1));const ch=(E,S)=>{const O=S?[S]:(0,Y.C6)(),V=[];return O.forEach(W=>{W.container.getProvider(E).instances.forEach(xe=>{V.includes(xe)||V.push(xe)})}),V};function Ro(){}class ac{constructor(S,O=da){this.zone=S,this.delegate=O}now(){return this.delegate.now()}schedule(S,O,V){const W=this.zone;return this.delegate.schedule(function(xe){W.runGuarded(()=>{S.apply(this,[xe])})},O,V)}}class Yf{constructor(S){this.zone=S,this.task=null}call(S,O){const V=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ro,{},Ro,Ro)),O.pipe((0,gu.b)({next:V,complete:V,error:V})).subscribe(S).add(V)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let _u=(()=>{class E{constructor(O){this.ngZone=O,this.outsideAngular=O.runOutsideAngular(()=>new ac(Zone.current)),this.insideAngular=O.run(()=>new ac(Zone.current,um.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(O){return new(O||E)(c.LFG(c.R0b))},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function _i(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function lc(E){return E.pipe((0,Nr.Q)(_i().outsideAngular))}function vu(E){return _i(),function ko(E){return function(O){return(O=O.lift(new Yf(E.ngZone))).pipe((0,mi.R)(E.outsideAngular),(0,Nr.Q)(E.insideAngular))}}(_i())(E)}},2090:(ft,Ee,R)=>{R.d(Ee,{$s:()=>Do,BH:()=>Ne,G6:()=>ie,L:()=>ue,LL:()=>Be,Lj:()=>$t,Mn:()=>We,Sg:()=>ke,UG:()=>we,US:()=>oe,X3:()=>wt,ZB:()=>J,ZR:()=>me,b$:()=>Se,d:()=>ve,eu:()=>X,hl:()=>Je,jU:()=>st,m9:()=>bt,ne:()=>yt,pd:()=>ps,r3:()=>nn,ru:()=>et,tV:()=>$,uI:()=>fe,vZ:()=>Hs,w1:()=>be,xO:()=>es,xb:()=>Dr,z$:()=>Ue,zI:()=>le,zd:()=>Xr});var c=R(5861);const ee=function(H){const B=[];let q=0;for(let de=0;de<H.length;de++){let Q=H.charCodeAt(de);Q<128?B[q++]=Q:Q<2048?(B[q++]=Q>>6|192,B[q++]=63&Q|128):55296==(64512&Q)&&de+1<H.length&&56320==(64512&H.charCodeAt(de+1))?(Q=65536+((1023&Q)<<10)+(1023&H.charCodeAt(++de)),B[q++]=Q>>18|240,B[q++]=Q>>12&63|128,B[q++]=Q>>6&63|128,B[q++]=63&Q|128):(B[q++]=Q>>12|224,B[q++]=Q>>6&63|128,B[q++]=63&Q|128)}return B},oe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(H,B){if(!Array.isArray(H))throw Error("encodeByteArray takes an array as a parameter");this.init_();const q=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,de=[];for(let Q=0;Q<H.length;Q+=3){const He=H[Q],Et=Q+1<H.length,rn=Et?H[Q+1]:0,Hr=Q+2<H.length,Jt=Hr?H[Q+2]:0;let wn=(15&rn)<<2|Jt>>6,gr=63&Jt;Hr||(gr=64,Et||(wn=64)),de.push(q[He>>2],q[(3&He)<<4|rn>>4],q[wn],q[gr])}return de.join("")},encodeString(H,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa(H):this.encodeByteArray(ee(H),B)},decodeString(H,B){return this.HAS_NATIVE_SUPPORT&&!B?atob(H):function(H){const B=[];let q=0,de=0;for(;q<H.length;){const Q=H[q++];if(Q<128)B[de++]=String.fromCharCode(Q);else if(Q>191&&Q<224){const He=H[q++];B[de++]=String.fromCharCode((31&Q)<<6|63&He)}else if(Q>239&&Q<365){const Hr=((7&Q)<<18|(63&H[q++])<<12|(63&H[q++])<<6|63&H[q++])-65536;B[de++]=String.fromCharCode(55296+(Hr>>10)),B[de++]=String.fromCharCode(56320+(1023&Hr))}else{const He=H[q++],Et=H[q++];B[de++]=String.fromCharCode((15&Q)<<12|(63&He)<<6|63&Et)}}return B.join("")}(this.decodeStringToByteArray(H,B))},decodeStringToByteArray(H,B){this.init_();const q=B?this.charToByteMapWebSafe_:this.charToByteMap_,de=[];for(let Q=0;Q<H.length;){const He=q[H.charAt(Q++)],rn=Q<H.length?q[H.charAt(Q)]:0;++Q;const Jt=Q<H.length?q[H.charAt(Q)]:64;++Q;const Lt=Q<H.length?q[H.charAt(Q)]:64;if(++Q,null==He||null==rn||null==Jt||null==Lt)throw Error();de.push(He<<2|rn>>4),64!==Jt&&(de.push(rn<<4&240|Jt>>2),64!==Lt&&de.push(Jt<<6&192|Lt))}return de},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let H=0;H<this.ENCODED_VALS.length;H++)this.byteToCharMap_[H]=this.ENCODED_VALS.charAt(H),this.charToByteMap_[this.byteToCharMap_[H]]=H,this.byteToCharMapWebSafe_[H]=this.ENCODED_VALS_WEBSAFE.charAt(H),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[H]]=H,H>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(H)]=H,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(H)]=H)}}},ue=function(H){return function(H){const B=ee(H);return oe.encodeByteArray(B,!0)}(H).replace(/\./g,"")},$=function(H){try{return oe.decodeString(H,!0)}catch(B){console.error("base64Decode failed: ",B)}return null};function J(H,B){if(!(B instanceof Object))return B;switch(B.constructor){case Date:return new Date(B.getTime());case Object:void 0===H&&(H={});break;case Array:H=[];break;default:return B}for(const q in B)!B.hasOwnProperty(q)||!Ye(q)||(H[q]=J(H[q],B[q]));return H}function Ye(H){return"__proto__"!==H}class Ne{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,q)=>{this.resolve=B,this.reject=q})}wrapCallback(B){return(q,de)=>{q?this.reject(q):this.resolve(de),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B(q):B(q,de))}}}function ke(H,B){if(H.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const de=B||"demo-project",Q=H.iat||0,He=H.sub||H.user_id;if(!He)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Et=Object.assign({iss:`https://securetoken.google.com/${de}`,aud:de,iat:Q,exp:Q+3600,auth_time:Q,sub:He,user_id:He,firebase:{sign_in_provider:"custom",identities:{}}},H);return[ue(JSON.stringify({alg:"none",type:"JWT"})),ue(JSON.stringify(Et)),""].join(".")}function Ue(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function fe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ue())}function we(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(H){return!1}}function st(){return"object"==typeof self&&self.self===self}function et(){const H="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof H&&void 0!==H.id}function Se(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ve(){return Ue().indexOf("Electron/")>=0}function be(){const H=Ue();return H.indexOf("MSIE ")>=0||H.indexOf("Trident/")>=0}function We(){return Ue().indexOf("MSAppHost/")>=0}function ie(){return!we()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Je(){return"object"==typeof indexedDB}function X(){return new Promise((H,B)=>{try{let q=!0;const de="validate-browser-context-for-indexeddb-analytics-module",Q=self.indexedDB.open(de);Q.onsuccess=()=>{Q.result.close(),q||self.indexedDB.deleteDatabase(de),H(!0)},Q.onupgradeneeded=()=>{q=!1},Q.onerror=()=>{var He;B((null===(He=Q.error)||void 0===He?void 0:He.message)||"")}}catch(q){B(q)}})}function le(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class me extends Error{constructor(B,q,de){super(q),this.code=B,this.customData=de,this.name="FirebaseError",Object.setPrototypeOf(this,me.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Be.prototype.create)}}class Be{constructor(B,q,de){this.service=B,this.serviceName=q,this.errors=de}create(B,...q){const de=q[0]||{},Q=`${this.service}/${B}`,He=this.errors[B],Et=He?function Rt(H,B){return H.replace(en,(q,de)=>{const Q=B[de];return null!=Q?String(Q):`<${de}?>`})}(He,de):"Error";return new me(Q,`${this.serviceName}: ${Et} (${Q}).`,de)}}const en=/\{\$([^}]+)}/g;function nn(H,B){return Object.prototype.hasOwnProperty.call(H,B)}function Dr(H){for(const B in H)if(Object.prototype.hasOwnProperty.call(H,B))return!1;return!0}function Hs(H,B){if(H===B)return!0;const q=Object.keys(H),de=Object.keys(B);for(const Q of q){if(!de.includes(Q))return!1;const He=H[Q],Et=B[Q];if(Jr(He)&&Jr(Et)){if(!Hs(He,Et))return!1}else if(He!==Et)return!1}for(const Q of de)if(!q.includes(Q))return!1;return!0}function Jr(H){return null!==H&&"object"==typeof H}function es(H){const B=[];for(const[q,de]of Object.entries(H))Array.isArray(de)?de.forEach(Q=>{B.push(encodeURIComponent(q)+"="+encodeURIComponent(Q))}):B.push(encodeURIComponent(q)+"="+encodeURIComponent(de));return B.length?"&"+B.join("&"):""}function Xr(H){const B={};return H.replace(/^\?/,"").split("&").forEach(de=>{if(de){const[Q,He]=de.split("=");B[decodeURIComponent(Q)]=decodeURIComponent(He)}}),B}function ps(H){const B=H.indexOf("?");if(!B)return"";const q=H.indexOf("#",B);return H.substring(B,q>0?q:void 0)}function yt(H,B){const q=new li(H,B);return q.subscribe.bind(q)}class li{constructor(B,q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then(()=>{B(this)}).catch(de=>{this.error(de)})}next(B){this.forEachObserver(q=>{q.next(B)})}error(B){this.forEachObserver(q=>{q.error(B)}),this.close(B)}complete(){this.forEachObserver(B=>{B.complete()}),this.close()}subscribe(B,q,de){let Q;if(void 0===B&&void 0===q&&void 0===de)throw new Error("Missing Observer.");Q=function rr(H,B){if("object"!=typeof H||null===H)return!1;for(const q of B)if(q in H&&"function"==typeof H[q])return!0;return!1}(B,["next","error","complete"])?B:{next:B,error:q,complete:de},void 0===Q.next&&(Q.next=Ni),void 0===Q.error&&(Q.error=Ni),void 0===Q.complete&&(Q.complete=Ni);const He=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Q.error(this.finalError):Q.complete()}catch(Et){}}),this.observers.push(Q),He}unsubscribeOne(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let q=0;q<this.observers.length;q++)this.sendOne(q,B)}sendOne(B,q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{q(this.observers[B])}catch(de){"undefined"!=typeof console&&console.error&&console.error(de)}})}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ni(){}function Do(H,B=1e3,q=2){const de=B*Math.pow(q,H),Q=Math.round(.5*de*(Math.random()-.5)*2);return Math.min(144e5,de+Q)}function bt(H){return H&&H._delegate?H._delegate:H}function jr(H,B){return new Promise((q,de)=>{H.onsuccess=Q=>{q(Q.target.result)},H.onerror=Q=>{var He;de(`${B}: ${null===(He=Q.target.error)||void 0===He?void 0:He.message}`)}})}class Ht{constructor(B){this._db=B,this.objectStoreNames=this._db.objectStoreNames}transaction(B,q="readonly"){return new tt(this._db.transaction.call(this._db,B,q))}createObjectStore(B,q){return new Ie(this._db.createObjectStore(B,q))}close(){this._db.close()}}class tt{constructor(B){this._transaction=B,this.complete=new Promise((q,de)=>{this._transaction.oncomplete=function(){q()},this._transaction.onerror=()=>{de(this._transaction.error)},this._transaction.onabort=()=>{de(this._transaction.error)}})}objectStore(B){return new Ie(this._transaction.objectStore(B))}}class Ie{constructor(B){this._store=B}index(B){return new it(this._store.index(B))}createIndex(B,q,de){return new it(this._store.createIndex(B,q,de))}get(B){return jr(this._store.get(B),"Error reading from IndexedDB")}put(B,q){return jr(this._store.put(B,q),"Error writing to IndexedDB")}delete(B){return jr(this._store.delete(B),"Error deleting from IndexedDB")}clear(){return jr(this._store.clear(),"Error clearing IndexedDB object store")}}class it{constructor(B){this._index=B}get(B){return jr(this._index.get(B),"Error reading from IndexedDB")}}function wt(H,B,q){return new Promise((de,Q)=>{try{const He=indexedDB.open(H,B);He.onsuccess=Et=>{de(new Ht(Et.target.result))},He.onerror=Et=>{var rn;Q(`Error opening indexedDB: ${null===(rn=Et.target.error)||void 0===rn?void 0:rn.message}`)},He.onupgradeneeded=Et=>{q(new Ht(He.result),Et.oldVersion,Et.newVersion,new tt(He.transaction))}}catch(He){Q(`Error opening indexedDB: ${He.message}`)}})}function $t(H){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,c.Z)(function*(H){return new Promise((B,q)=>{try{const de=indexedDB.deleteDatabase(H);de.onsuccess=()=>{B()},de.onerror=Q=>{var He;q(`Error deleting indexedDB database "${H}": ${null===(He=Q.target.error)||void 0===He?void 0:He.message}`)}}catch(de){q(`Error deleting indexedDB database "${H}": ${de.message}`)}})})).apply(this,arguments)}},528:(ft,Ee,R)=>{var c=R(5e3);let Y=null;function k(){return Y}const oe=new c.OlP("DocumentToken");let he=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function ue(){return(0,c.LFG)(G)}()},providedIn:"platform"}),n})();const $=new c.OlP("Location Initialized");let G=(()=>{class n extends he{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){J()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){J()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(oe))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Ye(){return new G((0,c.LFG)(oe))}()},providedIn:"platform"}),n})();function J(){return!!window.history.pushState}function Ne(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function ke(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ue(n){return n&&"?"!==n[0]?"?"+n:n}let fe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function we(n){const e=(0,c.LFG)(oe).location;return new et((0,c.LFG)(he),e&&e.origin||"")}()},providedIn:"root"}),n})();const st=new c.OlP("appBaseHref");let et=(()=>{class n extends fe{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ne(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ue(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const u=this.prepareExternalUrl(i+Ue(a));this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,a){const u=this.prepareExternalUrl(i+Ue(a));this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(he),c.LFG(st,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Se=(()=>{class n extends fe{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ne(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let u=this.prepareExternalUrl(i+Ue(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,a){let u=this.prepareExternalUrl(i+Ue(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(he),c.LFG(st,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),ve=(()=>{class n{constructor(t,r){this._subject=new c.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=ke(qe(i)),this._platformStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ue(r))}normalize(t){return n.stripTrailingSlash(function We(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,qe(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ue(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ue(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Ue,n.joinWithSlash=Ne,n.stripTrailingSlash=ke,n.\u0275fac=function(t){return new(t||n)(c.LFG(fe),c.LFG(he))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function be(){return new ve((0,c.LFG)(fe),(0,c.LFG)(he))}()},providedIn:"root"}),n})();function qe(n){return n.replace(/\/index.html$/,"")}const ie={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Je=(()=>((Je=Je||{})[Je.Decimal=0]="Decimal",Je[Je.Percent=1]="Percent",Je[Je.Currency=2]="Currency",Je[Je.Scientific=3]="Scientific",Je))(),me=(()=>((me=me||{})[me.Decimal=0]="Decimal",me[me.Group=1]="Group",me[me.List=2]="List",me[me.PercentSign=3]="PercentSign",me[me.PlusSign=4]="PlusSign",me[me.MinusSign=5]="MinusSign",me[me.Exponential=6]="Exponential",me[me.SuperscriptingExponent=7]="SuperscriptingExponent",me[me.PerMille=8]="PerMille",me[me.Infinity=9]="Infinity",me[me.NaN=10]="NaN",me[me.TimeSeparator=11]="TimeSeparator",me[me.CurrencyDecimal=12]="CurrencyDecimal",me[me.CurrencyGroup=13]="CurrencyGroup",me))();function Yt(n,e){const t=(0,c.cg1)(n),r=t[c.wAp.NumberSymbols][e];if(void 0===r){if(e===me.CurrencyDecimal)return t[c.wAp.NumberSymbols][me.Decimal];if(e===me.CurrencyGroup)return t[c.wAp.NumberSymbols][me.Group]}return r}const kn=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Mi(n,e,t,r,i){const u=function Cn(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),i=r[0],a=r[1],u=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],f=u[0],_=u[1]||"";t.posPre=f.substr(0,f.indexOf("#"));for(let T=0;T<_.length;T++){const I=_.charAt(T);"0"===I?t.minFrac=t.maxFrac=T+1:"#"===I?t.maxFrac=T+1:t.posSuf+=I}const b=f.split(",");if(t.gSize=b[1]?b[1].length:0,t.lgSize=b[2]||b[1]?(b[2]||b[1]).length:0,a){const T=i.length-t.posPre.length-t.posSuf.length,I=a.indexOf("#");t.negPre=a.substr(0,I).replace(/'/g,""),t.negSuf=a.substr(I+T).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function Dr(n,e){return(0,c.cg1)(n)[c.wAp.NumberFormats][e]}(e,Je.Currency),Yt(e,me.MinusSign));return u.minFrac=function Sn(n){let e;const t=ie[n];return t&&(e=t[2]),"number"==typeof e?e:2}(r),u.maxFrac=u.minFrac,function Ua(n,e,t,r,i,a,u=!1){let f="",_=!1;if(isFinite(n)){let b=function Gs(n){let r,i,a,u,f,e=Math.abs(n)+"",t=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(a=e.search(/e/i))>0?(i<0&&(i=a),i+=+e.slice(a+1),e=e.substring(0,a)):i<0&&(i=e.length),a=0;"0"===e.charAt(a);a++);if(a===(f=e.length))r=[0],i=1;else{for(f--;"0"===e.charAt(f);)f--;for(i-=a,r=[],u=0;a<=f;a++,u++)r[u]=Number(e.charAt(a))}return i>22&&(r=r.splice(0,21),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);u&&(b=function Sr(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(b));let T=e.minInt,I=e.minFrac,x=e.maxFrac;if(a){const Me=a.match(kn);if(null===Me)throw new Error(`${a} is not a valid digit info`);const Re=Me[1],Ae=Me[3],$e=Me[5];null!=Re&&(T=ns(Re)),null!=Ae&&(I=ns(Ae)),null!=$e?x=ns($e):null!=Ae&&I>x&&(x=I)}!function Qn(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const a=Math.min(Math.max(e,i),t);let u=a+n.integerLen,f=r[u];if(u>0){r.splice(Math.max(n.integerLen,u));for(let I=u;I<r.length;I++)r[I]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,u=a+1),r[0]=0;for(let I=1;I<u;I++)r[I]=0}if(f>=5)if(u-1<0){for(let I=0;I>u;I--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[u-1]++;for(;i<Math.max(0,a);i++)r.push(0);let _=0!==a;const b=e+n.integerLen,T=r.reduceRight(function(I,x,F,U){return U[F]=(x+=I)<10?x:x-10,_&&(0===U[F]&&F>=b?U.pop():_=!1),x>=10?1:0},0);T&&(r.unshift(T),n.integerLen++)}(b,I,x);let F=b.digits,U=b.integerLen;const Z=b.exponent;let se=[];for(_=F.every(Me=>!Me);U<T;U++)F.unshift(0);for(;U<0;U++)F.unshift(0);U>0?se=F.splice(U,F.length):(se=F,F=[0]);const Pe=[];for(F.length>=e.lgSize&&Pe.unshift(F.splice(-e.lgSize,F.length).join(""));F.length>e.gSize;)Pe.unshift(F.splice(-e.gSize,F.length).join(""));F.length&&Pe.unshift(F.join("")),f=Pe.join(Yt(t,r)),se.length&&(f+=Yt(t,i)+se.join("")),Z&&(f+=Yt(t,me.Exponential)+"+"+Z)}else f=Yt(t,me.Infinity);return f=n<0&&!_?e.negPre+f+e.negSuf:e.posPre+f+e.posSuf,f}(n,u,e,me.CurrencyGroup,me.CurrencyDecimal,i).replace("\xa4",t).replace("\xa4","").trim()}function ns(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}class Zs{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let On=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,u)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Zs(i.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)r.remove(null===a?void 0:a);else if(null!==a){const f=r.get(a);r.move(f,u),_s(f,i)}});for(let i=0,a=r.length;i<a;i++){const f=r.get(i).context;f.index=i,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{_s(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function _s(n,e){n.context.$implicit=e.item}let Hn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new _n,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ll("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ll("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class _n{constructor(){this.$implicit=null,this.ngIf=null}}function Ll(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}function Jn(n,e){return new c.vHH(2100,"")}class Gd{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class Xg{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const vs=new Xg,em=new Gd;let Zc=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,c.QGY)(t))return vs;if((0,c.F4k)(t))return em;throw Jn()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO,16))},n.\u0275pipe=c.Yjl({name:"async",type:n,pure:!1}),n})(),Wc=(()=>{class n{transform(t){if(null==t)return null;if("string"!=typeof t)throw Jn();return t.toUpperCase()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=c.Yjl({name:"uppercase",type:n,pure:!0}),n})(),Ys=(()=>{class n{constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,i="symbol",a,u){if(!function Io(n){return!(null==n||""===n||n!=n)}(t))return null;u=u||this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let f=r||this._defaultCurrencyCode;"code"!==i&&(f="symbol"===i||"symbol-narrow"===i?function Ni(n,e,t="en"){const r=function es(n){return(0,c.cg1)(n)[c.wAp.Currencies]}(t)[n]||ie[n]||[],i=r[1];return"narrow"===e&&"string"==typeof i?i:r[0]||n}(f,"symbol"===i?"wide":"narrow",u):i);try{return Mi(function Ha(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),u,f,r,a)}catch(_){throw Jn()}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.soG,16),c.Y36(c.EJc,16))},n.\u0275pipe=c.Yjl({name:"currency",type:n,pure:!0}),n})();let sr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function Ir(n){return"server"===n}let ql=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new Zl((0,c.LFG)(oe),window)}),n})();class Zl{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function $a(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const u=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(u)return u}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=bs(this.window.history)||bs(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function bs(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Js extends class ia extends class ge{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ee(n){Y||(Y=n)}(new Js)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Wd(){return yn=yn||document.querySelector("base"),yn?yn.getAttribute("href"):null}();return null==t?null:function No(n){Ao=Ao||document.createElement("a"),Ao.setAttribute("href",n);const e=Ao.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){yn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function ta(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let Ao,yn=null;const $r=new c.OlP("TRANSITION_ID"),Ga=[{provide:c.ip1,useFactory:function $n(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const r=k(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[$r,oe,c.zs3],multi:!0}];class $i{static init(){(0,c.VLi)(new $i)}addToWindow(e){c.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(r=>{const i=c.dqk.getAllAngularTestabilities();let a=i.length,u=!1;const f=function(_){u=u||_,a--,0==a&&r(u)};i.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?k().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Gr=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Xs=new c.OlP("EventManagerPlugins");let ws=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const u=i[a];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Xs),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class zl{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=k().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let di=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),eo=(()=>{class n extends di{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(a=>{const u=this._doc.createElement("style");u.textContent=a,i.push(r.appendChild(u))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(to),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(to))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(oe))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function to(n){k().remove(n)}const Ct={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Wl=/%COMP%/g;function De(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?De(n,i,t):(i=i.replace(Wl,n),t.push(i))}return t}function jt(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let In=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new sa(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case c.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new eu(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case c.ifc.ShadowDom:return new tu(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=De(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ws),c.LFG(eo),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class sa{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Ct[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=Ct[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Ct[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,r,i&c.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,jt(r)):this.eventManager.addEventListener(e,t,jt(r))}}class eu extends sa{constructor(e,t,r,i){super(e),this.component=r;const a=De(i+"-"+r.id,r.styles,[]);t.addStyles(a),this.contentAttr=function Qc(n){return"_ngcontent-%COMP%".replace(Wl,n)}(i+"-"+r.id),this.hostAttr=function Jc(n){return"_nghost-%COMP%".replace(Wl,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class tu extends sa{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=De(i.id,i.styles,[]);for(let u=0;u<a.length;u++){const f=document.createElement("style");f.textContent=a[u],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Kd=(()=>{class n extends zl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(oe))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const nu=["alt","control","meta","shift"],no={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ar={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Pi={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Xl=(()=>{class n extends zl{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),u=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>k().onAndCancel(t,a.domEventName,u))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let u="";if(nu.forEach(_=>{const b=r.indexOf(_);b>-1&&(r.splice(b,1),u+=_+".")}),u+=a,0!=r.length||0===a.length)return null;const f={};return f.domEventName=i,f.fullKey=u,f}static getEventFullKey(t){let r="",i=function ro(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Ar.hasOwnProperty(e)&&(e=Ar[e]))}return no[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),nu.forEach(a=>{a!=i&&Pi[a](t)&&(r+=a+".")}),r+=i,r}static eventCallback(t,r,i){return a=>{n.getEventFullKey(a)===t&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(oe))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const iu=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:"browser"},{provide:c.g9A,useValue:function Gi(){Js.makeCurrent(),$i.init()},multi:!0},{provide:oe,useFactory:function ec(){return(0,c.RDi)(document),document},deps:[]}]),Za=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function ru(){return new c.qLn},deps:[]},{provide:Xs,useClass:Kd,multi:!0,deps:[oe,c.R0b,c.Lbi]},{provide:Xs,useClass:Xl,multi:!0,deps:[oe]},{provide:In,useClass:In,deps:[ws,eo,c.AFp]},{provide:c.FYo,useExisting:In},{provide:di,useExisting:eo},{provide:eo,useClass:eo,deps:[oe]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b]},{provide:ws,useClass:ws,deps:[Xs,c.R0b]},{provide:class En{},useClass:Gr,deps:[]}];let aa=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:$r,useExisting:c.AFp},Ga]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(n,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:Za,imports:[sr,c.hGG]}),n})(),io=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(oe))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function nc(){return new io((0,c.LFG)(oe))}(),r},providedIn:"root"}),n})();"undefined"!=typeof window&&window;var fi=R(2011),qt=R(7579),rs=R(3269),Xt=R(8996);function gt(...n){const e=(0,rs.yG)(n);return(0,Xt.D)(n,e)}var Gn=R(8306),ca=R(6451),Wa=R(5363),Zt=R(8421),mr=R(4482),cn=R(5403);function xn(n,e){return(0,mr.e)((t,r)=>{let i=null,a=0,u=!1;const f=()=>u&&!i&&r.complete();t.subscribe((0,cn.x)(r,_=>{null==i||i.unsubscribe();let b=0;const T=a++;(0,Zt.Xf)(n(_,T)).subscribe(i=(0,cn.x)(r,I=>r.next(e?e(_,I,T,b++):I),()=>{i=null,f()}))},()=>{u=!0,f()}))})}var pt=R(4004),am=R(6063);class rh extends qt.x{constructor(e=1/0,t=1/0,r=am.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:u}=this;t||(r.push(e),!i&&r.push(a.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let u=0;u<a.length&&!e.closed;u+=r?1:2)e.next(a[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const u=t.now();let f=0;for(let _=1;_<r.length&&r[_]<=u;_+=2)f=_;f&&r.splice(0,f+1)}}}var du=R(3099);function ih(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,du.B)({connector:()=>new rh(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}const Es=(0,R(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function An(n,e){return(0,mr.e)((t,r)=>{let i=0;t.subscribe((0,cn.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}var Ln=R(5698);function pi(n){return(0,mr.e)((e,t)=>{let r=!1;e.subscribe((0,cn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function ao(n=hu){return(0,mr.e)((e,t)=>{let r=!1;e.subscribe((0,cn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function hu(){return new Es}var Ri=R(4671);function Ts(n,e){const t=arguments.length>=2;return r=>r.pipe(n?An((i,a)=>n(i,a,r)):Ri.y,(0,Ln.q)(1),t?pi(e):ao(()=>new Es))}var ti=R(576);function lo(n,e){return(0,ti.m)(e)?xn(()=>n,e):xn(()=>n)}var Ka=R(9468),Mn=R(5813);R(5867);var ye=R(5861),Ss=R(9681),Xa=R(4859),Tt=R(2090),uo=R(1877);const Kf=new Map,cm={activated:!1,tokenObservers:[]},Po={initialized:!1,enabled:!1};function _r(n){return Kf.get(n)||cm}function ln(n,e){Kf.set(n,e)}function da(){return Po}class fo{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ye.Z)(function*(){t.stop();try{t.pending=new Tt.BH,yield function qi(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Tt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const er=new Tt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function mu(n){if(!_r(n).activated)throw er.create("use-before-activation",{appName:n.name})}function oc(n,e){return po.apply(this,arguments)}function po(){return(po=(0,ye.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const I=yield i.getHeartbeatsHeader();I&&(r["X-Firebase-Client"]=I)}const a={method:"POST",body:JSON.stringify(e),headers:r};let u,f;try{u=yield fetch(n,a)}catch(I){throw er.create("fetch-network-error",{originalErrorMessage:I.message})}if(200!==u.status)throw er.create("fetch-status-error",{httpStatus:u.status});try{f=yield u.json()}catch(I){throw er.create("fetch-parse-error",{originalErrorMessage:I.message})}const _=f.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw er.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const b=1e3*Number(_[1]),T=Date.now();return{token:f.token,expireTimeMillis:T+b,issuedAtTimeMillis:T}})).apply(this,arguments)}function ac(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const _i="firebase-app-check-store";let ni=null;function lc(){return ni||(ni=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(er.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(_i,{keyPath:"compositeKey"})}}catch(t){e(er.create("storage-open",{originalErrorMessage:t.message}))}}),ni)}function E(){return(E=(0,ye.Z)(function*(n,e){const r=(yield lc()).transaction(_i,"readwrite"),a=r.objectStore(_i).put({compositeKey:n,value:e});return new Promise((u,f)=>{a.onsuccess=_=>{u()},r.onerror=_=>{var b;f(er.create("storage-set",{originalErrorMessage:null===(b=_.target.error)||void 0===b?void 0:b.message}))}})})).apply(this,arguments)}const W=new uo.Yd("@firebase/app-check");function nt(n,e){return(0,Tt.hl)()?function vu(n,e){return function cc(n,e){return E.apply(this,arguments)}(function V(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{W.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function zt(){return da().enabled}function Pt(){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,ye.Z)(function*(){const n=da();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const fa={error:"UNKNOWN_ERROR"};function uc(n){return Tt.US.encodeString(JSON.stringify(n),!1)}function yi(n){return vi.apply(this,arguments)}function vi(){return(vi=(0,ye.Z)(function*(n,e=!1){const t=n.app;mu(t);const r=_r(t);let a,i=r.token;if(!i){const _=yield r.cachedTokenPromise;_&&Fo(_)&&(i=_)}if(!e&&i&&Fo(i))return{token:i.token};let f,u=!1;if(zt()){r.exchangeTokenPromise||(r.exchangeTokenPromise=oc(ac(t,yield Pt()),n.heartbeatServiceProvider).then(b=>(r.exchangeTokenPromise=void 0,b)),u=!0);const _=yield r.exchangeTokenPromise;return yield nt(t,_),ln(t,Object.assign(Object.assign({},r),{token:_})),{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(_=>(r.exchangeTokenPromise=void 0,_)),u=!0),i=yield r.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?W.warn(_.message):W.error(_),a=_}return i?(f={token:i.token},ln(t,Object.assign(Object.assign({},r),{token:i})),yield nt(t,i)):f=hm(a),u&&bu(t,f),f})).apply(this,arguments)}function Is(n,e){const t=_r(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),ln(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function Qf(n){const{app:e}=n,t=_r(e);let r=t.tokenRefresher;r||(r=function dm(n){const{app:e}=n;return new fo((0,ye.Z)(function*(){let r;if(r=_r(e).token?yield yi(n,!0):yield yi(n),r.error)throw r.error}),()=>!0,()=>{const t=_r(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),ln(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function bu(n,e){const t=_r(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function Fo(n){return n.expireTimeMillis-Date.now()>0}function hm(n){return{token:uc(fa),error:n}}class rv{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=_r(this.app);for(const t of e)Is(this.app,t.next);return Promise.resolve()}}const mm="app-check-internal";!function go(){(0,Ss._registerComponent)(new Xa.wA("app-check",n=>function iv(n,e){return new rv(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(mm).initialize()})),(0,Ss._registerComponent)(new Xa.wA(mm,n=>function pa(n){return{getToken:e=>yi(n,e),addTokenListener:e=>function os(n,e,t,r){const{app:i}=n,a=_r(i),u={next:t,error:r,type:e};if(ln(i,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,u]})),a.token&&Fo(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),Qf(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>Qf(n))}(n,"INTERNAL",e),removeTokenListener:e=>Is(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ss.registerVersion)("@firebase/app-check","0.5.7")}();class rp{constructor(){return(0,Mn.vb)("app-check")}}"undefined"!=typeof window&&window;var _h=R(127);const ip=new c.OlP("angularfire2.auth.use-emulator"),_v=new c.OlP("angularfire2.auth.settings"),sp=new c.OlP("angularfire2.auth.tenant-id"),yv=new c.OlP("angularfire2.auth.langugage-code"),vh=new c.OlP("angularfire2.auth.use-device-language"),bh=new c.OlP("angularfire.auth.persistence"),wh=(n,e,t,r,i,a,u,f)=>(0,fi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=i,a&&_.useDeviceLanguage(),u)for(const[b,T]of Object.entries(u))_.settings[b]=T;return f&&_.setPersistence(f),_},[t,r,i,a,u,f]);let Eu=(()=>{class n{constructor(t,r,i,a,u,f,_,b,T,I,x,F){const U=new qt.x,Z=gt(void 0).pipe((0,Wa.Q)(u.outsideAngular),xn(()=>a.runOutsideAngular(()=>Promise.resolve().then(R.bind(R,820)))),(0,pt.U)(()=>(0,fi.on)(t,a,r)),(0,pt.U)(se=>wh(se,a,f,b,T,I,_,x)),ih({bufferSize:1,refCount:!1}));if(Ir(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=gt(null);else{Z.pipe(Ts()).subscribe();const Pe=Z.pipe(xn(Ae=>Ae.getRedirectResult().then($e=>$e,()=>null)),Mn.iC,ih({bufferSize:1,refCount:!1})),Me=Z.pipe(xn(Ae=>new Gn.y($e=>({unsubscribe:a.runOutsideAngular(()=>Ae.onAuthStateChanged(ze=>$e.next(ze),ze=>$e.error(ze),()=>$e.complete()))})))),Re=Z.pipe(xn(Ae=>new Gn.y($e=>({unsubscribe:a.runOutsideAngular(()=>Ae.onIdTokenChanged(ze=>$e.next(ze),ze=>$e.error(ze),()=>$e.complete()))}))));this.authState=Pe.pipe(lo(Me),(0,Ka.R)(u.outsideAngular),(0,Wa.Q)(u.insideAngular)),this.user=Pe.pipe(lo(Re),(0,Ka.R)(u.outsideAngular),(0,Wa.Q)(u.insideAngular)),this.idToken=this.user.pipe(xn(Ae=>Ae?(0,Xt.D)(Ae.getIdToken()):gt(null))),this.idTokenResult=this.user.pipe(xn(Ae=>Ae?(0,Xt.D)(Ae.getIdTokenResult()):gt(null))),this.credential=(0,ca.T)(Pe,U,this.authState.pipe(An(Ae=>!Ae))).pipe((0,pt.U)(Ae=>(null==Ae?void 0:Ae.user)?Ae:null),(0,Ka.R)(u.outsideAngular),(0,Wa.Q)(u.insideAngular))}return(0,fi.pX)(this,Z,a,{spy:{apply:(se,Pe,Me)=>{(se.startsWith("signIn")||se.startsWith("createUser"))&&Me.then(Re=>U.next(Re))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(fi.Dh),c.LFG(fi.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Mn.HU),c.LFG(ip,8),c.LFG(_v,8),c.LFG(sp,8),c.LFG(yv,8),c.LFG(vh,8),c.LFG(bh,8),c.LFG(rp,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),vv=(()=>{class n{constructor(){_h.Z.registerVersion("angularfire",Mn.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Eu]}),n})();var nl=R(4986),Ch=R(8189);function rl(...n){return function bv(){return(0,Ch.J)(1)}()((0,Xt.D)(n,(0,rs.yG)(n)))}function Lo(...n){const e=(0,rs.yG)(n);return(0,mr.e)((t,r)=>{(e?rl(n,t,e):rl(n,t)).subscribe(r)})}function Dh(){return(0,mr.e)((n,e)=>{let t,r=!1;n.subscribe((0,cn.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}function Eh(n,e,t,r,i){return(a,u)=>{let f=t,_=e,b=0;a.subscribe((0,cn.x)(u,T=>{const I=b++;_=f?n(_,T,I):(f=!0,T),r&&u.next(_)},i&&(()=>{f&&u.next(_),u.complete()})))}}function ga(n,e){return(0,mr.e)(Eh(n,e,arguments.length>=2,!0))}function wv(n,e){return n===e}R(820);var rt,op=R(3942),Cv="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ns={},ap=ap||{},Ot=Cv||self;function Th(){}function Sh(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Tu(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var ym="closure_uid_"+(1e9*Math.random()>>>0),Su=0;function ri(n,e,t){return n.call.apply(n.bind,arguments)}function Iu(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function or(n,e,t){return(or=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ri:Iu).apply(null,arguments)}function mc(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function un(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,a){for(var u=Array(arguments.length-2),f=2;f<arguments.length;f++)u[f-2]=arguments[f];return e.prototype[i].apply(r,u)}}function Fi(){this.s=this.s,this.o=this.o}var Zi={};Fi.prototype.s=!1,Fi.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function Qw(n){return Object.prototype.hasOwnProperty.call(n,ym)&&n[ym]||(n[ym]=++Su)}(this);delete Zi[n]}},Fi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const _c=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Ih=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let a=0;a<r;a++)a in i&&e.call(t,i[a],a,n)};function Au(n){return Array.prototype.concat.apply([],arguments)}function Nu(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Mu(n){return/^[\s\xa0]*$/.test(n)}var ii,cp=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function bi(n,e){return-1!=n.indexOf(e)}function as(n,e){return n<e?-1:n>e?1:0}e:{var vm=Ot.navigator;if(vm){var Ah=vm.userAgent;if(Ah){ii=Ah;break e}}ii=""}function up(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function dp(n){const e={};for(const t in n)e[t]=n[t];return e}var Or="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Nh(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<Or.length;a++)t=Or[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Ou(n){return Ou[" "](n),n}Ou[" "]=Th;var xh,n,Vo=bi(ii,"Opera"),mo=bi(ii,"Trident")||bi(ii,"MSIE"),Mh=bi(ii,"Edge"),Oh=Mh||mo,bm=bi(ii,"Gecko")&&!(bi(ii.toLowerCase(),"webkit")&&!bi(ii,"Edge"))&&!(bi(ii,"Trident")||bi(ii,"MSIE"))&&!bi(ii,"Edge"),hp=bi(ii.toLowerCase(),"webkit")&&!bi(ii,"Edge");function wm(){var n=Ot.document;return n?n.documentMode:void 0}e:{var Ph="",fp=(n=ii,bm?/rv:([^\);]+)(\)|;)/.exec(n):Mh?/Edge\/([\d\.]+)/.exec(n):mo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):hp?/WebKit\/(\S+)/.exec(n):Vo?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(fp&&(Ph=fp?fp[1]:""),mo){var y=wm();if(null!=y&&y>parseFloat(Ph)){xh=String(y);break e}}xh=Ph}var p={};var P=Ot.document&&mo&&(wm()||parseInt(xh,10))||void 0,z=function(){if(!Ot.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ot.addEventListener("test",Th,e),Ot.removeEventListener("test",Th,e)}catch(t){}return n}();function te(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function je(n,e){if(te.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(bm){e:{try{Ou(e.nodeName);var i=!0;break e}catch(a){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:ot[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&je.Z.h.call(this)}}te.prototype.h=function(){this.defaultPrevented=!0},un(je,te);var ot={2:"touch",3:"pen",4:"mouse"};je.prototype.h=function(){je.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var vt="closure_listenable_"+(1e6*Math.random()|0),mt=0;function Vn(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++mt,this.ca=this.fa=!1}function wi(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function ma(n){this.src=n,this.g={},this.h=0}function yc(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=_c(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(wi(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function il(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.ca&&a.listener==e&&a.capture==!!t&&a.ia==r)return i}return-1}ma.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var u=il(n,e,r,i);return-1<u?(e=n[u],t||(e.fa=!1)):((e=new Vn(e,this.src,a,!!r,i)).fa=t,n.push(e)),e};var xu="closure_lm_"+(1e6*Math.random()|0),pp={};function Bo(n,e,t,r,i){if(r&&r.once)return Rh(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)Bo(n,e[a],t,r,i);return null}return t=Av(t),n&&n[vt]?n.N(e,t,Tu(r)?!!r.capture:!!r,i):Pu(n,e,t,!1,r,i)}function Pu(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var u=Tu(i)?!!i.capture:!!i,f=Sv(n);if(f||(n[xu]=f=new ma(n)),(t=f.add(e,t,r,u,a)).proxy)return t;if(r=function gp(){var e=Tv;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)z||(i=u),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(kh(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Rh(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)Rh(n,e[a],t,r,i);return null}return t=Av(t),n&&n[vt]?n.O(e,t,Tu(r)?!!r.capture:!!r,i):Pu(n,e,t,!0,r,i)}function Ru(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)Ru(n,e[a],t,r,i);else r=Tu(r)?!!r.capture:!!r,t=Av(t),n&&n[vt]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=il(a=n.g[e],t,r,i))&&(wi(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=Sv(n))&&(e=n.g[e.toString()],n=-1,e&&(n=il(e,t,r,i)),(t=-1<n?e[n]:null)&&mp(t))}function mp(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[vt])yc(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(kh(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Sv(e))?(yc(t,n),0==t.h&&(t.src=null,e[xu]=null)):wi(n)}}}function kh(n){return n in pp?pp[n]:pp[n]="on"+n}function Tv(n,e){if(n.ca)n=!0;else{e=new je(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&mp(n),n=t.call(r,e)}return n}function Sv(n){return(n=n[xu])instanceof ma?n:null}var Iv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Av(n){return"function"==typeof n?n:(n[Iv]||(n[Iv]=function(e){return n.handleEvent(e)}),n[Iv])}function Zr(){Fi.call(this),this.i=new ma(this),this.P=this,this.I=null}function zr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new te(e,n);else if(e instanceof te)e.target=e.target||n;else{var i=e;Nh(e=new te(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var u=e.g=t[a];i=_p(u,r,!0,e)&&i}if(i=_p(u=e.g=n,r,!0,e)&&i,i=_p(u,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=_p(u=e.g=t[a],r,!1,e)&&i}function _p(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var u=e[a];if(u&&!u.ca&&u.capture==t){var f=u.listener,_=u.ia||u.src;u.fa&&yc(n.i,u),i=!1!==f.call(_,r)&&i}}return i&&!r.defaultPrevented}un(Zr,Fi),Zr.prototype[vt]=!0,Zr.prototype.removeEventListener=function(n,e,t,r){Ru(this,n,e,t,r)},Zr.prototype.M=function(){if(Zr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)wi(t[r]);delete n.g[e],n.h--}}this.I=null},Zr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Zr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var yp=Ot.JSON.stringify;function lT(){var n=Xw;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Dm,Nv=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Jw,n=>n.reset());class Jw{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function ku(n){Ot.setTimeout(()=>{throw n},0)}function Cm(n,e){Dm||function uT(){var n=Ot.Promise.resolve(void 0);Dm=function(){n.then(e1)}}(),Fh||(Dm(),Fh=!0),Xw.add(n,e)}var Fh=!1,Xw=new class cT{constructor(){this.h=this.g=null}add(e,t){const r=Nv.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function e1(){for(var n;n=lT();){try{n.h.call(n.g)}catch(t){ku(t)}var e=Nv;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Fh=!1}function vp(n,e){Zr.call(this),this.h=n||1,this.g=e||Ot,this.j=or(this.kb,this),this.l=Date.now()}function Em(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function bp(n,e,t){if("function"==typeof n)t&&(n=or(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=or(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ot.setTimeout(n,e||0)}function Mv(n){n.g=bp(()=>{n.g=null,n.i&&(n.i=!1,Mv(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}un(vp,Zr),(rt=vp.prototype).da=!1,rt.S=null,rt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),zr(this,"tick"),this.da&&(Em(this),this.start()))}},rt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},rt.M=function(){vp.Z.M.call(this),Em(this),delete this.g};class Tm extends Fi{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Mv(this)}M(){super.M(),this.g&&(Ot.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vc(n){Fi.call(this),this.h=n,this.g={}}un(vc,Fi);var Ov=[];function Sm(n,e,t,r){Array.isArray(t)||(t&&(Ov[0]=t.toString()),t=Ov);for(var i=0;i<t.length;i++){var a=Bo(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function xv(n){up(n.g,function(e,t){this.g.hasOwnProperty(t)&&mp(e)},n),n.g={}}function Lh(){this.g=!0}function Fu(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function fT(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var u=1;u<i.length;u++)i[u]=""}}}return yp(t)}catch(f){return e}}(n,t)+(r?" "+r:"")})}vc.prototype.M=function(){vc.Z.M.call(this),xv(this)},vc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Lh.prototype.Aa=function(){this.g=!1},Lh.prototype.info=function(){};var bc={},Im=null;function Cp(){return Im=Im||new Zr}function pT(n){te.call(this,bc.Ma,n)}function Vh(n){const e=Cp();zr(e,new pT(e,n))}function t1(n,e){te.call(this,bc.STAT_EVENT,n),this.stat=e}function Li(n){const e=Cp();zr(e,new t1(e,n))}function n1(n,e){te.call(this,bc.Na,n),this.size=e}function Dp(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ot.setTimeout(function(){n()},e)}bc.Ma="serverreachability",un(pT,te),bc.STAT_EVENT="statevent",un(t1,te),bc.Na="timingevent",un(n1,te);var ls={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},r1={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Am(){}function s1(){}Am.prototype.h=null;var Rv,Ep={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Pv(){te.call(this,"d")}function Nm(){te.call(this,"c")}function Mm(){}function Tp(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new vc(this),this.P=o1,this.W=new vp(n=Oh?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Ft}function Ft(){this.i=null,this.g="",this.h=!1}un(Pv,te),un(Nm,te),un(Mm,Am),Mm.prototype.g=function(){return new XMLHttpRequest},Mm.prototype.i=function(){return{}},Rv=new Mm;var o1=45e3,Om={},Sp={};function Bh(n,e,t){n.K=1,n.v=Lv(al(e)),n.s=t,n.U=!0,_o(n,null)}function _o(n,e){n.F=Date.now(),Ms(n),n.A=al(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),ll(t.h,"t",r),n.C=0,t=n.l.H,n.h=new Ft,n.g=zm(n.l,t?e:null,!n.s),0<n.O&&(n.L=new Tm(or(n.Ia,n,n.g),n.O)),Sm(n.V,n.g,"readystatechange",n.gb),e=n.H?dp(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Vh(1),function wp(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var u="",f=a.split("&"),_=0;_<f.length;_++){var b=f[_].split("=");if(1<b.length){var T=b[0];b=b[1];var I=T.split("_");u=2<=I.length&&"type"==I[1]?u+(T+"=")+b+"&":u+(T+"=redacted&")}}else u=null;else u=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.X,n.s)}function kv(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function a1(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=Fv(n,t),i==Sp){4==e&&(n.o=4,Li(14),r=!1),Fu(n.j,n.m,null,"[Incomplete Response]");break}if(i==Om){n.o=4,Li(15),Fu(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Fu(n.j,n.m,i,null),Pm(n,i)}kv(n)&&i!=Sp&&i!=Om&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Li(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Zv(e),e.L=!0,Li(11))):(Fu(n.j,n.m,t,"[Invalid Chunked Response]"),Uh(n),Lu(n))}function Fv(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Sp:(t=Number(e.substring(t,r)),isNaN(t)?Om:(r+=1)+t>e.length?Sp:(e=e.substr(r,t),n.C=r+t,e))}function Ms(n){n.Y=Date.now()+n.P,xm(n,n.P)}function xm(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Dp(or(n.eb,n),e)}function Ip(n){n.B&&(Ot.clearTimeout(n.B),n.B=null)}function Lu(n){0==n.l.G||n.I||E1(n.l,n)}function Uh(n){Ip(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Em(n.W),xv(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Pm(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||_a(t.i,n)))if(t.I=n.N,!n.J&&_a(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(b){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=Dp(or(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Zm(t),Hv(t)}qm(t),Li(18)}if(1>=h1(t.i)&&t.ka){try{t.ka()}catch(b){}t.ka=void 0}}else Ec(t,11)}else if((n.J||t.g==n)&&Zm(t),!Mu(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let b=i[e];if(t.U=b[0],b=b[1],2==t.G)if("c"==b[0]){t.J=b[1],t.la=b[2];const T=b[3];null!=T&&(t.ma=T,t.h.info("VER="+t.ma));const I=b[4];null!=I&&(t.za=I,t.h.info("SVER="+t.za));const x=b[5];null!=x&&"number"==typeof x&&0<x&&(t.K=r=1.5*x,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const F=n.g;if(F){const U=F.g?F.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(U){var a=r.i;!a.g&&(bi(U,"spdy")||bi(U,"quic")||bi(U,"h2"))&&(a.j=a.l,a.g=new Set,a.h&&(Um(a,a.h),a.h=null))}if(r.D){const Z=F.g?F.g.getResponseHeader("X-HTTP-Session-Id"):null;Z&&(r.sa=Z,Wn(r.F,r.D,Z))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var u=n;if((r=t).oa=Uo(r,r.H?r.la:null,r.W),u.J){f1(r.i,u);var f=u,_=r.K;_&&f.setTimeout(_),f.B&&(Ip(f),Ms(f)),r.g=u}else D1(r);0<t.l.length&&Gm(t)}else"stop"!=b[0]&&"close"!=b[0]||Ec(t,7);else 3==t.G&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?Ec(t,7):b1(t):"noop"!=b[0]&&t.j&&t.j.wa(b),t.A=0)}Vh(4)}catch(b){}}function jh(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Sh(n)||"string"==typeof n)Ih(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Sh(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function gN(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Sh(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}}function sl(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof sl)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function Ap(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];ol(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)ol(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function ol(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(rt=Tp.prototype).setTimeout=function(n){this.P=n},rt.gb=function(n){n=n.target;const e=this.L;e&&3==ba(n)?e.l():this.Ia(n)},rt.Ia=function(n){try{if(n==this.g)e:{const T=ba(this.g);var e=this.g.Da();const I=this.g.ba();if(!(3>T)&&(3!=T||Oh||this.g&&(this.h.h||this.g.ga()||y1(this.g)))){this.I||4!=T||7==e||Vh(8==e||0>=I?3:2),Ip(this);var t=this.g.ba();this.N=t;t:if(kv(this)){var r=y1(this.g);n="";var i=r.length,a=4==ba(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Uh(this),Lu(this);var u="";break t}this.h.i=new Ot.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==t,function dT(n,e,t,r,i,a,u){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+u})}(this.j,this.u,this.A,this.m,this.X,T,t),this.i){if(this.$&&!this.J){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Mu(f)){var b=f;break t}}b=null}if(!(t=b)){this.i=!1,this.o=3,Li(12),Uh(this),Lu(this);break e}Fu(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Pm(this,t)}this.U?(a1(this,T,u),Oh&&this.i&&3==T&&(Sm(this.V,this.W,"tick",this.fb),this.W.start())):(Fu(this.j,this.m,u,null),Pm(this,u)),4==T&&Uh(this),this.i&&!this.I&&(4==T?E1(this.l,this):(this.i=!1,Ms(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,Li(12)):(this.o=0,Li(13)),Uh(this),Lu(this)}}}catch(T){}},rt.fb=function(){if(this.g){var n=ba(this.g),e=this.g.ga();this.C<e.length&&(Ip(this),a1(this,n,e),this.i&&4!=n&&Ms(this))}},rt.cancel=function(){this.I=!0,Uh(this)},rt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function hT(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Vh(3),Li(17)),Uh(this),this.o=2,Lu(this)):xm(this,this.Y-n)},(rt=sl.prototype).R=function(){Ap(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},rt.T=function(){return Ap(this),this.g.concat()},rt.get=function(n,e){return ol(this.h,n)?this.h[n]:e},rt.set=function(n,e){ol(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},rt.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],a=this.get(i);n.call(e,a,i,this)}};var Rm=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Vu(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Vu){this.g=void 0!==e?e:n.g,km(this,n.j),this.s=n.s,Fm(this,n.i),Np(this,n.m),this.l=n.l,e=n.h;var t=new Lm;t.i=e.i,e.g&&(t.g=new sl(e.g),t.h=e.h),gT(this,t),this.o=n.o}else n&&(t=String(n).match(Rm))?(this.g=!!e,km(this,t[1]||"",!0),this.s=Mp(t[2]||""),Fm(this,t[3]||"",!0),Np(this,t[4]),this.l=Mp(t[5]||"",!0),gT(this,t[6]||"",!0),this.o=Mp(t[7]||"")):(this.g=!!e,this.h=new Lm(null,this.g))}function al(n){return new Vu(n)}function km(n,e,t){n.j=t?Mp(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Fm(n,e,t){n.i=t?Mp(e,!0):e}function Np(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function gT(n,e,t){e instanceof Lm?(n.h=e,function vT(n,e){e&&!n.j&&(Uu(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(_T(this,r),ll(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Bu(e,bN)),n.h=new Lm(e,n.g))}function Wn(n,e,t){n.h.set(e,t)}function Lv(n){return Wn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Mp(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Bu(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,_N),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function _N(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Vu.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Bu(e,mT,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Bu(e,mT,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Bu(t,"/"==t.charAt(0)?vN:yN,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Bu(t,wN)),n.join("")};var mT=/[#\/\?@]/g,yN=/[#\?:]/g,vN=/[#\?]/g,bN=/[#\?@]/g,wN=/#/g;function Lm(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Uu(n){n.g||(n.g=new sl,n.h=0,n.i&&function mN(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function _T(n,e){Uu(n),e=wc(n,e),ol(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,ol((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&Ap(n)))}function yT(n,e){return Uu(n),e=wc(n,e),ol(n.g.h,e)}function ll(n,e,t){_T(n,e),0<t.length&&(n.i=null,n.g.set(wc(n,e),Nu(t)),n.h+=t.length)}function wc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Vm(n){this.l=n||d1,n=Ot.PerformanceNavigationTiming?0<(n=Ot.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ot.g&&Ot.g.Ea&&Ot.g.Ea()&&Ot.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(rt=Lm.prototype).add=function(n,e){Uu(this),this.i=null,n=wc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},rt.forEach=function(n,e){Uu(this),this.g.forEach(function(t,r){Ih(t,function(i){n.call(e,i,r,this)},this)},this)},rt.T=function(){Uu(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],a=0;a<i.length;a++)t.push(e[r]);return t},rt.R=function(n){Uu(this);var e=[];if("string"==typeof n)yT(this,n)&&(e=Au(e,this.g.get(wc(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=Au(e,n[t])}return e},rt.set=function(n,e){return Uu(this),this.i=null,yT(this,n=wc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},rt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},rt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var u=i;""!==r[a]&&(u+="="+encodeURIComponent(String(r[a]))),n.push(u)}}return this.i=n.join("&")};var d1=10;function Bm(n){return!!n.h||!!n.g&&n.g.size>=n.j}function h1(n){return n.h?1:n.g?n.g.size:0}function _a(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Um(n,e){n.g?n.g.add(e):n.h=e}function f1(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function jm(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Nu(n.i)}function Vv(){}function p1(){this.g=new Vv}function bT(n,e,t){const r=t||"";try{jh(n,function(i,a){let u=i;Tu(i)&&(u=yp(i)),e.push(r+a+"="+encodeURIComponent(u))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Cc(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(a){}}function ya(n){this.l=n.$b||null,this.j=n.ib||!1}function Hh(n,e){Zr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Dc,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Vm.prototype.cancel=function(){if(this.i=jm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Vv.prototype.stringify=function(n){return Ot.JSON.stringify(n,void 0)},Vv.prototype.parse=function(n){return Ot.JSON.parse(n,void 0)},un(ya,Am),ya.prototype.g=function(){return new Hh(this.l,this.j)},ya.prototype.i=function(n){return function(){return n}}({}),un(Hh,Zr);var Dc=0;function $h(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function va(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Op(n)}function Op(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(rt=Hh.prototype).open=function(n,e){if(this.readyState!=Dc)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Op(this)},rt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Ot).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},rt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,va(this)),this.readyState=Dc},rt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Op(this)),this.g&&(this.readyState=3,Op(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ot.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;$h(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},rt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?va(this):Op(this),3==this.readyState&&$h(this)}},rt.Ua=function(n){this.g&&(this.response=this.responseText=n,va(this))},rt.Ta=function(n){this.g&&(this.response=n,va(this))},rt.ha=function(){this.g&&va(this)},rt.setRequestHeader=function(n,e){this.v.append(n,e)},rt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},rt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Hh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var g1=Ot.JSON.parse;function vr(n){Zr.call(this),this.headers=new sl,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Hm,this.K=this.L=!1}un(vr,Zr);var Hm="",Bv=/^https?$/i,m1=["POST","PUT"];function CT(n){return"content-type"==n.toLowerCase()}function Uv(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,DT(n),xp(n)}function DT(n){n.D||(n.D=!0,zr(n,"complete"),zr(n,"error"))}function jv(n){if(n.h&&void 0!==ap&&(!n.C[1]||4!=ba(n)||2!=n.ba()))if(n.v&&4==ba(n))bp(n.Fa,0,n);else if(zr(n,"readystatechange"),4==ba(n)){n.h=!1;try{const f=n.ba();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.H).match(Rm)[1]||null;if(!i&&Ot.self&&Ot.self.location){var a=Ot.self.location.protocol;i=a.substr(0,a.length-1)}r=!Bv.test(i?i.toLowerCase():"")}t=r}if(t)zr(n,"complete"),zr(n,"success");else{n.m=6;try{var u=2<ba(n)?n.g.statusText:""}catch(_){u=""}n.j=u+" ["+n.ba()+"]",DT(n)}}finally{xp(n)}}}function xp(n,e){if(n.g){_1(n);const t=n.g,r=n.C[0]?Th:null;n.g=null,n.C=null,e||zr(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function _1(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Ot.clearTimeout(n.A),n.A=null)}function ba(n){return n.g?n.g.readyState:0}function y1(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Hm:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function zi(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function ET(n){let e="";return up(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Wn(n,e,t))}function Pp(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function v1(n){this.za=0,this.l=[],this.h=new Lh,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Pp("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Pp("baseRetryDelayMs",5e3,n),this.$a=Pp("retryDelaySeedMs",1e4,n),this.Ya=Pp("forwardChannelMaxRetries",2,n),this.ra=Pp("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new Vm(n&&n.concurrentRequestLimit),this.Ca=new p1,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function b1(n){if($v(n),3==n.G){var e=n.V++,t=al(n.F);Wn(t,"SID",n.J),Wn(t,"RID",e),Wn(t,"TYPE","terminate"),Rp(n,t),(e=new Tp(n,n.h,e,void 0)).K=2,e.v=Lv(al(t)),t=!1,Ot.navigator&&Ot.navigator.sendBeacon&&(t=Ot.navigator.sendBeacon(e.v.toString(),"")),!t&&Ot.Image&&((new Image).src=e.v,t=!0),t||(e.g=zm(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Ms(e)}T1(n)}function Hv(n){n.g&&(Zv(n),n.g.cancel(),n.g=null)}function $v(n){Hv(n),n.u&&(Ot.clearTimeout(n.u),n.u=null),Zm(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ot.clearTimeout(n.m),n.m=null)}function w1(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Gm(n)}function Gm(n){Bm(n.i)||n.m||(n.m=!0,Cm(n.Ha,n),n.C=0)}function qv(n,e){var t;t=e?e.m:n.V++;const r=al(n.F);Wn(r,"SID",n.J),Wn(r,"RID",t),Wn(r,"AID",n.U),Rp(n,r),n.o&&n.s&&zi(r,n.o,n.s),t=new Tp(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=C1(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Um(n.i,t),Bh(t,r,e)}function Rp(n,e){n.j&&jh({},function(t,r){Wn(e,r,t)})}function C1(n,e,t){t=Math.min(n.l.length,t);var r=n.j?or(n.j.Oa,n.j,n):null;e:{var i=n.l;let a=-1;for(;;){const u=["count="+t];-1==a?0<t?(a=i[0].h,u.push("ofs="+a)):a=0:u.push("ofs="+a);let f=!0;for(let _=0;_<t;_++){let b=i[_].h;const T=i[_].g;if(b-=a,0>b)a=Math.max(0,i[_].h-100),f=!1;else try{bT(T,u,"req"+b+"_")}catch(I){r&&r(T)}}if(f){r=u.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function D1(n){n.g||n.u||(n.Y=1,Cm(n.Ga,n),n.A=0)}function qm(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Dp(or(n.Ga,n),Wv(n,n.A)),n.A++,0))}function Zv(n){null!=n.B&&(Ot.clearTimeout(n.B),n.B=null)}function zv(n){n.g=new Tp(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=al(n.oa);Wn(e,"RID","rpc"),Wn(e,"SID",n.J),Wn(e,"CI",n.N?"0":"1"),Wn(e,"AID",n.U),Rp(n,e),Wn(e,"TYPE","xmlhttp"),n.o&&n.s&&zi(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Lv(al(e)),t.s=null,t.U=!0,_o(t,n)}function Zm(n){null!=n.v&&(Ot.clearTimeout(n.v),n.v=null)}function E1(n,e){var t=null;if(n.g==e){Zm(n),Zv(n),n.g=null;var r=2}else{if(!_a(n.i,e))return;t=e.D,f1(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;zr(r=Cp(),new n1(r,t,e,i)),Gm(n)}else D1(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function Gv(n,e){return!(h1(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Dp(or(n.Ha,n,e),Wv(n,n.C)),n.C++,0)))}(n,e)||2==r&&qm(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Ec(n,5);break;case 4:Ec(n,10);break;case 3:Ec(n,6);break;default:Ec(n,2)}}function Wv(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Ec(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=or(n.jb,n);t||(t=new Vu("//www.google.com/images/cleardot.gif"),Ot.location&&"http"==Ot.location.protocol||km(t,"https"),Lv(t)),function wT(n,e){const t=new Lh;if(Ot.Image){const r=new Image;r.onload=mc(Cc,t,r,"TestLoadImage: loaded",!0,e),r.onerror=mc(Cc,t,r,"TestLoadImage: error",!1,e),r.onabort=mc(Cc,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=mc(Cc,t,r,"TestLoadImage: timeout",!1,e),Ot.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Li(2);n.G=0,n.j&&n.j.va(e),T1(n),$v(n)}function T1(n){n.G=0,n.I=-1,n.j&&((0!=jm(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Nu(n.l),n.l.length=0),n.j.ua())}function Uo(n,e,t){let r=function l1(n){return n instanceof Vu?al(n):new Vu(n,void 0)}(t);if(""!=r.i)e&&Fm(r,e+"."+r.i),Np(r,r.m);else{const i=Ot.location;r=function c1(n,e,t,r){var i=new Vu(null,void 0);return n&&km(i,n),e&&Fm(i,e),t&&Np(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&up(n.aa,function(i,a){Wn(r,a,i)}),t=n.sa,(e=n.D)&&t&&Wn(r,e,t),Wn(r,"VER",n.ma),Rp(n,r),r}function zm(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new vr(t&&n.Ba&&!n.qa?new ya({ib:!0}):n.qa)).L=n.H,e}function S1(){}function Wm(){if(mo&&!(10<=Number(P)))throw Error("Environmental error: no available transport.")}function yo(n,e){Zr.call(this),this.g=new v1(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Mu(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Mu(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Gh(this)}function Kv(n){Pv.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function I1(){Nm.call(this),this.status=1}function Gh(n){this.g=n}(rt=vr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Rv.g(),this.C=function i1(n){return n.h||(n.h=n.i())}(this.u?this.u:Rv),this.g.onreadystatechange=or(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void Uv(this,a)}n=t||"";const i=new sl(this.headers);r&&jh(r,function(a,u){i.set(u,a)}),r=function Dv(n){e:{var e=CT;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=Ot.FormData&&n instanceof Ot.FormData,!(0<=_c(m1,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(a,u){this.g.setRequestHeader(u,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{_1(this),0<this.B&&((this.K=function $m(n){return mo&&function m(){return function Ev(n){var e=p;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=cp(String(xh)).split("."),t=cp("9").split("."),r=Math.max(e.length,t.length);for(let u=0;0==n&&u<r;u++){var i=e[u]||"",a=t[u]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=as(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||as(0==i[2].length,0==a[2].length)||as(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=or(this.pa,this)):this.A=bp(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){Uv(this,a)}},rt.pa=function(){void 0!==ap&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,zr(this,"timeout"),this.abort(8))},rt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,zr(this,"complete"),zr(this,"abort"),xp(this))},rt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),xp(this,!0)),vr.Z.M.call(this)},rt.Fa=function(){this.s||(this.F||this.v||this.l?jv(this):this.cb())},rt.cb=function(){jv(this)},rt.ba=function(){try{return 2<ba(this)?this.g.status:-1}catch(n){return-1}},rt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},rt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),g1(e)}},rt.Da=function(){return this.m},rt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(rt=v1.prototype).ma=8,rt.G=1,rt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},rt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new Tp(this,this.h,n,void 0);let a=this.s;if(this.P&&(a?(a=dp(a),Nh(a,this.P)):a=this.P),null===this.o&&(i.H=a),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=C1(this,i,e),Wn(t=al(this.F),"RID",n),Wn(t,"CVER",22),this.D&&Wn(t,"X-HTTP-Session-Id",this.D),Rp(this,t),this.o&&a&&zi(t,this.o,a),Um(this.i,i),this.Ra&&Wn(t,"TYPE","init"),this.ja?(Wn(t,"$req",e),Wn(t,"SID","null"),i.$=!0,Bh(i,t,null)):Bh(i,t,e),this.G=2}}else 3==this.G&&(n?qv(this,n):0==this.l.length||Bm(this.i)||qv(this))},rt.Ga=function(){if(this.u=null,zv(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Dp(or(this.bb,this),n)}},rt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Li(10),Hv(this),zv(this))},rt.ab=function(){null!=this.v&&(this.v=null,Hv(this),qm(this),Li(19))},rt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Li(2)):(this.h.info("Failed to ping google.com"),Li(1))},(rt=S1.prototype).xa=function(){},rt.wa=function(){},rt.va=function(){},rt.ua=function(){},rt.Oa=function(){},Wm.prototype.g=function(n,e){return new yo(n,e)},un(yo,Zr),yo.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Cm(or(n.hb,n,e))),Li(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=Uo(n,null,n.W),Gm(n)},yo.prototype.close=function(){b1(this.g)},yo.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,w1(this.g,e)}else this.v?((e={}).__data__=yp(n),w1(this.g,e)):w1(this.g,n)},yo.prototype.M=function(){this.g.j=null,delete this.j,b1(this.g),delete this.g,yo.Z.M.call(this)},un(Kv,Pv),un(I1,Nm),un(Gh,S1),Gh.prototype.xa=function(){zr(this.g,"a")},Gh.prototype.wa=function(n){zr(this.g,new Kv(n))},Gh.prototype.va=function(n){zr(this.g,new I1(n))},Gh.prototype.ua=function(){zr(this.g,"b")},Wm.prototype.createWebChannel=Wm.prototype.g,yo.prototype.send=yo.prototype.u,yo.prototype.open=yo.prototype.m,yo.prototype.close=yo.prototype.close,ls.NO_ERROR=0,ls.TIMEOUT=8,ls.HTTP_ERROR=6,r1.COMPLETE="complete",s1.EventType=Ep,Ep.OPEN="a",Ep.CLOSE="b",Ep.ERROR="c",Ep.MESSAGE="d",Zr.prototype.listen=Zr.prototype.N,vr.prototype.listenOnce=vr.prototype.O,vr.prototype.getLastError=vr.prototype.La,vr.prototype.getLastErrorCode=vr.prototype.Da,vr.prototype.getStatus=vr.prototype.ba,vr.prototype.getResponseJson=vr.prototype.Qa,vr.prototype.getResponseText=vr.prototype.ga,vr.prototype.send=vr.prototype.ea;var TT=Ns.createWebChannelTransport=function(){return new Wm},Yv=Ns.getStatEventTarget=function(){return Cp()},Qv=Ns.ErrorCode=ls,ST=Ns.EventType=r1,Km=Ns.Event=bc,Ym=Ns.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},IT=Ns.FetchXmlHttpFactory=ya,qh=Ns.WebChannel=s1,Jv=Ns.XhrIo=vr;const Xv="@firebase/firestore";class Ci{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ci.UNAUTHENTICATED=new Ci(null),Ci.GOOGLE_CREDENTIALS=new Ci("google-credentials-uid"),Ci.FIRST_PARTY=new Ci("first-party-uid"),Ci.MOCK_USER=new Ci("mock-user");let Zh="9.6.11";const wa=new uo.Yd("@firebase/firestore");function A1(){return wa.logLevel}function Le(n,...e){if(wa.logLevel<=uo.in.DEBUG){const t=e.map(Qm);wa.debug(`Firestore (${Zh}): ${n}`,...t)}}function br(n,...e){if(wa.logLevel<=uo.in.ERROR){const t=e.map(Qm);wa.error(`Firestore (${Zh}): ${n}`,...t)}}function zh(n,...e){if(wa.logLevel<=uo.in.WARN){const t=e.map(Qm);wa.warn(`Firestore (${Zh}): ${n}`,...t)}}function Qm(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function lt(n="Unexpected state"){const e=`FIRESTORE (${Zh}) INTERNAL ASSERTION FAILED: `+n;throw br(e),new Error(e)}function Dt(n,e){n||lt()}function Qe(n,e){return n}const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends Tt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class xr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class e0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class t0{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ci.UNAUTHENTICATED))}shutdown(){}}class kp{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class NT{constructor(e){this.t=e,this.currentUser=Ci.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=b=>this.i!==i?(i=this.i,t(b)):Promise.resolve();let u=new xr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new xr,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const b=u;e.enqueueRetryable((0,ye.Z)(function*(){yield b.promise,yield a(r.currentUser)}))},_=b=>{Le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(b=>_(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?_(b):(Le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new xr)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Dt("string"==typeof r.accessToken),new e0(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Dt(null===e||"string"==typeof e),new Ci(e)}}class n0{constructor(e,t,r){this.type="FirstParty",this.user=Ci.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class N1{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new n0(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ci.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class r0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class M1{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=a=>{null!=a.error&&Le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.p;return this.p=a.token,Le("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.g.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.g.getImmediate({optional:!0});a?i(a):Le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Dt("string"==typeof t.token),this.p=t.token,new r0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Wi{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function MT(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}Wi.A=-1;class O1{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=MT(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function Bt(n,e){return n<e?-1:n>e?1:0}function jo(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function s0(n){return n+"\0"}class wr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Oe(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Oe(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Oe(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return wr.fromMillis(Date.now())}static fromDate(e){return wr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new wr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Bt(this.nanoseconds,e.nanoseconds):Bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class xt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new xt(e)}static min(){return new xt(new wr(0,0))}static max(){return new xt(new wr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function ju(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Hu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function x1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Fp{constructor(e,t,r){void 0===t?t=0:t>e.length&&lt(),void 0===r?r=e.length-t:r>e.length-t&&lt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Fp.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Fp?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),u=t.get(i);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class dn extends Fp{construct(e,t,r){return new dn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Oe(ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new dn(t)}static emptyPath(){return new dn([])}}const Ca=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pr extends Fp{construct(e,t,r){return new Pr(e,t,r)}static isValidIdentifier(e){return Ca.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Pr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new Oe(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new Oe(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Oe(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,i+=2}else"`"===f?(u=!u,i++):"."!==f||u?(r+=f,i++):(a(),i++)}if(a(),u)throw new Oe(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pr(t)}static emptyPath(){return new Pr([])}}class $u{constructor(e){this.fields=e,e.sort(Pr.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return jo(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Rr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Rr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new Rr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rr.EMPTY_BYTE_STRING=new Rr("");const R1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Tc(n){if(Dt(!!n),"string"==typeof n){let e=0;const t=R1.exec(n);if(Dt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ar(n.seconds),nanos:ar(n.nanos)}}function ar(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Gu(n){return"string"==typeof n?Rr.fromBase64String(n):Rr.fromUint8Array(n)}function o0(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function a0(n){const e=n.mapValue.fields.__previous_value__;return o0(e)?a0(e):e}function Xm(n){const e=Tc(n.mapValue.fields.__local_write_time__.timestampValue);return new wr(e.seconds,e.nanos)}class k1{constructor(e,t,r,i,a,u,f,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.useFetchStreams=_}}class cl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new cl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof cl&&e.projectId===this.projectId&&e.database===this.database}}function qu(n){return null==n}function e_(n){return 0===n&&1/n==-1/0}function OT(n){return"number"==typeof n&&Number.isInteger(n)&&!e_(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Ge{constructor(e){this.path=e}static fromPath(e){return new Ge(dn.fromString(e))}static fromName(e){return new Ge(dn.fromString(e).popFirst(5))}static empty(){return new Ge(dn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===dn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return dn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ge(new dn(e.slice()))}}const F1={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},l0={nullValue:"NULL_VALUE"};function Sc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?o0(n)?4:L1(n)?9:10:lt()}function ul(n,e){if(n===e)return!0;const t=Sc(n);if(t!==Sc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Xm(n).isEqual(Xm(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=Tc(r.timestampValue),u=Tc(i.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Gu(n.bytesValue).isEqual(Gu(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return ar(r.geoPointValue.latitude)===ar(i.geoPointValue.latitude)&&ar(r.geoPointValue.longitude)===ar(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ar(r.integerValue)===ar(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=ar(r.doubleValue),u=ar(i.doubleValue);return a===u?e_(a)===e_(u):isNaN(a)&&isNaN(u)}return!1}(n,e);case 9:return jo(n.arrayValue.values||[],e.arrayValue.values||[],ul);case 10:return function(r,i){const a=r.mapValue.fields||{},u=i.mapValue.fields||{};if(ju(a)!==ju(u))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===u[f]||!ul(a[f],u[f])))return!1;return!0}(n,e);default:return lt()}var i}function Ki(n,e){return void 0!==(n.values||[]).find(t=>ul(t,e))}function Zu(n,e){if(n===e)return 0;const t=Sc(n),r=Sc(e);if(t!==r)return Bt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Bt(n.booleanValue,e.booleanValue);case 2:return function(i,a){const u=ar(i.integerValue||i.doubleValue),f=ar(a.integerValue||a.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,e);case 3:return xT(n.timestampValue,e.timestampValue);case 4:return xT(Xm(n),Xm(e));case 5:return Bt(n.stringValue,e.stringValue);case 6:return function(i,a){const u=Gu(i),f=Gu(a);return u.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const u=i.split("/"),f=a.split("/");for(let _=0;_<u.length&&_<f.length;_++){const b=Bt(u[_],f[_]);if(0!==b)return b}return Bt(u.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const u=Bt(ar(i.latitude),ar(a.latitude));return 0!==u?u:Bt(ar(i.longitude),ar(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const u=i.values||[],f=a.values||[];for(let _=0;_<u.length&&_<f.length;++_){const b=Zu(u[_],f[_]);if(b)return b}return Bt(u.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){const u=i.fields||{},f=Object.keys(u),_=a.fields||{},b=Object.keys(_);f.sort(),b.sort();for(let T=0;T<f.length&&T<b.length;++T){const I=Bt(f[T],b[T]);if(0!==I)return I;const x=Zu(u[f[T]],_[b[T]]);if(0!==x)return x}return Bt(f.length,b.length)}(n.mapValue,e.mapValue);default:throw lt()}}function xT(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Bt(n,e);const t=Tc(n),r=Tc(e),i=Bt(t.seconds,r.seconds);return 0!==i?i:Bt(t.nanos,r.nanos)}function zu(n){return t_(n)}function t_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Tc(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Gu(n.bytesValue).toBase64():"referenceValue"in n?Ge.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const u of r.values||[])a?a=!1:i+=",",i+=t_(u);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",u=!0;for(const f of i)u?u=!1:a+=",",a+=`${f}:${t_(r.fields[f])}`;return a+"}"}(n.mapValue):lt();var e}function Ic(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function c0(n){return!!n&&"integerValue"in n}function n_(n){return!!n&&"arrayValue"in n}function u0(n){return!!n&&"nullValue"in n}function r_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function i_(n){return!!n&&"mapValue"in n}function Wu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Hu(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Wu(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Wu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function L1(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function PT(n){return"nullValue"in n?l0:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Ic(cl.empty(),Ge.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:lt()}function RT(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Ic(cl.empty(),Ge.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?F1:lt()}function V1(n,e){return void 0===n?e:void 0===e||Zu(n,e)>0?n:e}function B1(n,e){return void 0===n?e:void 0===e||Zu(n,e)<0?n:e}class Vi{constructor(e){this.value=e}static empty(){return new Vi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!i_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wu(t)}setAll(e){let t=Pr.emptyPath(),r={},i=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const _=this.getFieldsMap(t);this.applyChanges(_,r,i),r={},i=[],t=f.popLast()}u?r[f.lastSegment()]=Wu(u):i.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());i_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ul(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];i_(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Hu(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Vi(Wu(this.value))}}function Lp(n){const e=[];return Hu(n.fields,(t,r)=>{const i=new Pr([t]);if(i_(r)){const a=Lp(r.mapValue).fields;if(0===a.length)e.push(i);else for(const u of a)e.push(i.child(u))}else e.push(i)}),new $u(e)}class Dn{constructor(e,t,r,i,a,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=a,this.documentState=u}static newInvalidDocument(e){return new Dn(e,0,xt.min(),xt.min(),Vi.empty(),0)}static newFoundDocument(e,t,r){return new Dn(e,1,t,xt.min(),r,0)}static newNoDocument(e,t){return new Dn(e,2,t,xt.min(),Vi.empty(),0)}static newUnknownDocument(e,t){return new Dn(e,3,t,xt.min(),Vi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class s_{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function Ku(n){return n.fields.find(e=>2===e.kind)}function Yu(n){return n.fields.filter(e=>2!==e.kind)}s_.UNKNOWN_ID=-1;class o_{constructor(e,t){this.fieldPath=e,this.kind=t}}class Qu{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Qu(0,Kn.min())}}function Ho(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=xt.fromTimestamp(1e9===r?new wr(t+1,0):new wr(t,r));return new Kn(i,Ge.empty(),e)}function Vp(n){return new Kn(n.readTime,n.key,-1)}class Kn{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Kn(xt.min(),Ge.empty(),-1)}static max(){return new Kn(xt.max(),Ge.empty(),-1)}}function Ju(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ge.comparator(n.documentKey,e.documentKey),0!==t?t:Bt(n.largestBatchId,e.largestBatchId))}class a_{constructor(e,t=null,r=[],i=[],a=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=u,this.endAt=f,this.P=null}}function Os(n,e=null,t=[],r=[],i=null,a=null,u=null){return new a_(n,e,t,r,i,a,u)}function dl(n){const e=Qe(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+zu(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),qu(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>zu(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>zu(r)).join(",")),e.P=t}return e.P}function Da(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!q1(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!ul(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!h0(n.startAt,e.startAt)&&h0(n.endAt,e.endAt)}function hl(n){return Ge.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function fl(n,e){return n.filters.filter(t=>t instanceof lr&&t.field.isEqual(e))}function Xu(n,e,t){let r,i=!0;for(const a of fl(n,e)){let u,f=!0;switch(a.op){case"<":case"<=":u=PT(a.value);break;case"==":case"in":case">=":u=a.value;break;case">":u=a.value,f=!1;break;case"!=":case"not-in":u=l0}V1(r,u)===u&&(r=u,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];V1(r,u)===u&&(r=u,i=t.inclusive);break}return{value:r,inclusive:i}}function ed(n,e,t){let r,i=!0;for(const a of fl(n,e)){let u,f=!0;switch(a.op){case">=":case">":u=RT(a.value),f=!1;break;case"==":case"in":case"<=":u=a.value;break;case"<":u=a.value,f=!1;break;case"!=":case"not-in":u=F1}B1(r,u)===u&&(r=u,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];B1(r,u)===u&&(r=u,i=t.inclusive);break}return{value:r,inclusive:i}}class lr extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new Kh(e,t,r):"array-contains"===t?new j1(e,r):"in"===t?new H1(e,r):"not-in"===t?new $1(e,r):"array-contains-any"===t?new G1(e,r):new lr(e,t,r)}static V(e,t,r){return"in"===t?new Yh(e,r):new U1(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Zu(t,this.value)):null!==t&&Sc(this.value)===Sc(t)&&this.v(Zu(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return lt()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Kh extends lr{constructor(e,t,r){super(e,t,r),this.key=Ge.fromName(r.referenceValue)}matches(e){const t=Ge.comparator(e.key,this.key);return this.v(t)}}class Yh extends lr{constructor(e,t){super(e,"in",t),this.keys=d0(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class U1 extends lr{constructor(e,t){super(e,"not-in",t),this.keys=d0(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function d0(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ge.fromName(r.referenceValue))}class j1 extends lr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return n_(t)&&Ki(t.arrayValue,this.value)}}class H1 extends lr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ki(this.value.arrayValue,t)}}class $1 extends lr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ki(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ki(this.value.arrayValue,t)}}class G1 extends lr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!n_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Ki(this.value.arrayValue,r))}}class pl{constructor(e,t){this.position=e,this.inclusive=t}}class td{constructor(e,t="asc"){this.field=e,this.dir=t}}function q1(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function Z1(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],u=n.position[i];if(r=a.field.isKeyField()?Ge.comparator(Ge.fromName(u.referenceValue),t.key):Zu(u,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function h0(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ul(n.position[t],e.position[t]))return!1;return!0}class gl{constructor(e,t=null,r=[],i=[],a=null,u="F",f=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=_,this.D=null,this.C=null}}function f0(n,e,t,r,i,a,u,f){return new gl(n,e,t,r,i,a,u,f)}function nd(n){return new gl(n)}function l_(n){return!qu(n.limit)&&"F"===n.limitType}function c_(n){return!qu(n.limit)&&"L"===n.limitType}function u_(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function p0(n){for(const e of n.filters)if(e.S())return e.field;return null}function d_(n){return null!==n.collectionGroup}function Qh(n){const e=Qe(n);if(null===e.D){e.D=[];const t=p0(e),r=u_(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new td(t)),e.D.push(new td(Pr.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.D.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new td(Pr.keyField(),a))}}}return e.D}function vo(n){const e=Qe(n);if(!e.C)if("F"===e.limitType)e.C=Os(e.path,e.collectionGroup,Qh(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of Qh(e))t.push(new td(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new pl(e.endAt.position,!e.endAt.inclusive):null,i=e.startAt?new pl(e.startAt.position,!e.startAt.inclusive):null;e.C=Os(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.C}function kT(n,e,t){return new gl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Bp(n,e){return Da(vo(n),vo(e))&&n.limitType===e.limitType}function h_(n){return`${dl(vo(n))}|lt:${n.limitType}`}function Up(n){return`Query(target=${function Wh(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${zu(r.value)}`;var r}).join(", ")}]`),qu(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>zu(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>zu(t)).join(",")),`Target(${e})`}(vo(n))}; limitType=${n.limitType})`}function g0(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Ge.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,u){const f=Z1(i,a,u);return i.inclusive?f<=0:f<0}(t.startAt,Qh(t),r)||t.endAt&&!function(i,a,u){const f=Z1(i,a,u);return i.inclusive?f>=0:f>0}(t.endAt,Qh(t),r)));var t,r}function FT(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function LT(n){return(e,t)=>{let r=!1;for(const i of Qh(n)){const a=DN(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function DN(n,e,t){const r=n.field.isKeyField()?Ge.comparator(e.key,t.key):function(i,a,u){const f=a.data.field(i),_=u.data.field(i);return null!==f&&null!==_?Zu(f,_):lt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return lt()}}function z1(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:e_(e)?"-0":e}}function m0(n){return{integerValue:""+n}}function VT(n,e){return OT(e)?m0(e):z1(n,e)}class f_{constructor(){this._=void 0}}function Jh(n,e,t){return n instanceof Xh?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof Ac?jp(n,e):n instanceof rd?y0(n,e):function(r,i){const a=_0(r,i),u=W1(a)+W1(r.k);return c0(a)&&c0(r.k)?m0(u):z1(r.M,u)}(n,e)}function BT(n,e,t){return n instanceof Ac?jp(n,e):n instanceof rd?y0(n,e):t}function _0(n,e){return n instanceof ef?c0(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Xh extends f_{}class Ac extends f_{constructor(e){super(),this.elements=e}}function jp(n,e){const t=K1(e);for(const r of n.elements)t.some(i=>ul(i,r))||t.push(r);return{arrayValue:{values:t}}}class rd extends f_{constructor(e){super(),this.elements=e}}function y0(n,e){let t=K1(e);for(const r of n.elements)t=t.filter(i=>!ul(i,r));return{arrayValue:{values:t}}}class ef extends f_{constructor(e,t){super(),this.M=e,this.k=t}}function W1(n){return ar(n.integerValue||n.doubleValue)}function K1(n){return n_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Hp{constructor(e,t){this.field=e,this.transform=t}}class Y1{constructor(e,t){this.version=e,this.transformResults=t}}class kr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new kr}static exists(e){return new kr(void 0,e)}static updateTime(e){return new kr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $p(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Gp{}function v0(n,e,t){n instanceof ml?function(r,i,a){const u=r.value.clone(),f=g_(r.fieldTransforms,i,a.transformResults);u.setAll(f),i.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Nc?function(r,i,a){if(!$p(r.precondition,i))return void i.convertToUnknownDocument(a.version);const u=g_(r.fieldTransforms,i,a.transformResults),f=i.data;f.setAll(p_(r)),f.setAll(u),i.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Q1(n,e,t){var i;n instanceof ml?function(r,i,a){if(!$p(r.precondition,i))return;const u=r.value.clone(),f=X1(r.fieldTransforms,a,i);u.setAll(f),i.convertToFoundDocument(jT(i),u).setHasLocalMutations()}(n,e,t):n instanceof Nc?function(r,i,a){if(!$p(r.precondition,i))return;const u=X1(r.fieldTransforms,a,i),f=i.data;f.setAll(p_(r)),f.setAll(u),i.convertToFoundDocument(jT(i),f).setHasLocalMutations()}(n,e,t):$p(n.precondition,i=e)&&i.convertToNoDocument(xt.min())}function b0(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=_0(r.transform,i||null);null!=a&&(null==t&&(t=Vi.empty()),t.set(r.field,a))}return t||null}function J1(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&jo(t,r,(i,a)=>function UT(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Ac&&r instanceof Ac||t instanceof rd&&r instanceof rd?jo(t.elements,r.elements,ul):t instanceof ef&&r instanceof ef?ul(t.k,r.k):t instanceof Xh&&r instanceof Xh);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function jT(n){return n.isFoundDocument()?n.version:xt.min()}class ml extends Gp{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class Nc extends Gp{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}}function p_(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function g_(n,e,t){const r=new Map;Dt(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],u=a.transform,f=e.data.field(a.field);r.set(a.field,BT(u,f,t[i]))}return r}function X1(n,e,t){const r=new Map;for(const i of n){const a=i.transform,u=t.data.field(i.field);r.set(i.field,Jh(a,u,e))}return r}class Mc extends Gp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class tf extends Gp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class w0{constructor(e){this.count=e}}var Wr,hn;function m_(n){switch(n){default:return lt();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0}}function __(n){if(void 0===n)return br("GRPC error has no .code"),ce.UNKNOWN;switch(n){case Wr.OK:return ce.OK;case Wr.CANCELLED:return ce.CANCELLED;case Wr.UNKNOWN:return ce.UNKNOWN;case Wr.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case Wr.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case Wr.INTERNAL:return ce.INTERNAL;case Wr.UNAVAILABLE:return ce.UNAVAILABLE;case Wr.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case Wr.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case Wr.NOT_FOUND:return ce.NOT_FOUND;case Wr.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case Wr.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case Wr.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case Wr.ABORTED:return ce.ABORTED;case Wr.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case Wr.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case Wr.DATA_LOSS:return ce.DATA_LOSS;default:return lt()}}(hn=Wr||(Wr={}))[hn.OK=0]="OK",hn[hn.CANCELLED=1]="CANCELLED",hn[hn.UNKNOWN=2]="UNKNOWN",hn[hn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",hn[hn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",hn[hn.NOT_FOUND=5]="NOT_FOUND",hn[hn.ALREADY_EXISTS=6]="ALREADY_EXISTS",hn[hn.PERMISSION_DENIED=7]="PERMISSION_DENIED",hn[hn.UNAUTHENTICATED=16]="UNAUTHENTICATED",hn[hn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",hn[hn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",hn[hn.ABORTED=10]="ABORTED",hn[hn.OUT_OF_RANGE=11]="OUT_OF_RANGE",hn[hn.UNIMPLEMENTED=12]="UNIMPLEMENTED",hn[hn.INTERNAL=13]="INTERNAL",hn[hn.UNAVAILABLE=14]="UNAVAILABLE",hn[hn.DATA_LOSS=15]="DATA_LOSS";class _l{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Hu(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return x1(this.inner)}size(){return this.innerSize}}class cr{constructor(e,t){this.comparator=e,this.root=t||si.EMPTY}insert(e,t){return new cr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,si.BLACK,null,null))}remove(e){return new cr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,si.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nf(this.root,e,this.comparator,!1)}getReverseIterator(){return new nf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nf(this.root,e,this.comparator,!0)}}class nf{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class si{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=null!=r?r:si.RED,this.left=null!=i?i:si.EMPTY,this.right=null!=a?a:si.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new si(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return si.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return si.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,si.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,si.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw lt();const e=this.left.check();if(e!==this.right.check())throw lt();return e+(this.isRed()?0:1)}}si.EMPTY=null,si.RED=!0,si.BLACK=!1,si.EMPTY=new class{constructor(){this.size=0}get key(){throw lt()}get value(){throw lt()}get color(){throw lt()}get left(){throw lt()}get right(){throw lt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new si(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pn{constructor(e){this.comparator=e,this.data=new cr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new y_(this.data.getIterator())}getIteratorFrom(e){return new y_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Pn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Pn(this.comparator);return t.data=e,t}}class y_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function id(n){return n.hasNext()?n.getNext():void 0}const HT=new cr(Ge.comparator);function xs(){return HT}const eC=new cr(Ge.comparator);function qp(){return eC}function rf(){return new _l(n=>n.toString(),(n,e)=>n.isEqual(e))}const $T=new cr(Ge.comparator),tC=new Pn(Ge.comparator);function vn(...n){let e=tC;for(const t of n)e=e.add(t);return e}const C0=new Pn(Bt);function sd(){return C0}class sf{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,af.createSynthesizedTargetChangeForCurrentChange(e,t)),new sf(xt.min(),r,sd(),xs(),vn())}}class af{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t){return new af(Rr.EMPTY_BYTE_STRING,t,vn(),vn(),vn())}}class Zp{constructor(e,t,r,i){this.O=e,this.removedTargetIds=t,this.key=r,this.F=i}}class D0{constructor(e,t){this.targetId=e,this.$=t}}class E0{constructor(e,t,r=Rr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class T0{constructor(){this.B=0,this.L=GT(),this.U=Rr.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=vn(),t=vn(),r=vn();return this.L.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:lt()}}),new af(this.U,this.q,e,t,r)}J(){this.K=!1,this.L=GT()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class nC{constructor(e){this.nt=e,this.st=new Map,this.it=xs(),this.rt=S0(),this.ot=new Pn(Bt)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:lt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,i)=>{this.ft(i)&&t(i)})}_t(e){const t=e.targetId,r=e.$.count,i=this.wt(t);if(i){const a=i.target;if(hl(a))if(0===r){const u=new Ge(a.path);this.ct(t,u,Dn.newNoDocument(u,xt.min()))}else Dt(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((a,u)=>{const f=this.wt(u);if(f){if(a.current&&hl(f.target)){const _=new Ge(f.target.path);null!==this.it.get(_)||this.It(u,_)||this.ct(u,_,Dn.newNoDocument(_,e))}a.j&&(t.set(u,a.H()),a.J())}});let r=vn();this.rt.forEach((a,u)=>{let f=!0;u.forEachWhile(_=>{const b=this.wt(_);return!b||2===b.purpose||(f=!1,!1)}),f&&(r=r.add(a))}),this.it.forEach((a,u)=>u.setReadTime(e));const i=new sf(e,t,this.ot,this.it,r);return this.it=xs(),this.rt=S0(),this.ot=new Pn(Bt),i}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,t)?i.Y(t,1):i.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new T0,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Pn(Bt),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Le("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new T0),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function S0(){return new cr(Ge.comparator)}function GT(){return new cr(Ge.comparator)}const qT={asc:"ASCENDING",desc:"DESCENDING"},ZT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class rC{constructor(e,t){this.databaseId=e,this.N=t}}function zp(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Fr(n,e){return n.N?e.toBase64():e.toUint8Array()}function iC(n,e){return zp(n,e.toTimestamp())}function oi(n){return Dt(!!n),xt.fromTimestamp(function(e){const t=Tc(e);return new wr(t.seconds,t.nanos)}(n))}function I0(n,e){return(t=n,new dn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function A0(n){const e=dn.fromString(n);return Dt(uf(e)),e}function Wp(n,e){return I0(n.databaseId,e.path)}function $o(n,e){const t=A0(e);if(t.get(1)!==n.databaseId.projectId)throw new Oe(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Oe(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ge(sC(t))}function v_(n,e){return I0(n.databaseId,e)}function od(n){const e=A0(n);return 4===e.length?dn.emptyPath():sC(e)}function Kp(n){return new dn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function sC(n){return Dt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function N0(n,e,t){return{name:Wp(n,e),fields:t.value.mapValue.fields}}function oC(n,e,t){const r=$o(n,e.name),i=oi(e.updateTime),a=new Vi({mapValue:{fields:e.fields}}),u=Dn.newFoundDocument(r,i,a);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function ad(n,e){let t;if(e instanceof ml)t={update:N0(n,e.key,e.value)};else if(e instanceof Mc)t={delete:Wp(n,e.key)};else if(e instanceof Nc)t={update:N0(n,e.key,e.data),updateMask:O0(e.fieldMask)};else{if(!(e instanceof tf))return lt();t={verify:Wp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const u=a.transform;if(u instanceof Xh)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Ac)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof rd)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof ef)return{fieldPath:a.field.canonicalString(),increment:u.k};throw lt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:iC(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:lt()),t;var i}function Yp(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?kr.updateTime(oi(i.updateTime)):void 0!==i.exists?kr.exists(i.exists):kr.none():kr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,u){let f=null;"setToServerValue"in u?(Dt("REQUEST_TIME"===u.setToServerValue),f=new Xh):"appendMissingElements"in u?f=new Ac(u.appendMissingElements.values||[]):"removeAllFromArray"in u?f=new rd(u.removeAllFromArray.values||[]):"increment"in u?f=new ef(a,u.increment):lt();const _=Pr.fromServerFormat(u.fieldPath);return new Hp(_,f)}(n,i)):[];var i;if(e.update){const i=$o(n,e.update.name),a=new Vi({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new $u((e.updateMask.fieldPaths||[]).map(b=>Pr.fromServerFormat(b)));return new Nc(i,a,u,t,r)}return new ml(i,a,t,r)}if(e.delete){const i=$o(n,e.delete);return new Mc(i,t)}if(e.verify){const i=$o(n,e.verify);return new tf(i,t)}return lt()}function lC(n,e){return{documents:[v_(n,e.path)]}}function M0(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=v_(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=v_(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(_){if(0===_.length)return;const b=_.map(T=>function(I){if("=="===I.op){if(r_(I.value))return{unaryFilter:{field:lf(I.field),op:"IS_NAN"}};if(u0(I.value))return{unaryFilter:{field:lf(I.field),op:"IS_NULL"}}}else if("!="===I.op){if(r_(I.value))return{unaryFilter:{field:lf(I.field),op:"IS_NOT_NAN"}};if(u0(I.value))return{unaryFilter:{field:lf(I.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lf(I.field),op:uC(I.op),value:I.value}}}(T));return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}(e.filters);i&&(t.structuredQuery.where=i);const a=function(_){if(0!==_.length)return _.map(b=>{return{field:lf((T=b).field),direction:cC(T.dir)};var T})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const u=(b=e.limit,n.N||qu(b)?b:{value:b});var b,f,_;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function Go(n){let e=od(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Dt(1===r);const T=t.from[0];T.allDescendants?i=T.collectionId:e=e.child(T.collectionId)}let a=[];t.where&&(a=bo(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(T=>{return new td(cf((I=T).field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction));var I}));let f=null;t.limit&&(f=function(T){let I;return I="object"==typeof T?T.value:T,qu(I)?null:I}(t.limit));let _=null;var T;t.startAt&&(_=new pl((T=t.startAt).values||[],!!T.before));let b=null;return t.endAt&&(b=function(T){return new pl(T.values||[],!T.before)}(t.endAt)),f0(e,i,u,a,f,"F",_,b)}function bo(n){return n?void 0!==n.unaryFilter?[WT(n)]:void 0!==n.fieldFilter?[zT(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>bo(e)).reduce((e,t)=>e.concat(t)):lt():[]}function cC(n){return qT[n]}function uC(n){return ZT[n]}function lf(n){return{fieldPath:n.canonicalString()}}function cf(n){return Pr.fromServerFormat(n.fieldPath)}function zT(n){return lr.create(cf(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return lt()}}(n.fieldFilter.op),n.fieldFilter.value)}function WT(n){switch(n.unaryFilter.op){case"IS_NAN":const e=cf(n.unaryFilter.field);return lr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=cf(n.unaryFilter.field);return lr.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=cf(n.unaryFilter.field);return lr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=cf(n.unaryFilter.field);return lr.create(i,"!=",{nullValue:"NULL_VALUE"});default:return lt()}}function O0(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function uf(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Yi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=hC(e)),e=dC(n.get(t),e);return hC(e)}function dC(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function hC(n){return n+"\x01\x01"}function Zo(n){const e=n.length;if(Dt(e>=2),2===e)return Dt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),dn.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const u=n.indexOf("\x01",a);switch((u<0||u>t)&&lt(),n.charAt(u+1)){case"\x01":const f=n.substring(a,u);let _;0===i.length?_=f:(i+=f,_=i,i=""),r.push(_);break;case"\x10":i+=n.substring(a,u),i+="\0";break;case"\x11":i+=n.substring(a,u+1);break;default:lt()}a=u+2}return new dn(r)}const x0=["userId","batchId"];function ld(n,e){return[n,Yi(e)]}function fC(n,e,t){return[n,Yi(e),t]}const pC={},gC=["prefixPath","collectionGroup","readTime","documentId"],P0=["prefixPath","collectionGroup","documentId"],b_=["collectionGroup","readTime","prefixPath","documentId"],mC=["canonicalId","targetId"],_C=["targetId","path"],yC=["path","targetId"],vC=["collectionId","parent"],bC=["indexId","uid"],wC=["uid","sequenceNumber"],CC=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],DC=["indexId","uid","orderedDocumentKey"],KT=["userId","collectionPath","documentId"],YT=["userId","collectionPath","largestBatchId"],QT=["userId","collectionGroup","largestBatchId"],EC=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],JT=[...EC,"documentOverlays"],TC=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],XT=[...TC,"indexConfiguration","indexState","indexEntries"],SC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&lt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new pe((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof pe?t:pe.resolve(t)}catch(t){return pe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):pe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):pe.reject(t)}static resolve(e){return new pe((t,r)=>{t(e)})}static reject(e){return new pe((t,r)=>{r(e)})}static waitFor(e){return new pe((t,r)=>{let i=0,a=0,u=!1;e.forEach(f=>{++i,f.next(()=>{++a,u&&a===i&&t()},_=>r(_))}),u=!0,a===i&&t()})}static or(e){let t=pe.resolve(!1);for(const r of e)t=t.next(i=>i?pe.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}}class w_{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new xr,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new Qp(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const i=C_(r.target.error);this.At.reject(new Qp(e,i))}}static open(e,t,r,i){try{return new w_(t,e.transaction(i,r))}catch(a){throw new Qp(t,a)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Le("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new tS(t)}}class zo{constructor(e,t,r){this.name=e,this.version=t,this.bt=r,12.2===zo.Vt((0,Tt.z$)())&&br("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Le("SimpleDb","Removing database:",e),ud(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,Tt.hl)())return!1;if(zo.St())return!0;const e=(0,Tt.z$)(),t=zo.Vt(e),r=0<t&&t<10,i=zo.Dt(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,ye.Z)(function*(){return t.db||(Le("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=u=>{r(u.target.result)},a.onblocked=()=>{i(new Qp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=u=>{const f=u.target.error;i("VersionError"===f.name?new Oe(ce.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Oe(ce.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new Qp(e,f))},a.onupgradeneeded=u=>{Le("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.bt.kt(u.target.result,a.transaction,u.oldVersion,t.version).next(()=>{Le("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,ye.Z)(function*(){const u="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.Nt(e);const _=w_.open(a.db,e,u?"readonly":"readwrite",r),b=i(_).next(T=>(_.Pt(),T)).catch(T=>(_.abort(T),pe.reject(T))).toPromise();return b.catch(()=>{}),yield _.Rt,b}catch(_){const b="FirebaseError"!==_.name&&f<3;if(Le("SimpleDb","Transaction failed with error:",_.message,"Retrying:",b),a.close(),!b)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class eS{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return ud(this.Ft.delete())}}class Qp extends Oe{constructor(e,t){super(ce.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function cd(n){return"IndexedDbTransactionError"===n.name}class tS{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Le("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Le("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ud(r)}add(e){return Le("SimpleDb","ADD",this.store.name,e,e),ud(this.store.add(e))}get(e){return ud(this.store.get(e)).next(t=>(void 0===t&&(t=null),Le("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Le("SimpleDb","DELETE",this.store.name,e),ud(this.store.delete(e))}count(){return Le("SimpleDb","COUNT",this.store.name),ud(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.Kt(i,(u,f)=>{a.push(f)}).next(()=>a)}{const i=this.store.getAll(r.range);return new pe((a,u)=>{i.onerror=f=>{u(f.target.error)},i.onsuccess=f=>{a(f.target.result)}})}}Gt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new pe((i,a)=>{r.onerror=u=>{a(u.target.error)},r.onsuccess=u=>{i(u.target.result)}})}Qt(e,t){Le("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const i=this.cursor(r);return this.Kt(i,(a,u,f)=>f.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Kt(i,t)}zt(e){const t=this.cursor({});return new pe((r,i)=>{t.onerror=a=>{const u=C_(a.target.error);i(u)},t.onsuccess=a=>{const u=a.target.result;u?e(u.primaryKey,u.value).next(f=>{f?u.continue():r()}):r()}})}Kt(e,t){const r=[];return new pe((i,a)=>{e.onerror=u=>{a(u.target.error)},e.onsuccess=u=>{const f=u.target.result;if(!f)return void i();const _=new eS(f),b=t(f.primaryKey,f.value,_);if(b instanceof pe){const T=b.catch(I=>(_.done(),pe.reject(I)));r.push(T)}_.isDone?i():null===_.Lt?f.continue():f.continue(_.Lt)}}).next(()=>pe.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ud(n){return new pe((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=C_(r.target.error);t(i)}})}let AC=!1;function C_(n){const e=zo.Vt((0,Tt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Oe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return AC||(AC=!0,setTimeout(()=>{throw r},0)),r}}return n}class R0 extends IC{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function Kr(n,e){const t=Qe(n);return zo.xt(t.Ht,e)}class D_{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&v0(a,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Q1(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Q1(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(xt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),vn())}isEqual(e){return this.batchId===e.batchId&&jo(this.mutations,e.mutations,(t,r)=>J1(t,r))&&jo(this.baseMutations,e.baseMutations,(t,r)=>J1(t,r))}}class E_{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Dt(e.mutations.length===r.length);let i=$T;const a=e.mutations;for(let u=0;u<a.length;u++)i=i.insert(a[u].key,r[u].version);return new E_(e,t,r,i)}}class T_{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class yl{constructor(e,t,r,i,a=xt.min(),u=xt.min(),f=Rr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f}withSequenceNumber(e){return new yl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new yl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new yl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class k0{constructor(e){this.Jt=e}}function S_(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Jp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Wp(i=n.Jt,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:zp(i,a.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Ps(e.version)};else{if(!e.isUnknownDocument())return lt();r.unknownDocument={path:t.path.toArray(),version:Ps(e.version)}}var i,a;return r}function Jp(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Ps(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function dd(n){const e=new wr(n.seconds,n.nanoseconds);return xt.fromTimestamp(e)}function df(n,e){const t=(e.baseMutations||[]).map(a=>Yp(n.Jt,a));for(let a=0;a<e.mutations.length-1;++a){const u=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(u.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const r=e.mutations.map(a=>Yp(n.Jt,a)),i=wr.fromMillis(e.localWriteTimeMs);return new D_(e.batchId,i,t,r)}function Ta(n){const e=dd(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?dd(n.lastLimboFreeSnapshotVersion):xt.min();let r;var i;return void 0!==n.query.documents?(Dt(1===(i=n.query).documents.length),r=vo(nd(od(i.documents[0])))):r=vo(Go(n.query)),new yl(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Rr.fromBase64String(n.resumeToken))}function nS(n,e){const t=Ps(e.snapshotVersion),r=Ps(e.lastLimboFreeSnapshotVersion);let i;i=hl(e.target)?lC(n.Jt,e.target):M0(n.Jt,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:dl(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Xp(n){const e=Go({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?kT(e,e.limit,"L"):e}function MC(n,e){return new T_(e.largestBatchId,Yp(n.Jt,e.overlayMutation))}function F0(n,e){const t=e.path.lastSegment();return[n,Yi(e.path.popLast()),t]}class OC{getBundleMetadata(e,t){return rS(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:dd(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return rS(e).put({bundleId:(r=t).id,createTime:Ps(oi(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return St(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:Xp(i.bundledQuery),readTime:dd(i.readTime)};var i})}saveNamedQuery(e,t){return St(e).put({name:(r=t).name,readTime:Ps(oi(r.readTime)),bundledQuery:r.bundledQuery});var r}}function rS(n){return Kr(n,"bundles")}function St(n){return Kr(n,"namedQueries")}class L0{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new L0(e,t.uid||"")}getOverlay(e,t){return eg(e).get(F0(this.userId,t)).next(r=>r?MC(this.M,r):null)}saveOverlays(e,t,r){const i=[];return r.forEach((a,u)=>{const f=new T_(t,u);i.push(this.Xt(e,f))}),pe.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(u=>i.add(Yi(u.getCollectionPath())));const a=[];return i.forEach(u=>{const f=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);a.push(eg(e).Qt("collectionPathOverlayIndex",f))}),pe.waitFor(a)}getOverlaysForCollection(e,t,r){const i=rf(),a=Yi(t),u=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return eg(e).qt("collectionPathOverlayIndex",u).next(f=>{for(const _ of f){const b=MC(this.M,_);i.set(b.getKey(),b)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=rf();let u;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return eg(e).Wt({index:"collectionGroupOverlayIndex",range:f},(_,b,T)=>{const I=MC(this.M,b);a.size()<i||I.largestBatchId===u?(a.set(I.getKey(),I),u=I.largestBatchId):T.done()}).next(()=>a)}Xt(e,t){return eg(e).put(function(r,i,a){const[u,f,_]=F0(i,a.mutation.key);return{userId:i,collectionPath:f,documentId:_,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:ad(r.Jt,a.mutation)}}(this.M,this.userId,t))}}function eg(n){return Kr(n,"documentOverlays")}class hd{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(ar(e.integerValue));else if("doubleValue"in e){const r=ar(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),e_(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Gu(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?L1(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):lt()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const i of Object.keys(r))this.re(i,t),this.te(r[i],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const i of r)this.te(i,t)}ae(e,t){this.ne(t,37),Ge.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function I_(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function xC(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=I_(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}hd.fe=new hd;class A_{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const i=t.codePointAt(0);this._e(240|i>>>18),this._e(128|63&i>>>12),this._e(128|63&i>>>6),this._e(128|63&i)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const i=t.codePointAt(0);this.ge(240|i>>>18),this.ge(128|63&i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i)}}this.ye()}Te(e){const t=this.Ee(e),r=xC(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Re(e){const t=this.Ee(e),r=xC(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Pe(){this.be(255),this.be(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.be(0),this.be(255)):255===t?(this.be(255),this.be(0)):this.be(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.be(0),this.be(1)}ye(){this.ve(0),this.ve(1)}be(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class N_{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.Pe()}}class ur{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class M_{constructor(){this.De=new A_,this.Ce=new N_(this.De),this.xe=new ur(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class vl{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new vl(this.indexId,this.documentKey,this.arrayValue,r)}}function fd(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=PC(n.arrayValue,e.arrayValue),0!==t?t:(t=PC(n.directionalValue,e.directionalValue),0!==t?t:Ge.comparator(n.documentKey,e.documentKey)))}function PC(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class RC{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=Ku(e);if(void 0!==t&&!this.Be(t))return!1;const r=Yu(e);let i=0,a=0;for(;i<r.length&&this.Be(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Fe){const u=r[i];if(!this.Le(this.Fe,u)||!this.Ue(this.Me[a++],u))return!1;++i}for(;i<r.length;++i){const u=r[i];if(a>=this.Me.length||!this.Ue(this.Me[a++],u))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class kC{constructor(){this.qe=new O_}addToCollectionParentIndex(e,t){return this.qe.add(t),pe.resolve()}getCollectionParents(e,t){return pe.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return pe.resolve()}deleteFieldIndex(e,t){return pe.resolve()}getDocumentsMatchingTarget(e,t){return pe.resolve(null)}getFieldIndex(e,t){return pe.resolve(null)}getFieldIndexes(e,t){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}updateCollectionGroup(e,t,r){return pe.resolve()}updateIndexEntries(e,t){return pe.resolve()}}class O_{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Pn(dn.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Pn(dn.comparator)).toArray()}}const pd=new Uint8Array(0);class iS{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new O_,this.Ge=new _l(r=>dl(r),(r,i)=>Da(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const a={collectionId:r,parent:Yi(i)};return FC(e).put(a)}return pe.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[s0(t),""],!1,!0);return FC(e).qt(i).next(a=>{for(const u of a){if(u.collectionId!==t)break;r.push(Zo(u.parent))}return r})}addFieldIndex(e,t){const r=Oc(e),i={indexId:(a=t).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])};var a;return delete i.indexId,r.add(i).next()}deleteFieldIndex(e,t){const r=Oc(e),i=x_(e),a=tg(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=tg(e);let i=!0;const a=new Map;return pe.forEach(this.Qe(t),u=>this.getFieldIndex(e,u).next(f=>{i&&(i=!!f),a.set(u,f)})).next(()=>{if(i){let u=vn();const f=[];return pe.forEach(a,(_,b)=>{var T;Le("IndexedDbIndexManager",`Using index ${T=_,`id=${T.indexId}|cg=${T.collectionGroup}|f=${T.fields.map(Re=>`${Re.fieldPath}:${Re.kind}`).join(",")}`} to execute ${dl(t)}`);const I=function(Re,Ae){const $e=Ku(Ae);if(void 0===$e)return null;for(const ze of fl(Re,$e.fieldPath))switch(ze.op){case"array-contains-any":return ze.value.arrayValue.values||[];case"array-contains":return[ze.value]}return null}(b,_),x=function(Re,Ae){const $e=new Map;for(const ze of Yu(Ae))for(const ut of fl(Re,ze.fieldPath))switch(ut.op){case"==":case"in":$e.set(ze.fieldPath.canonicalString(),ut.value);break;case"not-in":case"!=":return $e.set(ze.fieldPath.canonicalString(),ut.value),Array.from($e.values())}return null}(b,_),F=function(Re,Ae){const $e=[];let ze=!0;for(const ut of Yu(Ae)){const At=0===ut.kind?Xu(Re,ut.fieldPath,Re.startAt):ed(Re,ut.fieldPath,Re.startAt);if(!At.value)return null;$e.push(At.value),ze&&(ze=At.inclusive)}return new pl($e,ze)}(b,_),U=function(Re,Ae){const $e=[];let ze=!0;for(const ut of Yu(Ae)){const At=0===ut.kind?ed(Re,ut.fieldPath,Re.endAt):Xu(Re,ut.fieldPath,Re.endAt);if(!At.value)return null;$e.push(At.value),ze&&(ze=At.inclusive)}return new pl($e,ze)}(b,_),Z=this.je(_,b,F),se=this.je(_,b,U),Pe=this.We(_,b,x),Me=this.ze(_.indexId,I,Z,!!F&&F.inclusive,se,!!U&&U.inclusive,Pe);return pe.forEach(Me,Re=>r.Gt(Re,t.limit).next(Ae=>{Ae.forEach($e=>{const ze=Ge.fromSegments($e.documentKey);u.has(ze)||(u=u.add(ze),f.push(ze))})}))}).next(()=>f)}return pe.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}ze(e,t,r,i,a,u,f){const _=(null!=t?t.length:1)*Math.max(null!=r?r.length:1,null!=a?a.length:1),b=_/(null!=t?t.length:1),T=[];for(let I=0;I<_;++I){const x=t?this.He(t[I/b]):pd,F=r?this.Je(e,x,r[I%b],i):this.Ye(e),U=a?this.Xe(e,x,a[I%b],u):this.Ye(e+1);T.push(...this.createRange(F,U,f.map(Z=>this.Je(e,x,Z,!0))))}return T}Je(e,t,r,i){const a=new vl(e,Ge.empty(),t,r);return i?a:a.ke()}Xe(e,t,r,i){const a=new vl(e,Ge.empty(),t,r);return i?a.ke():a}Ye(e){return new vl(e,Ge.empty(),pd,pd)}getFieldIndex(e,t){const r=new RC(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{const u=a.filter(f=>r.$e(f));return u.sort((f,_)=>_.fields.length-f.fields.length),u.length>0?u[0]:null})}Ze(e,t){const r=new M_;for(const i of Yu(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const u=r.Ne(i.kind);hd.fe.Zt(a,u)}return r.Se()}He(e){const t=new M_;return hd.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const r=new M_;return hd.fe.Zt(Ic(this.databaseId,t),r.Ne(function(i){const a=Yu(i);return 0===a.length?0:a[a.length-1].kind}(e))),r.Se()}We(e,t,r){if(null===r)return[];let i=[];i.push(new M_);let a=0;for(const u of Yu(e)){const f=r[a++];for(const _ of i)if(this.en(t,u.fieldPath)&&n_(f))i=this.nn(i,u,f);else{const b=_.Ne(u.kind);hd.fe.Zt(f,b)}}return this.sn(i)}je(e,t,r){return null==r?null:this.We(e,t,r.position)}sn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}nn(e,t,r){const i=[...e],a=[];for(const u of r.arrayValue.values||[])for(const f of i){const _=new M_;_.seed(f.Se()),hd.fe.Zt(u,_.Ne(t.kind)),a.push(_)}return a}en(e,t){return!!e.filters.find(r=>r instanceof lr&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Oc(e),i=x_(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(a=>{const u=[];return pe.forEach(a,f=>i.get([f.indexId,this.uid]).next(_=>{u.push(function(b,T){const I=T?new Qu(T.sequenceNumber,new Kn(dd(T.readTime),new Ge(Zo(T.documentKey)),T.largestBatchId)):Qu.empty(),x=b.fields.map(([F,U])=>new o_(Pr.fromServerFormat(F),U));return new s_(b.indexId,b.collectionGroup,x,I)}(f,_))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:Bt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=Oc(e),a=x_(e);return this.rn(e).next(u=>i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>pe.forEach(f,_=>{return a.put({indexId:_.indexId,uid:this.user.uid||"",sequenceNumber:u,readTime:Ps((x=r).readTime),documentKey:Yi(x.documentKey.path),largestBatchId:x.largestBatchId});var x})))}updateIndexEntries(e,t){const r=new Map;return pe.forEach(t,(i,a)=>{const u=r.get(i.collectionGroup);return(u?pe.resolve(u):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),pe.forEach(f,_=>this.on(e,i,_).next(b=>{const T=this.un(a,_);return b.isEqual(T)?pe.resolve():this.an(e,a,_,b,T)}))))})}cn(e,t,r,i){return tg(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.tn(r,t.key),documentKey:t.key.path.toArray()})}hn(e,t,r,i){return tg(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.tn(r,t.key),t.key.path.toArray()])}on(e,t,r){const i=tg(e);let a=new Pn(fd);return i.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.tn(r,t)])},(u,f)=>{a=a.add(new vl(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}un(e,t){let r=new Pn(fd);const i=this.Ze(t,e);if(null==i)return r;const a=Ku(t);if(null!=a){const u=e.data.field(a.fieldPath);if(n_(u))for(const f of u.arrayValue.values||[])r=r.add(new vl(t.indexId,e.key,this.He(f),i))}else r=r.add(new vl(t.indexId,e.key,pd,i));return r}an(e,t,r,i,a){Le("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(f,_,b,T,I){const x=f.getIterator(),F=_.getIterator();let U=id(x),Z=id(F);for(;U||Z;){let se=!1,Pe=!1;if(U&&Z){const Me=b(U,Z);Me<0?Pe=!0:Me>0&&(se=!0)}else null!=U?Pe=!0:se=!0;se?(T(Z),Z=id(F)):Pe?(I(U),U=id(x)):(U=id(x),Z=id(F))}}(i,a,fd,f=>{u.push(this.cn(e,t,r,f))},f=>{u.push(this.hn(e,t,r,f))}),pe.waitFor(u)}rn(e){let t=1;return x_(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((u,f)=>fd(u,f)).filter((u,f,_)=>!f||0!==fd(u,_[f-1]));const i=[];i.push(e);for(const u of r){const f=fd(u,e),_=fd(u,t);if(0===f)i[0]=e.ke();else if(f>0&&_<0)i.push(u),i.push(u.ke());else if(_>0)break}i.push(t);const a=[];for(let u=0;u<i.length;u+=2)a.push(IDBKeyRange.bound([i[u].indexId,this.uid,i[u].arrayValue,i[u].directionalValue,pd,[]],[i[u+1].indexId,this.uid,i[u+1].arrayValue,i[u+1].directionalValue,pd,[]]));return a}}function FC(n){return Kr(n,"collectionParents")}function tg(n){return Kr(n,"indexEntries")}function Oc(n){return Kr(n,"indexConfiguration")}function x_(n){return Kr(n,"indexState")}const LC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class cs{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new cs(e,cs.DEFAULT_COLLECTION_PERCENTILE,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function ng(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],u=IDBKeyRange.only(t.batchId);let f=0;const _=r.Wt({range:u},(T,I,x)=>(f++,x.delete()));a.push(_.next(()=>{Dt(1===f)}));const b=[];for(const T of t.mutations){const I=fC(e,T.key.path,t.batchId);a.push(i.delete(I)),b.push(T.key)}return pe.waitFor(a).next(()=>b)}function rg(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw lt();e=n.noDocument}return JSON.stringify(e).length}cs.DEFAULT_COLLECTION_PERCENTILE=10,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cs.DEFAULT=new cs(41943040,cs.DEFAULT_COLLECTION_PERCENTILE,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cs.DISABLED=new cs(-1,0,0);class P_{constructor(e,t,r,i){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=i,this.ln={}}static Yt(e,t,r,i){Dt(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new P_(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return xc(e).Wt({index:"userMutationsIndex",range:r},(i,a,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=Sa(e),u=xc(e);return u.add({}).next(f=>{Dt("number"==typeof f);const _=new D_(f,t,r,i),b=function(x,F,U){const Z=U.baseMutations.map(Pe=>ad(x.Jt,Pe)),se=U.mutations.map(Pe=>ad(x.Jt,Pe));return{userId:F,batchId:U.batchId,localWriteTimeMs:U.localWriteTime.toMillis(),baseMutations:Z,mutations:se}}(this.M,this.userId,_),T=[];let I=new Pn((x,F)=>Bt(x.canonicalString(),F.canonicalString()));for(const x of i){const F=fC(this.userId,x.key.path,f);I=I.add(x.key.path.popLast()),T.push(u.put(b)),T.push(a.put(F,pC))}return I.forEach(x=>{T.push(this.indexManager.addToCollectionParentIndex(e,x))}),e.addOnCommittedListener(()=>{this.ln[f]=_.keys()}),pe.waitFor(T).next(()=>_)})}lookupMutationBatch(e,t){return xc(e).get(t).next(r=>r?(Dt(r.userId===this.userId),df(this.M,r)):null)}fn(e,t){return this.ln[t]?pe.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.ln[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return xc(e).Wt({index:"userMutationsIndex",range:i},(u,f,_)=>{f.userId===this.userId&&(Dt(f.batchId>=r),a=df(this.M,f)),_.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return xc(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(i,a,u)=>{r=a.batchId,u.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return xc(e).qt("userMutationsIndex",t).next(r=>r.map(i=>df(this.M,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=ld(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Sa(e).Wt({range:i},(u,f,_)=>{const[b,T,I]=u,x=Zo(T);if(b===this.userId&&t.path.isEqual(x))return xc(e).get(I).next(F=>{if(!F)throw lt();Dt(F.userId===this.userId),a.push(df(this.M,F))});_.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Pn(Bt);const i=[];return t.forEach(a=>{const u=ld(this.userId,a.path),f=IDBKeyRange.lowerBound(u),_=Sa(e).Wt({range:f},(b,T,I)=>{const[x,F,U]=b,Z=Zo(F);x===this.userId&&a.path.isEqual(Z)?r=r.add(U):I.done()});i.push(_)}),pe.waitFor(i).next(()=>this.dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=ld(this.userId,r),u=IDBKeyRange.lowerBound(a);let f=new Pn(Bt);return Sa(e).Wt({range:u},(_,b,T)=>{const[I,x,F]=_,U=Zo(x);I===this.userId&&r.isPrefixOf(U)?U.length===i&&(f=f.add(F)):T.done()}).next(()=>this.dn(e,f))}dn(e,t){const r=[],i=[];return t.forEach(a=>{i.push(xc(e).get(a).next(u=>{if(null===u)throw lt();Dt(u.userId===this.userId),r.push(df(this.M,u))}))}),pe.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return ng(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),pe.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return pe.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Sa(e).Wt({range:r},(a,u,f)=>{if(a[0]===this.userId){const _=Zo(a[1]);i.push(_)}else f.done()}).next(()=>{Dt(0===i.length)})})}containsKey(e,t){return V0(e,this.userId,t)}wn(e){return hf(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function V0(n,e,t){const r=ld(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let u=!1;return Sa(n).Wt({range:a,jt:!0},(f,_,b)=>{const[T,I,x]=f;T===e&&I===i&&(u=!0),b.done()}).next(()=>u)}function xc(n){return Kr(n,"mutations")}function Sa(n){return Kr(n,"documentMutations")}function hf(n){return Kr(n,"mutationQueues")}class gd{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new gd(0)}static yn(){return new gd(-1)}}class sS{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const r=new gd(t.highestTargetId);return t.highestTargetId=r.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>xt.fromTimestamp(new wr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.pn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.In(e,i)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(r=>(r.targetCount+=1,this.En(t,r),this.In(e,r))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>ff(e).delete(t.targetId)).next(()=>this.pn(e)).next(r=>(Dt(r.targetCount>0),r.targetCount-=1,this.In(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return ff(e).Wt((u,f)=>{const _=Ta(f);_.sequenceNumber<=t&&null===r.get(_.targetId)&&(i++,a.push(this.removeTargetData(e,_)))}).next(()=>pe.waitFor(a)).next(()=>i)}forEachTarget(e,t){return ff(e).Wt((r,i)=>{const a=Ta(i);t(a)})}pn(e){return B0(e).get("targetGlobalKey").next(t=>(Dt(null!==t),t))}In(e,t){return B0(e).put("targetGlobalKey",t)}Tn(e,t){return ff(e).put(nS(this.M,t))}En(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=dl(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return ff(e).Wt({range:i,index:"queryTargetsIndex"},(u,f,_)=>{const b=Ta(f);Da(t,b.target)&&(a=b,_.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=bl(e);return t.forEach(u=>{const f=Yi(u.path);i.push(a.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,u))}),pe.waitFor(i)}removeMatchingKeys(e,t,r){const i=bl(e);return pe.forEach(t,a=>{const u=Yi(a.path);return pe.waitFor([i.delete([r,u]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=bl(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=bl(e);let a=vn();return i.Wt({range:r,jt:!0},(u,f,_)=>{const b=Zo(u[1]),T=new Ge(b);a=a.add(T)}).next(()=>a)}containsKey(e,t){const r=Yi(t.path),i=IDBKeyRange.bound([r],[s0(r)],!1,!0);let a=0;return bl(e).Wt({index:"documentTargetsIndex",jt:!0,range:i},([u,f],_,b)=>{0!==u&&(a++,b.done())}).next(()=>a>0)}Et(e,t){return ff(e).get(t).next(r=>r?Ta(r):null)}}function ff(n){return Kr(n,"targets")}function B0(n){return Kr(n,"targetGlobal")}function bl(n){return Kr(n,"targetDocuments")}function Pc(n){return U0.apply(this,arguments)}function U0(){return U0=(0,ye.Z)(function*(n){if(n.code!==ce.FAILED_PRECONDITION||n.message!==SC)throw n;Le("LocalStore","Unexpectedly lost primary lease")}),U0.apply(this,arguments)}function j0([n,e],[t,r]){const i=Bt(n,t);return 0===i?Bt(e,r):i}class oS{constructor(e){this.An=e,this.buffer=new Pn(j0),this.Rn=0}Pn(){return++this.Rn}bn(e){const t=[e,this.Pn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();j0(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class aS{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const r=this.Vn?3e5:6e4;Le("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,ye.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(i){cd(i)?Le("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Pc(i)}yield t.Sn(e)}))}}class TN{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return pe.resolve(Wi.A);const r=new oS(t);return this.Dn.forEachTarget(e,i=>r.bn(i.sequenceNumber)).next(()=>this.Dn.xn(e,i=>r.bn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Dn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector","Garbage collection skipped; disabled"),pe.resolve(LC)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),LC):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let r,i,a,u,f,_,b;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(Le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),i=this.params.maximumSequenceNumbersToCollect):i=I,u=Date.now(),this.nthSequenceNumber(e,i))).next(I=>(r=I,f=Date.now(),this.removeTargets(e,r,t))).next(I=>(a=I,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(I=>(b=Date.now(),A1()<=uo.in.DEBUG&&Le("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-T}ms\n\tDetermined least recently used ${i} in `+(f-u)+`ms\n\tRemoved ${a} targets in `+(_-f)+`ms\n\tRemoved ${I} documents in `+(b-_)+`ms\nTotal Duration: ${b-T}ms`),pe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:I})))}}class SN{constructor(e,t){this.db=e,this.garbageCollector=new TN(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}kn(e){let t=0;return this.xn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(r,i)=>t(i))}addReference(e,t,r){return H0(e,r)}removeReference(e,t,r){return H0(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return H0(e,t)}On(e,t){return function(r,i){let a=!1;return hf(r).zt(u=>V0(r,u,i).next(f=>(f&&(a=!0),pe.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Mn(e,(u,f)=>{if(f<=t){const _=this.On(e,u).next(b=>{if(!b)return a++,r.getEntry(e,u).next(()=>(r.removeEntry(u,xt.min()),bl(e).delete([0,Yi(u.path)])))});i.push(_)}}).next(()=>pe.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return H0(e,t)}Mn(e,t){const r=bl(e);let i,a=Wi.A;return r.Wt({index:"documentTargetsIndex"},([u,f],{path:_,sequenceNumber:b})=>{0===u?(a!==Wi.A&&t(new Ge(Zo(i)),a),a=b,i=_):a=Wi.A}).next(()=>{a!==Wi.A&&t(new Ge(Zo(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function H0(n,e){return bl(n).put((r=n.currentSequenceNumber,{targetId:0,path:Yi(e.path),sequenceNumber:r}));var r}class lS{constructor(){this.changes=new _l(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Dn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?pe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class VC{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return md(e).put(r)}removeEntry(e,t,r){return md(e).delete(function(i,a){const u=i.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],Jp(a),u[u.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Fn(e,r)))}getEntry(e,t){let r=Dn.newInvalidDocument(t);return md(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(pf(t))},(i,a)=>{r=this.$n(t,a)}).next(()=>r)}Bn(e,t){let r={size:0,document:Dn.newInvalidDocument(t)};return md(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(pf(t))},(i,a)=>{r={document:this.$n(t,a),size:rg(a)}}).next(()=>r)}getEntries(e,t){let r=xs();return this.Ln(e,t,(i,a)=>{const u=this.$n(i,a);r=r.insert(i,u)}).next(()=>r)}Un(e,t){let r=xs(),i=new cr(Ge.comparator);return this.Ln(e,t,(a,u)=>{const f=this.$n(a,u);r=r.insert(a,f),i=i.insert(a,rg(u))}).next(()=>({documents:r,qn:i}))}Ln(e,t,r){if(t.isEmpty())return pe.resolve();let i=new Pn(UC);t.forEach(_=>i=i.add(_));const a=IDBKeyRange.bound(pf(i.first()),pf(i.last())),u=i.getIterator();let f=u.getNext();return md(e).Wt({index:"documentKeyIndex",range:a},(_,b,T)=>{const I=Ge.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;f&&UC(f,I)<0;)r(f,null),f=u.getNext();f&&f.isEqual(I)&&(r(f,b),f=u.hasNext()?u.getNext():null),f?T.Ut(pf(f)):T.done()}).next(()=>{for(;f;)r(f,null),f=u.hasNext()?u.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),Jp(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return md(e).qt(IDBKeyRange.bound(i,a,!0)).next(u=>{let f=xs();for(const _ of u){const b=this.$n(Ge.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);f=f.insert(b.key,b)}return f})}getAllFromCollectionGroup(e,t,r,i){let a=xs();const u=gf(t,r),f=gf(t,Kn.max());return md(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,f,!0)},(_,b,T)=>{const I=this.$n(Ge.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);a=a.insert(I.key,I),a.size===i&&T.done()}).next(()=>a)}newChangeBuffer(e){return new R_(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return BC(e).get("remoteDocumentGlobalKey").next(t=>(Dt(!!t),t))}Fn(e,t){return BC(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const r=function NC(n,e){let t;if(e.document)t=oC(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ge.fromSegments(e.noDocument.path),i=dd(e.noDocument.readTime);t=Dn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return lt();{const r=Ge.fromSegments(e.unknownDocument.path),i=dd(e.unknownDocument.version);t=Dn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new wr(r[0],r[1]);return xt.fromTimestamp(i)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(xt.min()))return r}return Dn.newInvalidDocument(e)}}class R_ extends lS{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new _l(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Pn((a,u)=>Bt(a.canonicalString(),u.canonicalString()));return this.changes.forEach((a,u)=>{const f=this.Gn.get(a);if(t.push(this.Kn.removeEntry(e,a,f.readTime)),u.isValidDocument()){const _=S_(this.Kn.M,u);i=i.add(a.path.popLast()),r+=rg(_)-f.size,t.push(this.Kn.addEntry(e,a,_))}else if(r-=f.size,this.trackRemovals){const _=S_(this.Kn.M,u.convertToNoDocument(xt.min()));t.push(this.Kn.addEntry(e,a,_))}}),i.forEach(a=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.Kn.updateMetadata(e,r)),pe.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:r,qn:i})=>(i.forEach((a,u)=>{this.Gn.set(a,{size:u,readTime:r.get(a).readTime})}),r))}}function BC(n){return Kr(n,"remoteDocumentGlobal")}function md(n){return Kr(n,"remoteDocumentsV14")}function pf(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function gf(n,e){const t=e.documentKey.path.toArray();return[n,Jp(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function UC(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(i=Bt(t[a],r[a]),i)return i;return i=Bt(t.length,r.length),i||(i=Bt(t[t.length-2],r[r.length-2]),i||Bt(t[t.length-1],r[r.length-1]))}class cS{constructor(e){this.M=e}kt(e,t,r,i){const a=new w_("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",x0,{unique:!0}),f.createObjectStore("documentMutations"),jC(e),function(f){f.createObjectStore("remoteDocuments")}(e));let u=pe.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),jC(e)),u=u.next(()=>function(f){const _=f.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:xt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",b)}(a))),r<4&&i>=4&&(0!==r&&(u=u.next(()=>function(f,_){return _.store("mutations").qt().next(b=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",x0,{unique:!0});const T=_.store("mutations"),I=b.map(x=>T.put(x));return pe.waitFor(I)})}(e,a))),u=u.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(u=u.next(()=>this.Qn(a))),r<6&&i>=6&&(u=u.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.jn(a)))),r<7&&i>=7&&(u=u.next(()=>this.Wn(a))),r<8&&i>=8&&(u=u.next(()=>this.zn(e,a))),r<9&&i>=9&&(u=u.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(u=u.next(()=>this.Hn(a))),r<11&&i>=11&&(u=u.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(u=u.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:KT});_.createIndex("collectionPathOverlayIndex",YT,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",QT,{unique:!1})}(e)})),r<13&&i>=13&&(u=u.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:gC});_.createIndex("documentKeyIndex",P0),_.createIndex("collectionGroupIndex",b_)}(e)).next(()=>this.Jn(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(u=u.next(()=>{!function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:bC}).createIndex("sequenceNumberIndex",wC,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:CC}).createIndex("documentKeyIndex",DC,{unique:!1})}(e)})),u}jn(e){let t=0;return e.store("remoteDocuments").Wt((r,i)=>{t+=rg(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Qn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(i=>pe.forEach(i,a=>{const u=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",u).next(f=>pe.forEach(f,_=>{Dt(_.userId===a.userId);const b=df(this.M,_);return ng(e,a.userId,b).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.Wt((u,f)=>{const _=new dn(u),b=[0,Yi(_)];a.push(t.get(b).next(T=>T?pe.resolve():t.put({targetId:0,path:Yi(_),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>pe.waitFor(a))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:vC});const r=t.store("collectionParents"),i=new O_,a=u=>{if(i.add(u)){const f=u.lastSegment(),_=u.popLast();return r.put({collectionId:f,parent:Yi(_)})}};return t.store("remoteDocuments").Wt({jt:!0},(u,f)=>{const _=new dn(u);return a(_.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([u,f,_],b)=>{const T=Zo(f);return a(T.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((r,i)=>{const a=Ta(i),u=nS(this.M,a);return t.put(u)})}Jn(e,t){const r=t.store("remoteDocuments"),i=[];return r.Wt((a,u)=>{const f=t.store("remoteDocumentsV14"),_=(b=u,b.document?new Ge(dn.fromString(b.document.name).popFirst(5)):b.noDocument?Ge.fromSegments(b.noDocument.path):b.unknownDocument?Ge.fromSegments(b.unknownDocument.path):lt()).path.toArray();var b;const T={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};i.push(f.put(T))}).next(()=>pe.waitFor(i))}}function jC(n){n.createObjectStore("targetDocuments",{keyPath:_C}).createIndex("documentTargetsIndex",yC,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",mC,{unique:!0}),n.createObjectStore("targetGlobal")}const $0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class G0{constructor(e,t,r,i,a,u,f,_,b,T,I=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Yn=a,this.window=u,this.document=f,this.Xn=b,this.Zn=T,this.ts=I,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=x=>Promise.resolve(),!G0.vt())throw new Oe(ce.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new SN(this,i),this.hs=t+"main",this.M=new k0(_),this.ls=new zo(this.hs,this.ts,new cS(this.M)),this.fs=new sS(this.referenceDelegate,this.M),this.ds=new VC(this.M),this._s=new OC,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===T&&br("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Oe(ce.FAILED_PRECONDITION,$0);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new Wi(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var r=(0,ye.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,ye.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,ye.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>k_(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.Ps(e).next(()=>!0))).catch(e=>{if(cd(e))return Le("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Le("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return mf(e).get("owner").next(t=>pe.resolve(this.bs(t)))}Vs(e){return k_(e).delete(this.clientId)}vs(){var e=this;return(0,ye.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Kr(r,"clientMetadata");return i.qt().next(a=>{const u=e.Ds(a,18e5),f=a.filter(_=>-1===u.indexOf(_));return pe.forEach(f,_=>i.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(e.ws)for(const r of t)e.ws.removeItem(e.Cs(r.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}bs(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?pe.resolve(!0):mf(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new Oe(ce.FAILED_PRECONDITION,$0);return!1}}return!(!this.networkEnabled||!this.inForeground)||k_(e).qt().next(r=>void 0===this.Ds(r,5e3).find(i=>{if(this.clientId!==i.clientId){const u=!this.inForeground&&i.inForeground,f=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||u&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Le("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ye.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new R0(t,Wi.A);return e.Rs(r).next(()=>e.Vs(r))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(r=>this.Ss(r.updateTimeMs,t)&&!this.xs(r.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>k_(e).qt().next(t=>this.Ds(t,18e5).map(r=>r.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return P_.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new iS(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return L0.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,r){Le("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=14===(u=this.ts)?XT:13===u?TC:12===u?JT:11===u?EC:void lt();var u;let f;return this.ls.runTransaction(e,i,a,_=>(f=new R0(_,this.es?this.es.next():Wi.A),"readwrite-primary"===t?this.Es(f).next(b=>!!b||this.As(f)).next(b=>{if(!b)throw br(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new Oe(ce.FAILED_PRECONDITION,SC);return r(f)}).next(b=>this.Ps(f).next(()=>b)):this.$s(f).next(()=>r(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}$s(e){return mf(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.bs(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Oe(ce.FAILED_PRECONDITION,$0)})}Ps(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return mf(e).put("owner",t)}static vt(){return zo.vt()}Rs(e){const t=mf(e);return t.get("owner").next(r=>this.bs(r)?(Le("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):pe.resolve())}Ss(e,t){const r=Date.now();return!(e<r-t||e>r&&(br(`Detected an update time that is in the future: ${e} > ${r}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,Tt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const r=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return Le("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return br("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){br("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function mf(n){return Kr(n,"owner")}function k_(n){return Kr(n,"clientMetadata")}function q0(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class _f{constructor(e,t,r){this.ds=e,this.Bs=t,this.indexManager=r}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Us(e,t,r))}Us(e,t,r){return this.ds.getEntry(e,t).next(i=>{for(const a of r)a.applyToLocalView(i);return i})}qs(e,t){e.forEach((r,i)=>{for(const a of t)a.applyToLocalView(i)})}Ks(e,t){return this.ds.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.qs(t,r))}Qs(e,t,r){return Ge.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.js(e,t.path):d_(t)?this.Ws(e,t,r):this.zs(e,t,r);var i}js(e,t){return this.Ls(e,new Ge(t)).next(r=>{let i=qp();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Ws(e,t,r){const i=t.collectionGroup;let a=qp();return this.indexManager.getCollectionParents(e,i).next(u=>pe.forEach(u,f=>{const _=(b=t,T=f.child(i),new gl(T,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,T;return this.zs(e,_,r).next(b=>{b.forEach((T,I)=>{a=a.insert(T,I)})})}).next(()=>a))}zs(e,t,r){let i;return this.ds.getAllFromCollection(e,t.path,r).next(a=>(i=a,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(a=>{for(const u of a)for(const f of u.mutations){const _=f.key;let b=i.get(_);null==b&&(b=Dn.newInvalidDocument(_),i=i.insert(_,b)),Q1(f,b,u.localWriteTime),b.isFoundDocument()||(i=i.remove(_))}}).next(()=>(i.forEach((a,u)=>{g0(t,u)||(i=i.remove(a))}),i))}}class Z0{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hs=r,this.Js=i}static Ys(e,t){let r=vn(),i=vn();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Z0(e,t.fromCache,r,i)}}class z0{Xs(e){this.Zs=e}Qs(e,t,r,i){return 0===(a=t).filters.length&&null===a.limit&&null==a.startAt&&null==a.endAt&&(0===a.explicitOrderBy.length||1===a.explicitOrderBy.length&&a.explicitOrderBy[0].field.isKeyField())||r.isEqual(xt.min())?this.ti(e,t):this.Zs.Ks(e,i).next(a=>{const u=this.ei(t,a);return(l_(t)||c_(t))&&this.ni(t.limitType,u,i,r)?this.ti(e,t):(A1()<=uo.in.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Up(t)),this.Zs.Qs(e,t,Ho(r,-1)).next(f=>(u.forEach(_=>{f=f.insert(_.key,_)}),f)))});var a}ei(e,t){let r=new Pn(LT(e));return t.forEach((i,a)=>{g0(e,a)&&(r=r.add(a))}),r}ni(e,t,r,i){if(r.size!==t.size)return!0;const a="F"===e?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ti(e,t){return A1()<=uo.in.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",Up(t)),this.Zs.Qs(e,t,Kn.min())}}class uS{constructor(e,t,r,i){this.persistence=e,this.si=t,this.M=i,this.ii=new cr(Bt),this.ri=new _l(a=>dl(a),Da),this.oi=new Map,this.ui=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.ai(r)}ai(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new _f(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ii))}}function W0(n,e,t,r){return new uS(n,e,t,r)}function HC(n,e){return F_.apply(this,arguments)}function F_(){return F_=(0,ye.Z)(function*(n,e){const t=Qe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.Bs.getAllMutationBatches(r).next(a=>(i=a,t.ai(e),t.Bs.getAllMutationBatches(r))).next(a=>{const u=[],f=[];let _=vn();for(const b of i){u.push(b.batchId);for(const T of b.mutations)_=_.add(T.key)}for(const b of a){f.push(b.batchId);for(const T of b.mutations)_=_.add(T.key)}return t.ci.Ks(r,_).next(b=>({hi:b,removedBatchIds:u,addedBatchIds:f}))})})}),F_.apply(this,arguments)}function dS(n,e){const t=Qe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.ui.newChangeBuffer({trackRemovals:!0});return function(u,f,_,b){const T=_.batch,I=T.keys();let x=pe.resolve();return I.forEach(F=>{x=x.next(()=>b.getEntry(f,F)).next(U=>{const Z=_.docVersions.get(F);Dt(null!==Z),U.version.compareTo(Z)<0&&(T.applyToRemoteDocument(U,_),U.isValidDocument()&&(U.setReadTime(_.commitVersion),b.addEntry(U)))})}),x.next(()=>u.Bs.removeMutationBatch(f,T))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.Bs.performConsistencyCheck(r)).next(()=>t.ci.Ks(r,i))})}function L_(n){const e=Qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function hS(n,e){const t=Qe(n),r=e.snapshotVersion;let i=t.ii;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.ui.newChangeBuffer({trackRemovals:!0});i=t.ii;const f=[];e.targetChanges.forEach((b,T)=>{const I=i.get(T);if(!I)return;f.push(t.fs.removeMatchingKeys(a,b.removedDocuments,T).next(()=>t.fs.addMatchingKeys(a,b.addedDocuments,T)));let x=I.withSequenceNumber(a.currentSequenceNumber);var F,U,Z;e.targetMismatches.has(T)?x=x.withResumeToken(Rr.EMPTY_BYTE_STRING,xt.min()).withLastLimboFreeSnapshotVersion(xt.min()):b.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(b.resumeToken,r)),i=i.insert(T,x),U=x,Z=b,(0===(F=I).resumeToken.approximateByteSize()||U.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=3e8||Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0)&&f.push(t.fs.updateTargetData(a,x))});let _=xs();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,b))}),f.push(K0(a,u,e.documentUpdates).next(b=>{_=b})),!r.isEqual(xt.min())){const b=t.fs.getLastRemoteSnapshotVersion(a).next(T=>t.fs.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(b)}return pe.waitFor(f).next(()=>u.apply(a)).next(()=>t.ci.Gs(a,_)).next(()=>_)}).then(a=>(t.ii=i,a))}function K0(n,e,t){let r=vn();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let a=xs();return t.forEach((u,f)=>{const _=i.get(u);f.isNoDocument()&&f.version.isEqual(xt.min())?(e.removeEntry(u,f.readTime),a=a.insert(u,f)):!_.isValidDocument()||f.version.compareTo(_.version)>0||0===f.version.compareTo(_.version)&&_.hasPendingWrites?(e.addEntry(f),a=a.insert(u,f)):Le("LocalStore","Ignoring outdated watch update for ",u,". Current version:",_.version," Watch version:",f.version)}),a})}function $C(n,e){const t=Qe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(r,e)))}function yf(n,e){const t=Qe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.fs.getTargetData(r,e).next(a=>a?(i=a,pe.resolve(i)):t.fs.allocateTargetId(r).next(u=>(i=new yl(e,u,0,r.currentSequenceNumber),t.fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ii.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ii=t.ii.insert(r.targetId,r),t.ri.set(e,r.targetId)),r})}function vf(n,e,t){return Y0.apply(this,arguments)}function Y0(){return Y0=(0,ye.Z)(function*(n,e,t){const r=Qe(n),i=r.ii.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,i)))}catch(u){if(!cd(u))throw u;Le("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.ii=r.ii.remove(e),r.ri.delete(i.target)}),Y0.apply(this,arguments)}function bf(n,e,t){const r=Qe(n);let i=xt.min(),a=vn();return r.persistence.runTransaction("Execute query","readonly",u=>function(f,_,b){const T=Qe(f),I=T.ri.get(b);return void 0!==I?pe.resolve(T.ii.get(I)):T.fs.getTargetData(_,b)}(r,u,vo(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(u,f.targetId).next(_=>{a=_})}).next(()=>r.si.Qs(u,e,t?i:xt.min(),t?a:vn())).next(f=>(qC(r,FT(e),f),{documents:f,li:a})))}function GC(n,e){const t=Qe(n),r=Qe(t.fs),i=t.ii.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.Et(a,e).next(u=>u?u.target:null))}function Q0(n,e){const t=Qe(n),r=t.oi.get(e)||xt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.ui.getAllFromCollectionGroup(i,e,Ho(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(qC(t,e,i),i))}function qC(n,e,t){let r=xt.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.oi.set(e,r)}function J0(){return J0=(0,ye.Z)(function*(n,e,t,r){const i=Qe(n);let a=vn(),u=xs();for(const b of t){const T=e.fi(b.metadata.name);b.document&&(a=a.add(T));const I=e.di(b);I.setReadTime(e._i(b.metadata.readTime)),u=u.insert(T,I)}const f=i.ui.newChangeBuffer({trackRemovals:!0}),_=yield yf(i,(b=r,vo(nd(dn.fromString(`__bundle__/docs/${b}`)))));var b;return i.persistence.runTransaction("Apply bundle documents","readwrite",b=>K0(b,f,u).next(T=>(f.apply(b),T)).next(T=>i.fs.removeMatchingKeysForTargetId(b,_.targetId).next(()=>i.fs.addMatchingKeys(b,a,_.targetId)).next(()=>i.ci.Gs(b,T)).next(()=>T)))}),J0.apply(this,arguments)}function pS(n,e){return X0.apply(this,arguments)}function X0(){return X0=(0,ye.Z)(function*(n,e,t=vn()){const r=yield yf(n,vo(Xp(e.bundledQuery))),i=Qe(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const u=oi(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return i._s.saveNamedQuery(a,e);const f=r.withResumeToken(Rr.EMPTY_BYTE_STRING,u);return i.ii=i.ii.insert(f.targetId,f),i.fs.updateTargetData(a,f).next(()=>i.fs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.fs.addMatchingKeys(a,t,r.targetId)).next(()=>i._s.saveNamedQuery(a,e))})}),X0.apply(this,arguments)}class gS{constructor(e){this.M=e,this.wi=new Map,this.mi=new Map}getBundleMetadata(e,t){return pe.resolve(this.wi.get(t))}saveBundleMetadata(e,t){var r;return this.wi.set(t.id,{id:(r=t).id,version:r.version,createTime:oi(r.createTime)}),pe.resolve()}getNamedQuery(e,t){return pe.resolve(this.mi.get(t))}saveNamedQuery(e,t){return this.mi.set(t.name,{name:(r=t).name,query:Xp(r.bundledQuery),readTime:oi(r.readTime)}),pe.resolve();var r}}class mS{constructor(){this.overlays=new cr(Ge.comparator),this.gi=new Map}getOverlay(e,t){return pe.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.Xt(e,t,a)}),pe.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.gi.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.gi.delete(r)),pe.resolve()}getOverlaysForCollection(e,t,r){const i=rf(),a=t.length+1,u=new Ge(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const _=f.getNext().value,b=_.getKey();if(!t.isPrefixOf(b.path))break;b.path.length===a&&_.largestBatchId>r&&i.set(_.getKey(),_)}return pe.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new cr((b,T)=>b-T);const u=this.overlays.getIterator();for(;u.hasNext();){const b=u.getNext().value;if(b.getKey().getCollectionGroup()===t&&b.largestBatchId>r){let T=a.get(b.largestBatchId);null===T&&(T=rf(),a=a.insert(b.largestBatchId,T)),T.set(b.getKey(),b)}}const f=rf(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((b,T)=>f.set(b,T)),!(f.size()>=i)););return pe.resolve(f)}Xt(e,t,r){if(null===r)return;const i=this.overlays.get(r.key);if(null!==i){const u=this.gi.get(i.largestBatchId).delete(r.key);this.gi.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new T_(t,r));let a=this.gi.get(t);void 0===a&&(a=vn(),this.gi.set(t,a)),this.gi.set(t,a.add(r.key))}}class eb{constructor(){this.yi=new Pn(Yr.pi),this.Ii=new Pn(Yr.Ti)}isEmpty(){return this.yi.isEmpty()}addReference(e,t){const r=new Yr(e,t);this.yi=this.yi.add(r),this.Ii=this.Ii.add(r)}Ei(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ai(new Yr(e,t))}Ri(e,t){e.forEach(r=>this.removeReference(r,t))}Pi(e){const t=new Ge(new dn([])),r=new Yr(t,e),i=new Yr(t,e+1),a=[];return this.Ii.forEachInRange([r,i],u=>{this.Ai(u),a.push(u.key)}),a}bi(){this.yi.forEach(e=>this.Ai(e))}Ai(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}Vi(e){const t=new Ge(new dn([])),r=new Yr(t,e),i=new Yr(t,e+1);let a=vn();return this.Ii.forEachInRange([r,i],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Yr(e,0),r=this.yi.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Yr{constructor(e,t){this.key=e,this.vi=t}static pi(e,t){return Ge.comparator(e.key,t.key)||Bt(e.vi,t.vi)}static Ti(e,t){return Bt(e.vi,t.vi)||Ge.comparator(e.key,t.key)}}class ZC{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.Si=1,this.Di=new Pn(Yr.pi)}checkEmpty(e){return pe.resolve(0===this.Bs.length)}addMutationBatch(e,t,r,i){const a=this.Si;this.Si++;const u=new D_(a,t,r,i);this.Bs.push(u);for(const f of i)this.Di=this.Di.add(new Yr(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return pe.resolve(u)}lookupMutationBatch(e,t){return pe.resolve(this.Ci(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.xi(t+1),a=i<0?0:i;return pe.resolve(this.Bs.length>a?this.Bs[a]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(0===this.Bs.length?-1:this.Si-1)}getAllMutationBatches(e){return pe.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Yr(t,0),i=new Yr(t,Number.POSITIVE_INFINITY),a=[];return this.Di.forEachInRange([r,i],u=>{const f=this.Ci(u.vi);a.push(f)}),pe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Pn(Bt);return t.forEach(i=>{const a=new Yr(i,0),u=new Yr(i,Number.POSITIVE_INFINITY);this.Di.forEachInRange([a,u],f=>{r=r.add(f.vi)})}),pe.resolve(this.Ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Ge.isDocumentKey(a)||(a=a.child(""));const u=new Yr(new Ge(a),0);let f=new Pn(Bt);return this.Di.forEachWhile(_=>{const b=_.key.path;return!!r.isPrefixOf(b)&&(b.length===i&&(f=f.add(_.vi)),!0)},u),pe.resolve(this.Ni(f))}Ni(e){const t=[];return e.forEach(r=>{const i=this.Ci(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Dt(0===this.ki(t.batchId,"removed")),this.Bs.shift();let r=this.Di;return pe.forEach(t.mutations,i=>{const a=new Yr(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Di=r})}_n(e){}containsKey(e,t){const r=new Yr(t,0),i=this.Di.firstAfterOrEqual(r);return pe.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return pe.resolve()}ki(e,t){return this.xi(e)}xi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}Ci(e){const t=this.xi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class zC{constructor(e){this.Mi=e,this.docs=new cr(Ge.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,u=this.Mi(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return pe.resolve(r?r.document.mutableCopy():Dn.newInvalidDocument(t))}getEntries(e,t){let r=xs();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Dn.newInvalidDocument(i))}),pe.resolve(r)}getAllFromCollection(e,t,r){let i=xs();const a=new Ge(t.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:f,value:{document:_}}=u.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||Ju(Vp(_),r)<=0||(i=i.insert(_.key,_.mutableCopy()))}return pe.resolve(i)}getAllFromCollectionGroup(e,t,r,i){lt()}Oi(e,t){return pe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new _S(this)}getSize(e){return pe.resolve(this.size)}}class _S extends lS{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Kn.addEntry(e,i)):this.Kn.removeEntry(r)}),pe.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class tb{constructor(e){this.persistence=e,this.Fi=new _l(t=>dl(t),Da),this.lastRemoteSnapshotVersion=xt.min(),this.highestTargetId=0,this.$i=0,this.Bi=new eb,this.targetCount=0,this.Li=gd.gn()}forEachTarget(e,t){return this.Fi.forEach((r,i)=>t(i)),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.$i)}allocateTargetId(e){return this.highestTargetId=this.Li.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$i&&(this.$i=t),pe.resolve()}Tn(e){this.Fi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Li=new gd(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,pe.resolve()}updateTargetData(e,t){return this.Tn(t),pe.resolve()}removeTargetData(e,t){return this.Fi.delete(t.target),this.Bi.Pi(t.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Fi.forEach((u,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.Fi.delete(u),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),pe.waitFor(a).next(()=>i)}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,t){const r=this.Fi.get(t)||null;return pe.resolve(r)}addMatchingKeys(e,t,r){return this.Bi.Ei(t,r),pe.resolve()}removeMatchingKeys(e,t,r){this.Bi.Ri(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(u=>{a.push(i.markPotentiallyOrphaned(e,u))}),pe.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Bi.Pi(t),pe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Bi.Vi(t);return pe.resolve(r)}containsKey(e,t){return pe.resolve(this.Bi.containsKey(t))}}class WC{constructor(e,t){this.Ui={},this.overlays={},this.es=new Wi(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new tb(this),this.indexManager=new kC,this.ds=new zC(r=>this.referenceDelegate.qi(r)),this.M=new k0(t),this._s=new gS(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new mS,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Ui[e.toKey()];return r||(r=new ZC(t,this.referenceDelegate),this.Ui[e.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,r){Le("MemoryPersistence","Starting transaction:",e);const i=new yS(this.es.next());return this.referenceDelegate.Ki(),r(i).next(a=>this.referenceDelegate.Gi(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Qi(e,t){return pe.or(Object.values(this.Ui).map(r=>()=>r.containsKey(e,t)))}}class yS extends IC{constructor(e){super(),this.currentSequenceNumber=e}}class nb{constructor(e){this.persistence=e,this.ji=new eb,this.Wi=null}static zi(e){return new nb(e)}get Hi(){if(this.Wi)return this.Wi;throw lt()}addReference(e,t,r){return this.ji.addReference(r,t),this.Hi.delete(r.toString()),pe.resolve()}removeReference(e,t,r){return this.ji.removeReference(r,t),this.Hi.add(r.toString()),pe.resolve()}markPotentiallyOrphaned(e,t){return this.Hi.add(t.toString()),pe.resolve()}removeTarget(e,t){this.ji.Pi(t.targetId).forEach(i=>this.Hi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Hi.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Ki(){this.Wi=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.Hi,r=>{const i=Ge.fromPath(r);return this.Ji(e,i).next(a=>{a||t.removeEntry(i,xt.min())})}).next(()=>(this.Wi=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ji(e,t).next(r=>{r?this.Hi.delete(t.toString()):this.Hi.add(t.toString())})}qi(e){return 0}Ji(e,t){return pe.or([()=>pe.resolve(this.ji.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Qi(e,t)])}}function V_(n,e){return`firestore_clients_${n}_${e}`}function B_(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function U_(n,e){return`firestore_targets_${n}_${e}`}class wf{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Yi(e,t,r){const i=JSON.parse(r);let a,u="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return u&&i.error&&(u="string"==typeof i.error.message&&"string"==typeof i.error.code,u&&(a=new Oe(i.error.code,i.error.message))),u?new wf(e,t,i.state,a):(br("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ig{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Yi(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new Oe(r.error.code,r.error.message))),a?new ig(e,r.state,i):(br("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class j_{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Yi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=sd();for(let u=0;i&&u<r.activeTargetIds.length;++u)i=OT(r.activeTargetIds[u]),a=a.add(r.activeTargetIds[u]);return i?new j_(e,a):(br("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class sg{constructor(e,t){this.clientId=e,this.onlineState=t}static Yi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new sg(t.clientId,t.onlineState):(br("SharedClientState",`Failed to parse online state: ${e}`),null)}}class rb{constructor(){this.activeTargetIds=sd()}Zi(e){this.activeTargetIds=this.activeTargetIds.add(e)}tr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class H_{constructor(e,t,r,i,a){this.window=e,this.Yn=t,this.persistenceKey=r,this.er=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.nr=this.sr.bind(this),this.ir=new cr(Bt),this.started=!1,this.rr=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ur=V_(this.persistenceKey,this.er),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.ir=this.ir.insert(this.er,new rb),this.cr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.hr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.lr=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.dr=`firestore_online_state_${this.persistenceKey}`,this._r=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.nr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ye.Z)(function*(){const t=yield e.syncEngine.Fs();for(const i of t){if(i===e.er)continue;const a=e.getItem(V_(e.persistenceKey,i));if(a){const u=j_.Yi(i,a);u&&(e.ir=e.ir.insert(u.clientId,u))}}e.wr();const r=e.storage.getItem(e.dr);if(r){const i=e.mr(r);i&&e.gr(i)}for(const i of e.rr)e.sr(i);e.rr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.yr(this.ir)}isActiveQueryTarget(e){let t=!1;return this.ir.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.pr(e,"pending")}updateMutationState(e,t,r){this.pr(e,t,r),this.Ir(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(U_(this.persistenceKey,e));if(r){const i=ig.Yi(e,r);i&&(t=i.state)}}return this.Tr.Zi(e),this.wr(),t}removeLocalQueryTarget(e){this.Tr.tr(e),this.wr()}isLocalQueryTarget(e){return this.Tr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(U_(this.persistenceKey,e))}updateQueryState(e,t,r){this.Er(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Ir(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Ar(e)}notifyBundleLoaded(e){this.Rr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.nr),this.removeItem(this.ur),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Le("SharedClientState","READ",e,t),t}setItem(e,t){Le("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Le("SharedClientState","REMOVE",e),this.storage.removeItem(e)}sr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Le("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ur)return void br("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,ye.Z)(function*(){if(t.started){if(null!==r.key)if(t.cr.test(r.key)){if(null==r.newValue){const i=t.Pr(r.key);return t.br(i,null)}{const i=t.Vr(r.key,r.newValue);if(i)return t.br(i.clientId,i)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const i=t.vr(r.key,r.newValue);if(i)return t.Sr(i)}}else if(t.lr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(r.key===t.dr){if(null!==r.newValue){const i=t.mr(r.newValue);if(i)return t.gr(i)}}else if(r.key===t.ar){const i=function(a){let u=Wi.A;if(null!=a)try{const f=JSON.parse(a);Dt("number"==typeof f),u=f}catch(f){br("SharedClientState","Failed to read sequence number from WebStorage",f)}return u}(r.newValue);i!==Wi.A&&t.sequenceNumberHandler(i)}else if(r.key===t._r){const i=t.Nr(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.kr(a)))}}else t.rr.push(r)}))}}get Tr(){return this.ir.get(this.er)}wr(){this.setItem(this.ur,this.Tr.Xi())}pr(e,t,r){const i=new wf(this.currentUser,e,t,r),a=B_(this.persistenceKey,this.currentUser,e);this.setItem(a,i.Xi())}Ir(e){const t=B_(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ar(e){this.storage.setItem(this.dr,JSON.stringify({clientId:this.er,onlineState:e}))}Er(e,t,r){const i=U_(this.persistenceKey,e),a=new ig(e,t,r);this.setItem(i,a.Xi())}Rr(e){const t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}Pr(e){const t=this.cr.exec(e);return t?t[1]:null}Vr(e,t){const r=this.Pr(e);return j_.Yi(r,t)}vr(e,t){const r=this.hr.exec(e),i=Number(r[1]);return wf.Yi(new Ci(void 0!==r[2]?r[2]:null),i,t)}Dr(e,t){const r=this.lr.exec(e),i=Number(r[1]);return ig.Yi(i,t)}mr(e){return sg.Yi(e)}Nr(e){return JSON.parse(e)}Sr(e){var t=this;return(0,ye.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Mr(e.batchId,e.state,e.error);Le("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Cr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const r=t?this.ir.insert(e,t):this.ir.remove(e),i=this.yr(this.ir),a=this.yr(r),u=[],f=[];return a.forEach(_=>{i.has(_)||u.push(_)}),i.forEach(_=>{a.has(_)||f.push(_)}),this.syncEngine.Fr(u,f).then(()=>{this.ir=r})}gr(e){this.ir.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}yr(e){let t=sd();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class KC{constructor(){this.$r=new rb,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.$r.Zi(e),this.Br[e]||"not-current"}updateQueryState(e,t,r){this.Br[e]=t}removeLocalQueryTarget(e){this.$r.tr(e)}isLocalQueryTarget(e){return this.$r.activeTargetIds.has(e)}clearQueryState(e){delete this.Br[e]}getAllActiveQueryTargets(){return this.$r.activeTargetIds}isActiveQueryTarget(e){return this.$r.activeTargetIds.has(e)}start(){return this.$r=new rb,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class YC{Lr(e){}shutdown(){}}class QC{constructor(){this.Ur=()=>this.qr(),this.Kr=()=>this.Gr(),this.Qr=[],this.jr()}Lr(e){this.Qr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}qr(){Le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Qr)e(0)}Gr(){Le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Qr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const JC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class IN{constructor(e){this.Wr=e.Wr,this.zr=e.zr}Hr(e){this.Jr=e}Yr(e){this.Xr=e}onMessage(e){this.Zr=e}close(){this.zr()}send(e){this.Wr(e)}eo(){this.Jr()}no(e){this.Xr(e)}so(e){this.Zr(e)}}class vS extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.io=(e.ssl?"https":"http")+"://"+e.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}oo(e,t,r,i,a){const u=this.uo(e,t);Le("RestConnection","Sending: ",u,r);const f={};return this.ao(f,i,a),this.co(e,u,f,r).then(_=>(Le("RestConnection","Received: ",_),_),_=>{throw zh("RestConnection",`${e} failed with error: `,_,"url: ",u,"request:",r),_})}ho(e,t,r,i,a){return this.oo(e,t,r,i,a)}ao(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Zh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}uo(e,t){return`${this.io}/v1/${t}:${JC[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,r,i){return new Promise((a,u)=>{const f=new Jv;f.listenOnce(ST.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Qv.NO_ERROR:const b=f.getResponseJson();Le("Connection","XHR received:",JSON.stringify(b)),a(b);break;case Qv.TIMEOUT:Le("Connection",'RPC "'+e+'" timed out'),u(new Oe(ce.DEADLINE_EXCEEDED,"Request time out"));break;case Qv.HTTP_ERROR:const T=f.getStatus();if(Le("Connection",'RPC "'+e+'" failed with status:',T,"response text:",f.getResponseText()),T>0){const I=f.getResponseJson().error;if(I&&I.status&&I.message){const x=function(F){const U=F.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(U)>=0?U:ce.UNKNOWN}(I.status);u(new Oe(x,I.message))}else u(new Oe(ce.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new Oe(ce.UNAVAILABLE,"Connection failed."));break;default:lt()}}finally{Le("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(i);f.send(t,"POST",_,r,15)})}lo(e,t,r){const i=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=TT(),u=Yv(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new IT({})),this.ao(f.initMessageHeaders,t,r),(0,Tt.uI)()||(0,Tt.b$)()||(0,Tt.d)()||(0,Tt.w1)()||(0,Tt.Mn)()||(0,Tt.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const _=i.join("");Le("Connection","Creating WebChannel: "+_,f);const b=a.createWebChannel(_,f);let T=!1,I=!1;const x=new IN({Wr:U=>{I?Le("Connection","Not sending because WebChannel is closed:",U):(T||(Le("Connection","Opening WebChannel transport."),b.open(),T=!0),Le("Connection","WebChannel sending:",U),b.send(U))},zr:()=>b.close()}),F=(U,Z,se)=>{U.listen(Z,Pe=>{try{se(Pe)}catch(Me){setTimeout(()=>{throw Me},0)}})};return F(b,qh.EventType.OPEN,()=>{I||Le("Connection","WebChannel transport opened.")}),F(b,qh.EventType.CLOSE,()=>{I||(I=!0,Le("Connection","WebChannel transport closed"),x.no())}),F(b,qh.EventType.ERROR,U=>{I||(I=!0,zh("Connection","WebChannel transport errored:",U),x.no(new Oe(ce.UNAVAILABLE,"The operation could not be completed")))}),F(b,qh.EventType.MESSAGE,U=>{var Z;if(!I){const se=U.data[0];Dt(!!se);const Pe=se,Me=Pe.error||(null===(Z=Pe[0])||void 0===Z?void 0:Z.error);if(Me){Le("Connection","WebChannel received error:",Me);const Re=Me.status;let Ae=function(ze){const ut=Wr[ze];if(void 0!==ut)return __(ut)}(Re),$e=Me.message;void 0===Ae&&(Ae=ce.INTERNAL,$e="Unknown error status: "+Re+" with message "+Me.message),I=!0,x.no(new Oe(Ae,$e)),b.close()}else Le("Connection","WebChannel received:",se),x.so(se)}}),F(u,Km.STAT_EVENT,U=>{U.stat===Ym.PROXY?Le("Connection","Detected buffering proxy"):U.stat===Ym.NOPROXY&&Le("Connection","Detected no buffering proxy")}),setTimeout(()=>{x.eo()},0),x}}function og(){return"undefined"!=typeof window?window:null}function $_(){return"undefined"!=typeof document?document:null}function Ia(n){return new rC(n,!0)}class _d{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Yn=e,this.timerId=t,this.fo=r,this._o=i,this.wo=a,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}reset(){this.mo=0}Io(){this.mo=this.wo}To(e){this.cancel();const t=Math.floor(this.mo+this.Eo()),r=Math.max(0,Date.now()-this.po),i=Math.max(0,t-r);i>0&&Le("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.mo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.yo=this.Yn.enqueueAfterDelay(this.timerId,i,()=>(this.po=Date.now(),e())),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}Ao(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}cancel(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}Eo(){return(Math.random()-.5)*this.mo}}class XC{constructor(e,t,r,i,a,u,f,_){this.Yn=e,this.Ro=r,this.Po=i,this.bo=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new _d(e,t)}Co(){return 1===this.state||5===this.state||this.xo()}xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.No()}stop(){var e=this;return(0,ye.Z)(function*(){e.Co()&&(yield e.close(0))})()}ko(){this.state=0,this.Do.reset()}Mo(){this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,()=>this.Oo()))}Fo(e){this.$o(),this.stream.send(e)}Oo(){var e=this;return(0,ye.Z)(function*(){if(e.xo())return e.close(0)})()}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}Bo(){this.So&&(this.So.cancel(),this.So=null)}close(e,t){var r=this;return(0,ye.Z)(function*(){r.$o(),r.Bo(),r.Do.cancel(),r.Vo++,4!==e?r.Do.reset():t&&t.code===ce.RESOURCE_EXHAUSTED?(br(t.toString()),br("Using maximum backoff delay to prevent overloading the backend."),r.Do.Io()):t&&t.code===ce.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Lo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Yr(t)})()}Lo(){}auth(){this.state=1;const e=this.Uo(this.Vo),t=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Vo===t&&this.qo(r,i)},r=>{e(()=>{const i=new Oe(ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ko(i)})})}qo(e,t){const r=this.Uo(this.Vo);this.stream=this.Go(e,t),this.stream.Hr(()=>{r(()=>(this.state=2,this.So=this.Yn.enqueueAfterDelay(this.Po,1e4,()=>(this.xo()&&(this.state=3),Promise.resolve())),this.listener.Hr()))}),this.stream.Yr(i=>{r(()=>this.Ko(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}No(){var e=this;this.state=5,this.Do.To((0,ye.Z)(function*(){e.state=0,e.start()}))}Ko(e){return Le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return t=>{this.Yn.enqueueAndForget(()=>this.Vo===e?t():(Le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class AN extends XC{constructor(e,t,r,i,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.M=a}Go(e,t){return this.bo.lo("Listen",e,t)}onMessage(e){this.Do.reset();const t=function EN(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:lt(),i=e.targetChange.targetIds||[],a=function(_,b){return _.N?(Dt(void 0===b||"string"==typeof b),Rr.fromBase64String(b||"")):(Dt(void 0===b||b instanceof Uint8Array),Rr.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(_){const b=void 0===_.code?ce.UNKNOWN:__(_.code);return new Oe(b,_.message||"")}(u);t=new E0(r,i,a,f||null)}else if("documentChange"in e){const r=e.documentChange,i=$o(n,r.document.name),a=oi(r.document.updateTime),u=new Vi({mapValue:{fields:r.document.fields}}),f=Dn.newFoundDocument(i,a,u);t=new Zp(r.targetIds||[],r.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const r=e.documentDelete,i=$o(n,r.document),a=r.readTime?oi(r.readTime):xt.min(),u=Dn.newNoDocument(i,a);t=new Zp([],r.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const r=e.documentRemove,i=$o(n,r.document);t=new Zp([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return lt();{const r=e.filter,a=new w0(r.count||0);t=new D0(r.targetId,a)}}var _;return t}(this.M,e),r=function(i){if(!("targetChange"in i))return xt.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?xt.min():a.readTime?oi(a.readTime):xt.min()}(e);return this.listener.Qo(t,r)}jo(e){const t={};t.database=Kp(this.M),t.addTarget=function(i,a){let u;const f=a.target;return u=hl(f)?{documents:lC(i,f)}:{query:M0(i,f)},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?u.resumeToken=Fr(i,a.resumeToken):a.snapshotVersion.compareTo(xt.min())>0&&(u.readTime=zp(i,a.snapshotVersion.toTimestamp())),u}(this.M,e);const r=function qo(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return lt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Fo(t)}Wo(e){const t={};t.database=Kp(this.M),t.removeTarget=e,this.Fo(t)}}class eD extends XC{constructor(e,t,r,i,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.M=a,this.zo=!1}get Ho(){return this.zo}start(){this.zo=!1,this.lastStreamToken=void 0,super.start()}Lo(){this.zo&&this.Jo([])}Go(e,t){return this.bo.lo("Write",e,t)}onMessage(e){if(Dt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();const t=function Ea(n,e){return n&&n.length>0?(Dt(void 0!==e),n.map(t=>function(r,i){let a=oi(r.updateTime?r.updateTime:i);return a.isEqual(xt.min())&&(a=oi(i)),new Y1(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=oi(e.commitTime);return this.listener.Yo(r,t)}return Dt(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}Zo(){const e={};e.database=Kp(this.M),this.Fo(e)}Jo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>ad(this.M,r))};this.Fo(t)}}class bS extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.M=i,this.tu=!1}eu(){if(this.tu)throw new Oe(ce.FAILED_PRECONDITION,"The client has already been terminated.")}oo(e,t,r){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.bo.oo(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Oe(ce.UNKNOWN,i.toString())})}ho(e,t,r){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.bo.ho(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Oe(ce.UNKNOWN,i.toString())})}terminate(){this.tu=!0}}class wS{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}ru(){0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.su=null,this.uu("Backend didn't respond within 10 seconds."),this.ou("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ou("Offline")))}set(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}ou(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}uu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.iu?(br(t),this.iu=!1):Le("OnlineStateTracker",t)}cu(){null!==this.su&&(this.su.cancel(),this.su=null)}}class CS{constructor(e,t,r,i,a){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=a,this._u.Lr(f=>{r.enqueueAndForget((0,ye.Z)(function*(){var _;Rc(u)&&(Le("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,ye.Z)(function*(b){const T=Qe(b);T.fu.add(4),yield yd(T),T.wu.set("Unknown"),T.fu.delete(4),yield ag(T)}),function(b){return _.apply(this,arguments)})(u))}))}),this.wu=new wS(r,i)}}function ag(n){return G_.apply(this,arguments)}function G_(){return G_=(0,ye.Z)(function*(n){if(Rc(n))for(const e of n.du)yield e(!0)}),G_.apply(this,arguments)}function yd(n){return lg.apply(this,arguments)}function lg(){return lg=(0,ye.Z)(function*(n){for(const e of n.du)yield e(!1)}),lg.apply(this,arguments)}function vd(n,e){const t=Qe(n);t.lu.has(e.targetId)||(t.lu.set(e.targetId,e),ob(t)?q_(t):wd(t).xo()&&ib(t,e))}function wl(n,e){const t=Qe(n),r=wd(t);t.lu.delete(e),r.xo()&&sb(t,e),0===t.lu.size&&(r.xo()?r.Mo():Rc(t)&&t.wu.set("Unknown"))}function ib(n,e){n.mu.Z(e.targetId),wd(n).jo(e)}function sb(n,e){n.mu.Z(e),wd(n).Wo(e)}function q_(n){n.mu=new nC({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.lu.get(e)||null}),wd(n).start(),n.wu.ru()}function ob(n){return Rc(n)&&!wd(n).Co()&&n.lu.size>0}function Rc(n){return 0===Qe(n).fu.size}function Z_(n){n.mu=void 0}function DS(n){return tD.apply(this,arguments)}function tD(){return tD=(0,ye.Z)(function*(n){n.lu.forEach((e,t)=>{ib(n,e)})}),tD.apply(this,arguments)}function ES(n,e){return ab.apply(this,arguments)}function ab(){return ab=(0,ye.Z)(function*(n,e){Z_(n),ob(n)?(n.wu.au(e),q_(n)):n.wu.set("Unknown")}),ab.apply(this,arguments)}function Cf(n,e,t){return z_.apply(this,arguments)}function z_(){return z_=(0,ye.Z)(function*(n,e,t){if(n.wu.set("Online"),e instanceof E0&&2===e.state&&e.cause)try{yield(r=(0,ye.Z)(function*(i,a){const u=a.cause;for(const f of a.targetIds)i.lu.has(f)&&(yield i.remoteSyncer.rejectListen(f,u),i.lu.delete(f),i.mu.removeTarget(f))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){Le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Cl(n,r)}else if(e instanceof Zp?n.mu.ut(e):e instanceof D0?n.mu._t(e):n.mu.ht(e),!t.isEqual(xt.min()))try{const r=yield L_(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const u=i.mu.yt(a);return u.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const b=i.lu.get(_);b&&i.lu.set(_,b.withResumeToken(f.resumeToken,a))}}),u.targetMismatches.forEach(f=>{const _=i.lu.get(f);if(!_)return;i.lu.set(f,_.withResumeToken(Rr.EMPTY_BYTE_STRING,_.snapshotVersion)),sb(i,f);const b=new yl(_.target,f,1,_.sequenceNumber);ib(i,b)}),i.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(r){Le("RemoteStore","Failed to raise snapshot:",r),yield Cl(n,r)}var r}),z_.apply(this,arguments)}function Cl(n,e,t){return nD.apply(this,arguments)}function nD(){return nD=(0,ye.Z)(function*(n,e,t){if(!cd(e))throw e;n.fu.add(1),yield yd(n),n.wu.set("Offline"),t||(t=()=>L_(n.localStore)),n.asyncQueue.enqueueRetryable((0,ye.Z)(function*(){Le("RemoteStore","Retrying IndexedDB access"),yield t(),n.fu.delete(1),yield ag(n)}))}),nD.apply(this,arguments)}function lb(n,e){return e().catch(t=>Cl(n,t,e))}function Df(n){return rD.apply(this,arguments)}function rD(){return rD=(0,ye.Z)(function*(n){const e=Qe(n),t=Dl(e);let r=e.hu.length>0?e.hu[e.hu.length-1].batchId:-1;for(;iD(e);)try{const i=yield $C(e.localStore,r);if(null===i){0===e.hu.length&&t.Mo();break}r=i.batchId,NN(e,i)}catch(i){yield Cl(e,i)}cb(e)&&W_(e)}),rD.apply(this,arguments)}function iD(n){return Rc(n)&&n.hu.length<10}function NN(n,e){n.hu.push(e);const t=Dl(n);t.xo()&&t.Ho&&t.Jo(e.mutations)}function cb(n){return Rc(n)&&!Dl(n).Co()&&n.hu.length>0}function W_(n){Dl(n).start()}function TS(n){return K_.apply(this,arguments)}function K_(){return K_=(0,ye.Z)(function*(n){Dl(n).Zo()}),K_.apply(this,arguments)}function sD(n){return Y_.apply(this,arguments)}function Y_(){return Y_=(0,ye.Z)(function*(n){const e=Dl(n);for(const t of n.hu)e.Jo(t.mutations)}),Y_.apply(this,arguments)}function SS(n,e,t){return ub.apply(this,arguments)}function ub(){return ub=(0,ye.Z)(function*(n,e,t){const r=n.hu.shift(),i=E_.from(r,e,t);yield lb(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Df(n)}),ub.apply(this,arguments)}function IS(n,e){return db.apply(this,arguments)}function db(){return db=(0,ye.Z)(function*(n,e){var t;e&&Dl(n).Ho&&(yield(t=(0,ye.Z)(function*(r,i){if(m_(a=i.code)&&a!==ce.ABORTED){const u=r.hu.shift();Dl(r).ko(),yield lb(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,i)),yield Df(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),cb(n)&&W_(n)}),db.apply(this,arguments)}function oD(n,e){return hb.apply(this,arguments)}function hb(){return hb=(0,ye.Z)(function*(n,e){const t=Qe(n);t.asyncQueue.verifyOperationInProgress(),Le("RemoteStore","RemoteStore received new credentials");const r=Rc(t);t.fu.add(3),yield yd(t),r&&t.wu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.fu.delete(3),yield ag(t)}),hb.apply(this,arguments)}function bd(n,e){return Q_.apply(this,arguments)}function Q_(){return Q_=(0,ye.Z)(function*(n,e){const t=Qe(n);e?(t.fu.delete(2),yield ag(t)):e||(t.fu.add(2),yield yd(t),t.wu.set("Unknown"))}),Q_.apply(this,arguments)}function wd(n){return n.gu||(n.gu=function(e,t,r){const i=Qe(e);return i.eu(),new AN(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Hr:DS.bind(null,n),Yr:ES.bind(null,n),Qo:Cf.bind(null,n)}),n.du.push(function(){var e=(0,ye.Z)(function*(t){t?(n.gu.ko(),ob(n)?q_(n):n.wu.set("Unknown")):(yield n.gu.stop(),Z_(n))});return function(t){return e.apply(this,arguments)}}())),n.gu}function Dl(n){return n.yu||(n.yu=function(e,t,r){const i=Qe(e);return i.eu(),new eD(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Hr:TS.bind(null,n),Yr:IS.bind(null,n),Xo:sD.bind(null,n),Yo:SS.bind(null,n)}),n.du.push(function(){var e=(0,ye.Z)(function*(t){t?(n.yu.ko(),yield Df(n)):(yield n.yu.stop(),n.hu.length>0&&(Le("RemoteStore",`Stopping write stream with ${n.hu.length} pending writes`),n.hu=[]))});return function(t){return e.apply(this,arguments)}}())),n.yu}class J_{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,r,i,a){const u=Date.now()+r,f=new J_(e,t,u,i,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Oe(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cd(n,e){if(br("AsyncQueue",`${e}: ${n}`),cd(n))return new Oe(ce.UNAVAILABLE,`${e}: ${n}`);throw n}class Dd{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ge.comparator(t.key,r.key):(t,r)=>Ge.comparator(t.key,r.key),this.keyedMap=qp(),this.sortedSet=new cr(this.comparator)}static emptySet(e){return new Dd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Dd)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Dd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class aD{constructor(){this.pu=new cr(Ge.comparator)}track(e){const t=e.doc.key,r=this.pu.get(t);r?0!==e.type&&3===r.type?this.pu=this.pu.insert(t,e):3===e.type&&1!==r.type?this.pu=this.pu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.pu=this.pu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.pu=this.pu.remove(t):1===e.type&&2===r.type?this.pu=this.pu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):lt():this.pu=this.pu.insert(t,e)}Iu(){const e=[];return this.pu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ed{constructor(e,t,r,i,a,u,f,_){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=_}static fromInitialDocuments(e,t,r,i){const a=[];return t.forEach(u=>{a.push({type:0,doc:u})}),new Ed(e,t,Dd.emptySet(t),a,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class AS{constructor(){this.Tu=void 0,this.listeners=[]}}class NS{constructor(){this.queries=new _l(e=>h_(e),Bp),this.onlineState="Unknown",this.Eu=new Set}}function fb(n,e){return pb.apply(this,arguments)}function pb(){return pb=(0,ye.Z)(function*(n,e){const t=Qe(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new AS),i)try{a.Tu=yield t.onListen(r)}catch(u){const f=Cd(u,`Initialization of query '${Up(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,a),a.listeners.push(e),e.Au(t.onlineState),a.Tu&&e.Ru(a.Tu)&&_b(t)}),pb.apply(this,arguments)}function Td(n,e){return gb.apply(this,arguments)}function gb(){return gb=(0,ye.Z)(function*(n,e){const t=Qe(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const u=a.listeners.indexOf(e);u>=0&&(a.listeners.splice(u,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),gb.apply(this,arguments)}function mb(n,e){const t=Qe(n);let r=!1;for(const i of e){const u=t.queries.get(i.query);if(u){for(const f of u.listeners)f.Ru(i)&&(r=!0);u.Tu=i}}r&&_b(t)}function Aa(n,e,t){const r=Qe(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function _b(n){n.Eu.forEach(e=>{e.next()})}class cg{constructor(e,t,r){this.query=e,this.Pu=t,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}Ru(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Ed(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),t=!0):this.Su(e,this.onlineState)&&(this.Du(e),t=!0),this.Vu=e,t}onError(e){this.Pu.error(e)}Au(e){this.onlineState=e;let t=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),t=!0),t}Su(e,t){return!e.fromCache||!(this.options.Cu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Du(e){e=Ed.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}class ug{constructor(e,t){this.payload=e,this.byteLength=t}xu(){return"metadata"in this.payload}}class lD{constructor(e){this.M=e}fi(e){return $o(this.M,e)}di(e){return e.metadata.exists?oC(this.M,e.document,!1):Dn.newNoDocument(this.fi(e.metadata.name),this._i(e.metadata.readTime))}_i(e){return oi(e)}}class MS{constructor(e,t,r){this.Nu=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=cD(e)}ku(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=dn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Mu(e){const t=new Map,r=new lD(this.M);for(const i of e)if(i.metadata.queries){const a=r.fi(i.metadata.name);for(const u of i.metadata.queries){const f=(t.get(u)||vn()).add(a);t.set(u,f)}}return t}complete(){var e=this;return(0,ye.Z)(function*(){const t=yield function fS(n,e,t,r){return J0.apply(this,arguments)}(e.localStore,new lD(e.M),e.documents,e.Nu.id),r=e.Mu(e.documents);for(const i of e.queries)yield pS(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Fu:t}})()}}function cD(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class dg{constructor(e){this.key=e}}class hg{constructor(e){this.key=e}}class uD{constructor(e,t){this.query=e,this.$u=t,this.Bu=null,this.current=!1,this.Lu=vn(),this.mutatedKeys=vn(),this.Uu=LT(e),this.qu=new Dd(this.Uu)}get Ku(){return this.$u}Gu(e,t){const r=t?t.Qu:new aD,i=t?t.qu:this.qu;let a=t?t.mutatedKeys:this.mutatedKeys,u=i,f=!1;const _=l_(this.query)&&i.size===this.query.limit?i.last():null,b=c_(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((T,I)=>{const x=i.get(T),F=g0(this.query,I)?I:null,U=!!x&&this.mutatedKeys.has(x.key),Z=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let se=!1;x&&F?x.data.isEqual(F.data)?U!==Z&&(r.track({type:3,doc:F}),se=!0):this.ju(x,F)||(r.track({type:2,doc:F}),se=!0,(_&&this.Uu(F,_)>0||b&&this.Uu(F,b)<0)&&(f=!0)):!x&&F?(r.track({type:0,doc:F}),se=!0):x&&!F&&(r.track({type:1,doc:x}),se=!0,(_||b)&&(f=!0)),se&&(F?(u=u.add(F),a=Z?a.add(T):a.delete(T)):(u=u.delete(T),a=a.delete(T)))}),l_(this.query)||c_(this.query))for(;u.size>this.query.limit;){const T=l_(this.query)?u.last():u.first();u=u.delete(T.key),a=a.delete(T.key),r.track({type:1,doc:T})}return{qu:u,Qu:r,ni:f,mutatedKeys:a}}ju(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;const a=e.Qu.Iu();a.sort((b,T)=>function(I,x){const F=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return lt()}};return F(I)-F(x)}(b.type,T.type)||this.Uu(b.doc,T.doc)),this.Wu(r);const u=t?this.zu():[],f=0===this.Lu.size&&this.current?1:0,_=f!==this.Bu;return this.Bu=f,0!==a.length||_?{snapshot:new Ed(this.query,e.qu,i,a,e.mutatedKeys,0===f,_,!1),Hu:u}:{Hu:u}}Au(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new aD,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}Ju(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}Wu(e){e&&(e.addedDocuments.forEach(t=>this.$u=this.$u.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.$u=this.$u.delete(t)),this.current=e.current)}zu(){if(!this.current)return[];const e=this.Lu;this.Lu=vn(),this.qu.forEach(r=>{this.Ju(r.key)&&(this.Lu=this.Lu.add(r.key))});const t=[];return e.forEach(r=>{this.Lu.has(r)||t.push(new hg(r))}),this.Lu.forEach(r=>{e.has(r)||t.push(new dg(r))}),t}Yu(e){this.$u=e.li,this.Lu=vn();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Xu(){return Ed.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}class OS{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class dD{constructor(e){this.key=e,this.Zu=!1}}class hD{constructor(e,t,r,i,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.ta={},this.ea=new _l(f=>h_(f),Bp),this.na=new Map,this.sa=new Set,this.ia=new cr(Ge.comparator),this.ra=new Map,this.oa=new eb,this.ua={},this.aa=new Map,this.ca=gd.yn(),this.onlineState="Unknown",this.ha=void 0}get isPrimaryClient(){return!0===this.ha}}function yb(n,e){return X_.apply(this,arguments)}function X_(){return X_=(0,ye.Z)(function*(n,e){const t=Ef(n);let r,i;const a=t.ea.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.Xu();else{const u=yield yf(t.localStore,vo(e));t.isPrimaryClient&&vd(t.remoteStore,u);const f=t.sharedClientState.addLocalQueryTarget(u.targetId);r=u.targetId,i=yield vb(t,e,r,"current"===f)}return i}),X_.apply(this,arguments)}function vb(n,e,t,r){return bb.apply(this,arguments)}function bb(){return bb=(0,ye.Z)(function*(n,e,t,r){n.la=(T,I,x)=>{return(F=(0,ye.Z)(function*(U,Z,se,Pe){let Me=Z.view.Gu(se);Me.ni&&(Me=yield bf(U.localStore,Z.query,!1).then(({documents:$e})=>Z.view.Gu($e,Me)));const Re=Pe&&Pe.targetChanges.get(Z.targetId),Ae=Z.view.applyChanges(Me,U.isPrimaryClient,Re);return Sb(U,Z.targetId,Ae.Hu),Ae.snapshot}),function(U,Z,se,Pe){return F.apply(this,arguments)})(n,T,I,x);var F};const i=yield bf(n.localStore,e,!0),a=new uD(e,i.li),u=a.Gu(i.documents),f=af.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),_=a.applyChanges(u,n.isPrimaryClient,f);Sb(n,t,_.Hu);const b=new OS(e,t,a);return n.ea.set(e,b),n.na.has(t)?n.na.get(t).push(e):n.na.set(t,[e]),_.snapshot}),bb.apply(this,arguments)}function MN(n,e){return fg.apply(this,arguments)}function fg(){return fg=(0,ye.Z)(function*(n,e){const t=Qe(n),r=t.ea.get(e),i=t.na.get(r.targetId);if(i.length>1)return t.na.set(r.targetId,i.filter(a=>!Bp(a,e))),void t.ea.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield vf(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),wl(t.remoteStore,r.targetId),Sd(t,r.targetId)}).catch(Pc))):(Sd(t,r.targetId),yield vf(t.localStore,r.targetId,!0))}),fg.apply(this,arguments)}function ey(){return ey=(0,ye.Z)(function*(n,e,t){const r=uy(n);try{const i=yield function(a,u){const f=Qe(a),_=wr.now(),b=u.reduce((I,x)=>I.add(x.key),vn());let T;return f.persistence.runTransaction("Locally write mutations","readwrite",I=>f.ci.Ks(I,b).next(x=>{T=x;const F=[];for(const U of u){const Z=b0(U,T.get(U.key));null!=Z&&F.push(new Nc(U.key,Z,Lp(Z.value.mapValue),kr.exists(!0)))}return f.Bs.addMutationBatch(I,_,F,u)})).then(I=>(I.applyToLocalDocumentSet(T),{batchId:I.batchId,changes:T}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,u,f){let _=a.ua[a.currentUser.toKey()];_||(_=new cr(Bt)),_=_.insert(u,f),a.ua[a.currentUser.toKey()]=_}(r,i.batchId,t),yield tr(r,i.changes),yield Df(r.remoteStore)}catch(i){const a=Cd(i,"Failed to persist write");t.reject(a)}}),ey.apply(this,arguments)}function ty(n,e){return pg.apply(this,arguments)}function pg(){return pg=(0,ye.Z)(function*(n,e){const t=Qe(n);try{const r=yield hS(t.localStore,e);e.targetChanges.forEach((i,a)=>{const u=t.ra.get(a);u&&(Dt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?u.Zu=!0:i.modifiedDocuments.size>0?Dt(u.Zu):i.removedDocuments.size>0&&(Dt(u.Zu),u.Zu=!1))}),yield tr(t,r,e)}catch(r){yield Pc(r)}}),pg.apply(this,arguments)}function fD(n,e,t){const r=Qe(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ea.forEach((a,u)=>{const f=u.view.Au(e);f.snapshot&&i.push(f.snapshot)}),function(a,u){const f=Qe(a);f.onlineState=u;let _=!1;f.queries.forEach((b,T)=>{for(const I of T.listeners)I.Au(u)&&(_=!0)}),_&&_b(f)}(r.eventManager,e),i.length&&r.ta.Qo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function xS(n,e,t){return Cb.apply(this,arguments)}function Cb(){return Cb=(0,ye.Z)(function*(n,e,t){const r=Qe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ra.get(e),a=i&&i.key;if(a){let u=new cr(Ge.comparator);u=u.insert(a,Dn.newNoDocument(a,xt.min()));const f=vn().add(a),_=new sf(xt.min(),new Map,new Pn(Bt),u,f);yield ty(r,_),r.ia=r.ia.remove(a),r.ra.delete(e),oy(r)}else yield vf(r.localStore,e,!1).then(()=>Sd(r,e,t)).catch(Pc)}),Cb.apply(this,arguments)}function PS(n,e){return ny.apply(this,arguments)}function ny(){return ny=(0,ye.Z)(function*(n,e){const t=Qe(n),r=e.batch.batchId;try{const i=yield dS(t.localStore,e);Eb(t,r,null),sy(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield tr(t,i)}catch(i){yield Pc(i)}}),ny.apply(this,arguments)}function Db(n,e,t){return ry.apply(this,arguments)}function ry(){return ry=(0,ye.Z)(function*(n,e,t){const r=Qe(n);try{const i=yield function(a,u){const f=Qe(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let b;return f.Bs.lookupMutationBatch(_,u).next(T=>(Dt(null!==T),b=T.keys(),f.Bs.removeMutationBatch(_,T))).next(()=>f.Bs.performConsistencyCheck(_)).next(()=>f.ci.Ks(_,b))})}(r.localStore,e);Eb(r,e,t),sy(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield tr(r,i)}catch(i){yield Pc(i)}}),ry.apply(this,arguments)}function iy(){return iy=(0,ye.Z)(function*(n,e){const t=Qe(n);Rc(t.remoteStore)||Le("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const u=Qe(a);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>u.Bs.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.aa.get(r)||[];i.push(e),t.aa.set(r,i)}catch(r){const i=Cd(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),iy.apply(this,arguments)}function sy(n,e){(n.aa.get(e)||[]).forEach(t=>{t.resolve()}),n.aa.delete(e)}function Eb(n,e,t){const r=Qe(n);let i=r.ua[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.ua[r.currentUser.toKey()]=i}}function Sd(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.na.get(e))n.ea.delete(r),t&&n.ta.fa(r,t);n.na.delete(e),n.isPrimaryClient&&n.oa.Pi(e).forEach(r=>{n.oa.containsKey(r)||Tb(n,r)})}function Tb(n,e){n.sa.delete(e.path.canonicalString());const t=n.ia.get(e);null!==t&&(wl(n.remoteStore,t),n.ia=n.ia.remove(e),n.ra.delete(t),oy(n))}function Sb(n,e,t){for(const r of t)r instanceof dg?(n.oa.addReference(r.key,e),gD(n,r)):r instanceof hg?(Le("SyncEngine","Document no longer in limbo: "+r.key),n.oa.removeReference(r.key,e),n.oa.containsKey(r.key)||Tb(n,r.key)):lt()}function gD(n,e){const t=e.key,r=t.path.canonicalString();n.ia.get(t)||n.sa.has(r)||(Le("SyncEngine","New document in limbo: "+t),n.sa.add(r),oy(n))}function oy(n){for(;n.sa.size>0&&n.ia.size<n.maxConcurrentLimboResolutions;){const e=n.sa.values().next().value;n.sa.delete(e);const t=new Ge(dn.fromString(e)),r=n.ca.next();n.ra.set(r,new dD(t)),n.ia=n.ia.insert(t,r),vd(n.remoteStore,new yl(vo(nd(t.path)),r,2,Wi.A))}}function tr(n,e,t){return kc.apply(this,arguments)}function kc(){return kc=(0,ye.Z)(function*(n,e,t){const r=Qe(n),i=[],a=[],u=[];var f;r.ea.isEmpty()||(r.ea.forEach((f,_)=>{u.push(r.la(_,e,t).then(b=>{if(b){r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,b.fromCache?"not-current":"current"),i.push(b);const T=Z0.Ys(_.targetId,b);a.push(T)}}))}),yield Promise.all(u),r.ta.Qo(i),yield(f=(0,ye.Z)(function*(_,b){const T=Qe(_);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>pe.forEach(b,x=>pe.forEach(x.Hs,F=>T.persistence.referenceDelegate.addReference(I,x.targetId,F)).next(()=>pe.forEach(x.Js,F=>T.persistence.referenceDelegate.removeReference(I,x.targetId,F)))))}catch(I){if(!cd(I))throw I;Le("LocalStore","Failed to update sequence numbers: "+I)}for(const I of b){const x=I.targetId;if(!I.fromCache){const F=T.ii.get(x),Z=F.withLastLimboFreeSnapshotVersion(F.snapshotVersion);T.ii=T.ii.insert(x,Z)}}}),function(_,b){return f.apply(this,arguments)})(r.localStore,a))}),kc.apply(this,arguments)}function RS(n,e){return Ib.apply(this,arguments)}function Ib(){return Ib=(0,ye.Z)(function*(n,e){const t=Qe(n);if(!t.currentUser.isEqual(e)){Le("SyncEngine","User change. New user:",e.toKey());const r=yield HC(t.localStore,e);t.currentUser=e,(i=t).aa.forEach(u=>{u.forEach(f=>{f.reject(new Oe(ce.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.aa.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield tr(t,r.hi)}var i}),Ib.apply(this,arguments)}function ON(n,e){const t=Qe(n),r=t.ra.get(e);if(r&&r.Zu)return vn().add(r.key);{let i=vn();const a=t.na.get(e);if(!a)return i;for(const u of a){const f=t.ea.get(u);i=i.unionWith(f.view.Ku)}return i}}function gg(n,e){return Ab.apply(this,arguments)}function Ab(){return Ab=(0,ye.Z)(function*(n,e){const t=Qe(n),r=yield bf(t.localStore,e.query,!0),i=e.view.Yu(r);return t.isPrimaryClient&&Sb(t,e.targetId,i.Hu),i}),Ab.apply(this,arguments)}function Nb(n,e){return Mb.apply(this,arguments)}function Mb(){return Mb=(0,ye.Z)(function*(n,e){const t=Qe(n);return Q0(t.localStore,e).then(r=>tr(t,r))}),Mb.apply(this,arguments)}function mD(n,e,t,r){return Ob.apply(this,arguments)}function Ob(){return Ob=(0,ye.Z)(function*(n,e,t,r){const i=Qe(n),a=yield function(u,f){const _=Qe(u),b=Qe(_.Bs);return _.persistence.runTransaction("Lookup mutation documents","readonly",T=>b.fn(T,f).next(I=>I?_.ci.Ks(T,I):pe.resolve(null)))}(i.localStore,e);var f;null!==a?("pending"===t?yield Df(i.remoteStore):"acknowledged"===t||"rejected"===t?(Eb(i,e,r||null),sy(i,e),f=e,Qe(Qe(i.localStore).Bs)._n(f)):lt(),yield tr(i,a)):Le("SyncEngine","Cannot apply mutation batch with id: "+e)}),Ob.apply(this,arguments)}function mg(){return mg=(0,ye.Z)(function*(n,e){const t=Qe(n);if(Ef(t),uy(t),!0===e&&!0!==t.ha){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield xb(t,r.toArray());t.ha=!0,yield bd(t.remoteStore,!0);for(const a of i)vd(t.remoteStore,a)}else if(!1===e&&!1!==t.ha){const r=[];let i=Promise.resolve();t.na.forEach((a,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):i=i.then(()=>(Sd(t,u),vf(t.localStore,u,!0))),wl(t.remoteStore,u)}),yield i,yield xb(t,r),function(a){const u=Qe(a);u.ra.forEach((f,_)=>{wl(u.remoteStore,_)}),u.oa.bi(),u.ra=new Map,u.ia=new cr(Ge.comparator)}(t),t.ha=!1,yield bd(t.remoteStore,!1)}}),mg.apply(this,arguments)}function xb(n,e,t){return ay.apply(this,arguments)}function ay(){return ay=(0,ye.Z)(function*(n,e,t){const r=Qe(n),i=[],a=[];for(const u of e){let f;const _=r.na.get(u);if(_&&0!==_.length){f=yield yf(r.localStore,vo(_[0]));for(const b of _){const T=r.ea.get(b),I=yield gg(r,T);I.snapshot&&a.push(I.snapshot)}}else{const b=yield GC(r.localStore,u);f=yield yf(r.localStore,b),yield vb(r,_g(b),u,!1)}i.push(f)}return r.ta.Qo(a),i}),ay.apply(this,arguments)}function _g(n){return f0(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Pb(n){const e=Qe(n);return Qe(Qe(e.localStore).persistence).Fs()}function xN(n,e,t,r){return ly.apply(this,arguments)}function ly(){return ly=(0,ye.Z)(function*(n,e,t,r){const i=Qe(n);if(i.ha)return void Le("SyncEngine","Ignoring unexpected query state notification.");const a=i.na.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const u=yield Q0(i.localStore,FT(a[0])),f=sf.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield tr(i,u,f);break}case"rejected":yield vf(i.localStore,e,!0),Sd(i,e,r);break;default:lt()}}),ly.apply(this,arguments)}function FS(n,e,t){return cy.apply(this,arguments)}function cy(){return cy=(0,ye.Z)(function*(n,e,t){const r=Ef(n);if(r.ha){for(const i of e){if(r.na.has(i)){Le("SyncEngine","Adding an already active target "+i);continue}const a=yield GC(r.localStore,i),u=yield yf(r.localStore,a);yield vb(r,_g(a),u.targetId,!1),vd(r.remoteStore,u)}for(const i of t)r.na.has(i)&&(yield vf(r.localStore,i,!1).then(()=>{wl(r.remoteStore,i),Sd(r,i)}).catch(Pc))}}),cy.apply(this,arguments)}function Ef(n){const e=Qe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=ty.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ON.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xS.bind(null,e),e.ta.Qo=mb.bind(null,e.eventManager),e.ta.fa=Aa.bind(null,e.eventManager),e}function uy(n){const e=Qe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=PS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Db.bind(null,e),e}class dy{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ye.Z)(function*(){t.M=Ia(e.databaseInfo.databaseId),t.sharedClientState=t._a(e),t.persistence=t.wa(e),yield t.persistence.start(),t.gcScheduler=t.ma(e),t.localStore=t.ga(e)})()}ma(e){return null}ga(e){return W0(this.persistence,new z0,e.initialUser,this.M)}wa(e){return new WC(nb.zi,this.M)}_a(e){return new KC}terminate(){var e=this;return(0,ye.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class hy extends dy{constructor(e,t,r){super(),this.ya=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ye.Z)(function*(){yield t().call(r,e),yield r.ya.initialize(r,e),yield uy(r.ya.syncEngine),yield Df(r.ya.remoteStore),yield r.persistence.Ts(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}ga(e){return W0(this.persistence,new z0,e.initialUser,this.M)}ma(e){return new aS(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}wa(e){const t=q0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?cs.withCacheSize(this.cacheSizeBytes):cs.DEFAULT;return new G0(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,og(),$_(),this.M,this.sharedClientState,!!this.forceOwnership)}_a(e){return new KC}}class PN extends hy{constructor(e,t){super(e,t,!1),this.ya=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ye.Z)(function*(){yield t().call(r,e);const i=r.ya.syncEngine;r.sharedClientState instanceof H_&&(r.sharedClientState.syncEngine={Mr:mD.bind(null,i),Or:xN.bind(null,i),Fr:FS.bind(null,i),Fs:Pb.bind(null,i),kr:Nb.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ts(function(){var a=(0,ye.Z)(function*(u){yield function kS(n,e){return mg.apply(this,arguments)}(r.ya.syncEngine,u),r.gcScheduler&&(u&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):u||r.gcScheduler.stop())});return function(u){return a.apply(this,arguments)}}())})()}_a(e){const t=og();if(!H_.vt(t))throw new Oe(ce.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=q0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new H_(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Rb{initialize(e,t){var r=this;return(0,ye.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>fD(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=RS.bind(null,r.syncEngine),yield bd(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new NS}createDatastore(e){const t=Ia(e.databaseInfo.databaseId),r=new vS(e.databaseInfo);return new bS(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=f=>fD(this.syncEngine,f,0),u=QC.vt()?new QC:new YC,new CS(t,r,i,a,u);var t,r,i,a,u}createSyncEngine(e,t){return function(r,i,a,u,f,_,b){const T=new hD(r,i,a,u,f,_);return b&&(T.ha=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ye.Z)(function*(t){const r=Qe(t);Le("RemoteStore","RemoteStore shutting down."),r.fu.add(5),yield yd(r),r._u.shutdown(),r.wu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function _D(n,e=10240){let t=0;return{read:()=>(0,ye.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ye.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class yg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.pa(this.observer.next,e)}error(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Ia(){this.muted=!0}pa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class yD{constructor(e,t){this.Ta=e,this.M=t,this.metadata=new xr,this.buffer=new Uint8Array,this.Ea=new TextDecoder("utf-8"),this.Aa().then(r=>{r&&r.xu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ta.cancel()}getMetadata(){var e=this;return(0,ye.Z)(function*(){return e.metadata.promise})()}da(){var e=this;return(0,ye.Z)(function*(){return yield e.getMetadata(),e.Aa()})()}Aa(){var e=this;return(0,ye.Z)(function*(){const t=yield e.Ra();if(null===t)return null;const r=e.Ea.decode(t),i=Number(r);isNaN(i)&&e.Pa(`length string (${r}) is not valid number`);const a=yield e.ba(i);return new ug(JSON.parse(a),t.length+i)})()}Va(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ra(){var e=this;return(0,ye.Z)(function*(){for(;e.Va()<0&&!(yield e.va()););if(0===e.buffer.length)return null;const t=e.Va();t<0&&e.Pa("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ba(e){var t=this;return(0,ye.Z)(function*(){for(;t.buffer.length<e;)(yield t.va())&&t.Pa("Reached the end of bundle when more is expected.");const r=t.Ea.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Pa(e){throw this.Ta.cancel(),new Error(`Invalid bundle format: ${e}`)}va(){var e=this;return(0,ye.Z)(function*(){const t=yield e.Ta.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class VS{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ye.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Oe(ce.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,ye.Z)(function*(a,u){const f=Qe(a),_=Kp(f.M)+"/documents",b={documents:u.map(F=>Wp(f.M,F))},T=yield f.ho("BatchGetDocuments",_,b),I=new Map;T.forEach(F=>{const U=function aC(n,e){return"found"in e?function(t,r){Dt(!!r.found);const i=$o(t,r.found.name),a=oi(r.found.updateTime),u=new Vi({mapValue:{fields:r.found.fields}});return Dn.newFoundDocument(i,a,u)}(n,e):"missing"in e?function(t,r){Dt(!!r.missing),Dt(!!r.readTime);const i=$o(t,r.missing),a=oi(r.readTime);return Dn.newNoDocument(i,a)}(n,e):lt()}(f.M,F);I.set(U.key.toString(),U)});const x=[];return u.forEach(F=>{const U=I.get(F.toString());Dt(!!U),x.push(U)}),x}),function(a,u){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Mc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ye.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=Ge.fromPath(i);e.mutations.push(new tf(a,e.precondition(a)))}),yield(r=(0,ye.Z)(function*(i,a){const u=Qe(i),f=Kp(u.M)+"/documents",_={writes:a.map(b=>ad(u.M,b))};yield u.oo("Commit",f,_)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw lt();t=xt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Oe(ce.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?kr.updateTime(t):kr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(xt.min()))throw new Oe(ce.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return kr.updateTime(t)}return kr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class vD{constructor(e,t,r,i){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=i,this.Sa=5,this.Do=new _d(this.asyncQueue,"transaction_retry")}run(){this.Sa-=1,this.Da()}Da(){var e=this;this.Do.To((0,ye.Z)(function*(){const t=new VS(e.datastore),r=e.Ca(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.xa(a)}))}).catch(i=>{e.xa(i)})}))}Ca(e){try{const t=this.updateFunction(e);return!qu(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}xa(e){this.Sa>0&&this.Na(e)?(this.Sa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Da(),Promise.resolve()))):this.deferred.reject(e)}Na(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!m_(t)}return!1}}class bD{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ci.UNAUTHENTICATED,this.clientId=O1.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var u=(0,ye.Z)(function*(f){Le("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(r,u=>(Le("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,ye.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Oe(ce.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Cd(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function wD(n,e){return kb.apply(this,arguments)}function kb(){return kb=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Le("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,ye.Z)(function*(a){r.isEqual(a)||(yield HC(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),kb.apply(this,arguments)}function Fb(n,e){return Lb.apply(this,arguments)}function Lb(){return Lb=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield fy(n);Le("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>oD(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>oD(e.remoteStore,a)),n.onlineComponents=e}),Lb.apply(this,arguments)}function fy(n){return py.apply(this,arguments)}function py(){return py=(0,ye.Z)(function*(n){return n.offlineComponents||(Le("FirestoreClient","Using default OfflineComponentProvider"),yield wD(n,new dy)),n.offlineComponents}),py.apply(this,arguments)}function vg(n){return gy.apply(this,arguments)}function gy(){return gy=(0,ye.Z)(function*(n){return n.onlineComponents||(Le("FirestoreClient","Using default OnlineComponentProvider"),yield Fb(n,new Rb)),n.onlineComponents}),gy.apply(this,arguments)}function CD(n){return fy(n).then(e=>e.persistence)}function Vb(n){return fy(n).then(e=>e.localStore)}function BS(n){return vg(n).then(e=>e.remoteStore)}function my(n){return vg(n).then(e=>e.syncEngine)}function bg(n){return DD.apply(this,arguments)}function DD(){return DD=(0,ye.Z)(function*(n){const e=yield vg(n),t=e.eventManager;return t.onListen=yb.bind(null,e.syncEngine),t.onUnlisten=MN.bind(null,e.syncEngine),t}),DD.apply(this,arguments)}function US(n,e,t={}){const r=new xr;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(i,a,u,f,_){const b=new yg({next:I=>{a.enqueueAndForget(()=>Td(i,T));const x=I.docs.has(u);!x&&I.fromCache?_.reject(new Oe(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&I.fromCache&&f&&"server"===f.source?_.reject(new Oe(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(I)},error:I=>_.reject(I)}),T=new cg(nd(u.path),b,{includeMetadataChanges:!0,Cu:!0});return fb(i,T)}(yield bg(n),n.asyncQueue,e,t,r)})),r.promise}function jS(n,e,t={}){const r=new xr;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(i,a,u,f,_){const b=new yg({next:I=>{a.enqueueAndForget(()=>Td(i,T)),I.fromCache&&"server"===f.source?_.reject(new Oe(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(I)},error:I=>_.reject(I)}),T=new cg(u,b,{includeMetadataChanges:!0,Cu:!0});return fb(i,T)}(yield bg(n),n.asyncQueue,e,t,r)})),r.promise}const Ub=new Map;function yy(n,e,t){if(!t)throw new Oe(ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function HS(n,e,t,r){if(!0===e&&!0===r)throw new Oe(ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function vy(n){if(!Ge.isDocumentKey(n))throw new Oe(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function jb(n){if(Ge.isDocumentKey(n))throw new Oe(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function by(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":lt()}function sn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Oe(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=by(n);throw new Oe(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function $S(n,e){if(e<=0)throw new Oe(ce.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class TD{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Oe(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Oe(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,HS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wg{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new TD({}),this._settingsFrozen=!1,e instanceof cl?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Oe(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cl(i.options.projectId)}(e))}get app(){if(!this._app)throw new Oe(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Oe(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new TD(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new t0;switch(t.type){case"gapi":const r=t.client;return Dt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new N1(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Oe(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Ub.get(e);t&&(Le("ComponentProvider","Removing Datastore"),Ub.delete(e),t.terminate())}(this),Promise.resolve()}}class Bn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new El(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bn(this.firestore,e,this._key)}}class Qi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Qi(this.firestore,e,this._query)}}class El extends Qi{constructor(e,t,r){super(e,t,nd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bn(this.firestore,null,new Ge(e))}withConverter(e){return new El(this.firestore,e,this._path)}}function GS(n,e,...t){if(n=(0,Tt.m9)(n),yy("collection","path",e),n instanceof wg){const r=dn.fromString(e,...t);return jb(r),new El(n,null,r)}{if(!(n instanceof Bn||n instanceof El))throw new Oe(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(dn.fromString(e,...t));return jb(r),new El(n.firestore,null,r)}}function wy(n,e,...t){if(n=(0,Tt.m9)(n),1===arguments.length&&(e=O1.R()),yy("doc","path",e),n instanceof wg){const r=dn.fromString(e,...t);return vy(r),new Bn(n,null,new Ge(r))}{if(!(n instanceof Bn||n instanceof El))throw new Oe(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(dn.fromString(e,...t));return vy(r),new Bn(n.firestore,n instanceof El?n.converter:null,new Ge(r))}}function SD(n,e){return n=(0,Tt.m9)(n),e=(0,Tt.m9)(e),(n instanceof Bn||n instanceof El)&&(e instanceof Bn||e instanceof El)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function ZS(n,e){return n=(0,Tt.m9)(n),e=(0,Tt.m9)(e),n instanceof Qi&&e instanceof Qi&&n.firestore===e.firestore&&Bp(n._query,e._query)&&n.converter===e.converter}class zS{constructor(){this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new _d(this,"async_queue_retry"),this.qa=()=>{const t=$_();t&&Le("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Do.Ao()};const e=$_();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qa)}get isShuttingDown(){return this.Oa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ka(),this.Ga(e)}enterRestrictedMode(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;const t=$_();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qa)}}enqueue(e){if(this.Ka(),this.Oa)return new Promise(()=>{});const t=new xr;return this.Ga(()=>this.Oa&&this.La?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ma.push(e),this.Qa()))}Qa(){var e=this;return(0,ye.Z)(function*(){if(0!==e.Ma.length){try{yield e.Ma[0](),e.Ma.shift(),e.Do.reset()}catch(t){if(!cd(t))throw t;Le("AsyncQueue","Operation failed with retryable error: "+t)}e.Ma.length>0&&e.Do.To(()=>e.Qa())}})()}Ga(e){const t=this.ka.then(()=>(this.Ba=!0,e().catch(r=>{throw this.$a=r,this.Ba=!1,br("INTERNAL UNHANDLED ERROR: ",function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),u}(r)),r}).then(r=>(this.Ba=!1,r))));return this.ka=t,t}enqueueAfterDelay(e,t,r){this.Ka(),this.Ua.indexOf(e)>-1&&(t=0);const i=J_.createAndSchedule(this,e,t,r,a=>this.ja(a));return this.Fa.push(i),i}Ka(){this.$a&&lt()}verifyOperationInProgress(){}Wa(){var e=this;return(0,ye.Z)(function*(){let t;do{t=e.ka,yield t}while(t!==e.ka)})()}za(e){for(const t of this.Fa)if(t.timerId===e)return!0;return!1}Ha(e){return this.Wa().then(()=>{this.Fa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Fa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Wa()})}Ja(e){this.Ua.push(e)}ja(e){const t=this.Fa.indexOf(e);this.Fa.splice(t,1)}}function Cg(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class WS{constructor(){this._progressObserver={},this._taskCompletionResolver=new xr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Yn extends wg{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new zS,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Cy(this),this._firestoreClient.terminate()}}function Lr(n){return n._firestoreClient||Cy(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Cy(n){var e;const t=n._freezeSettings(),r=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new k1(n._databaseId,a,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var a,f;n._firestoreClient=new bD(n._authCredentials,n._appCheckCredentials,n._queue,r)}function MD(n,e,t){const r=new xr;return n.asyncQueue.enqueue((0,ye.Z)(function*(){try{yield wD(n,t),yield Fb(n,e),r.resolve()}catch(i){if(!("FirebaseError"===(a=i).name?a.code===ce.FAILED_PRECONDITION||a.code===ce.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var a})).then(()=>r.promise)}function $b(n){if(n._initialized||n._terminated)throw new Oe(ce.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Tl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Oe(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Na{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Na(Rr.fromBase64String(e))}catch(t){throw new Oe(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Na(Rr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ad{constructor(e){this._methodName=e}}class Dy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Oe(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Oe(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Bt(this._lat,e._lat)||Bt(this._long,e._long)}}const RD=/^__.*__$/;class JS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Nc(e,this.data,this.fieldMask,t,this.fieldTransforms):new ml(e,this.data,t,this.fieldTransforms)}}class kD{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Nc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function XS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw lt()}}class Tf{constructor(e,t,r,i,a,u){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Ya(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Xa(){return this.settings.Xa}Za(e){return new Tf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}tc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Za({path:r,ec:!1});return i.nc(e),i}sc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Za({path:r,ec:!1});return i.Ya(),i}ic(e){return this.Za({path:void 0,ec:!0})}rc(e){return Kb(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ya(){if(this.path)for(let e=0;e<this.path.length;e++)this.nc(this.path.get(e))}nc(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(XS(this.Xa)&&RD.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}class FD{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||Ia(e)}ac(e,t,r,i=!1){return new Tf({Xa:e,methodName:t,uc:r,path:Pr.emptyPath(),ec:!1,oc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Nd(n){const e=n._freezeSettings(),t=Ia(n._databaseId);return new FD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Ey(n,e,t,r,i,a={}){const u=n.ac(a.merge||a.mergeFields?2:0,e,t,i);Zb("Data must be an object, but it was:",u,r);const f=tI(r,u);let _,b;if(a.merge)_=new $u(u.fieldMask),b=u.fieldTransforms;else if(a.mergeFields){const T=[];for(const I of a.mergeFields){const x=zb(e,I,t);if(!u.contains(x))throw new Oe(ce.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);rI(T,x)||T.push(x)}_=new $u(T),b=u.fieldTransforms.filter(I=>_.covers(I.field))}else _=null,b=u.fieldTransforms;return new JS(new Vi(f),_,b)}class Sf extends Ad{_toFieldTransform(e){if(2!==e.Xa)throw e.rc(1===e.Xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sf}}function Ty(n,e,t){return new Tf({Xa:3,uc:e.settings.uc,methodName:n._methodName,ec:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class Dg extends Ad{_toFieldTransform(e){return new Hp(e.path,new Xh)}isEqual(e){return e instanceof Dg}}class LD extends Ad{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=Ty(this,e,!0),r=this.cc.map(a=>If(a,t)),i=new Ac(r);return new Hp(e.path,i)}isEqual(e){return this===e}}class eI extends Ad{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=Ty(this,e,!0),r=this.cc.map(a=>If(a,t)),i=new rd(r);return new Hp(e.path,i)}isEqual(e){return this===e}}class VD extends Ad{constructor(e,t){super(e),this.hc=t}_toFieldTransform(e){const t=new ef(e.M,VT(e.M,this.hc));return new Hp(e.path,t)}isEqual(e){return this===e}}function Sy(n,e,t,r){const i=n.ac(1,e,t);Zb("Data must be an object, but it was:",i,r);const a=[],u=Vi.empty();Hu(r,(_,b)=>{const T=Wb(e,_,t);b=(0,Tt.m9)(b);const I=i.sc(T);if(b instanceof Sf)a.push(T);else{const x=If(b,I);null!=x&&(a.push(T),u.set(T,x))}});const f=new $u(a);return new kD(u,f,i.fieldTransforms)}function Gb(n,e,t,r,i,a){const u=n.ac(1,e,t),f=[zb(e,r,t)],_=[i];if(a.length%2!=0)throw new Oe(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<a.length;x+=2)f.push(zb(e,a[x])),_.push(a[x+1]);const b=[],T=Vi.empty();for(let x=f.length-1;x>=0;--x)if(!rI(b,f[x])){const F=f[x];let U=_[x];U=(0,Tt.m9)(U);const Z=u.sc(F);if(U instanceof Sf)b.push(F);else{const se=If(U,Z);null!=se&&(b.push(F),T.set(F,se))}}const I=new $u(b);return new kD(T,I,u.fieldTransforms)}function BD(n,e,t,r=!1){return If(t,n.ac(r?4:3,e))}function If(n,e){if(qb(n=(0,Tt.m9)(n)))return Zb("Unsupported field value:",e,n),tI(n,e);if(n instanceof Ad)return function(t,r){if(!XS(r.Xa))throw r.rc(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.rc(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ec&&4!==e.Xa)throw e.rc("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const u of t){let f=If(u,r.ic(a));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Tt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return VT(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=wr.fromDate(t);return{timestampValue:zp(r.M,i)}}if(t instanceof wr){const i=new wr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:zp(r.M,i)}}if(t instanceof Dy)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Na)return{bytesValue:Fr(r.M,t._byteString)};if(t instanceof Bn){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r.rc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:I0(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.rc(`Unsupported field value: ${by(t)}`)}(n,e)}function tI(n,e){const t={};return x1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hu(n,(r,i)=>{const a=If(i,e.tc(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function qb(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof wr||n instanceof Dy||n instanceof Na||n instanceof Bn||n instanceof Ad)}function Zb(n,e,t){if(!qb(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=by(t);throw e.rc("an object"===r?n+" a custom object":n+" "+r)}var r}function zb(n,e,t){if((e=(0,Tt.m9)(e))instanceof Tl)return e._internalPath;if("string"==typeof e)return Wb(n,e);throw Kb("Field path arguments must be of type string or ",n,!1,void 0,t)}const nI=new RegExp("[~\\*/\\[\\]]");function Wb(n,e,t){if(e.search(nI)>=0)throw Kb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Tl(...e.split("."))._internalPath}catch(r){throw Kb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Kb(n,e,t,r,i){const a=r&&!r.isEmpty(),u=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(a||u)&&(_+=" (found",a&&(_+=` in field ${r}`),u&&(_+=` in document ${i}`),_+=")"),new Oe(ce.INVALID_ARGUMENT,f+n+_)}function rI(n,e){return n.some(t=>t.isEqual(e))}class Iy{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Bn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new UN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ay("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class UN extends Iy{data(){return super.data()}}function Ay(n,e){return"string"==typeof e?Wb(n,e):e instanceof Tl?e._internalPath:e._delegate._internalPath}class Ma{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Sl extends Iy{constructor(e,t,r,i,a,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Eg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Ay("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Eg extends Sl{data(e={}){return super.data(e)}}class Il{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ma(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Eg(this._firestore,this._userDataWriter,r.key,r,new Ma(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Oe(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(u=>({type:"added",doc:new Eg(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Ma(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>i||3!==u.type).map(u=>{const f=new Eg(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Ma(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,b=-1;return 0!==u.type&&(_=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),1!==u.type&&(a=a.add(u.doc),b=a.indexOf(u.doc.key)),{type:Md(u.type),doc:f,oldIndex:_,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Md(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return lt()}}function Yb(n,e){return n instanceof Sl&&e instanceof Sl?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Il&&e instanceof Il&&n._firestore===e._firestore&&ZS(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function Ny(n){if(c_(n)&&0===n.explicitOrderBy.length)throw new Oe(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Od{}function Fc(n,...e){for(const t of e)n=t._apply(n);return n}class Qb extends Od{constructor(e,t,r){super(),this.lc=e,this.fc=t,this.dc=r,this.type="where"}_apply(e){const t=Nd(e.firestore),r=function(i,a,u,f,_,b,T){let I;if(_.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new Oe(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){HD(T,b);const F=[];for(const U of T)F.push(tw(f,i,U));I={arrayValue:{values:F}}}else I=tw(f,i,T)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||HD(T,b),I=BD(u,"where",T,"in"===b||"not-in"===b);const x=lr.create(_,b,I);return function(F,U){if(U.S()){const se=p0(F);if(null!==se&&!se.isEqual(U.field))throw new Oe(ce.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${se.toString()}' and '${U.field.toString()}'`);const Pe=u_(F);null!==Pe&&$D(0,U.field,Pe)}const Z=function(se,Pe){for(const Me of se.filters)if(Pe.indexOf(Me.op)>=0)return Me.op;return null}(F,function(se){switch(se){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(U.op));if(null!==Z)throw new Oe(ce.INVALID_ARGUMENT,Z===U.op?`Invalid query. You cannot use more than one '${U.op.toString()}' filter.`:`Invalid query. You cannot use '${U.op.toString()}' filters with '${Z.toString()}' filters.`)}(i,x),x}(e._query,0,t,e.firestore._databaseId,this.lc,this.fc,this.dc);return new Qi(e.firestore,e.converter,function(i,a){const u=i.filters.concat([a]);return new gl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),u,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class My extends Od{constructor(e,t){super(),this.lc=e,this._c=t,this.type="orderBy"}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new Oe(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Oe(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new td(i,a);return function(f,_){if(null===u_(f)){const b=p0(f);null!==b&&$D(0,b,_.field)}}(r,u),u}(e._query,this.lc,this._c);return new Qi(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new gl(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class iI extends Od{constructor(e,t,r){super(),this.type=e,this.wc=t,this.mc=r}_apply(e){return new Qi(e.firestore,e.converter,kT(e._query,this.wc,this.mc))}}class Xb extends Od{constructor(e,t,r){super(),this.type=e,this.gc=t,this.yc=r}_apply(e){const t=ew(e,this.type,this.gc,this.yc);return new Qi(e.firestore,e.converter,(i=t,new gl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class UD extends Od{constructor(e,t,r){super(),this.type=e,this.gc=t,this.yc=r}_apply(e){const t=ew(e,this.type,this.gc,this.yc);return new Qi(e.firestore,e.converter,(i=t,new gl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function ew(n,e,t,r){if(t[0]=(0,Tt.m9)(t[0]),t[0]instanceof Iy)return function(i,a,u,f,_){if(!f)throw new Oe(ce.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const b=[];for(const T of Qh(i))if(T.field.isKeyField())b.push(Ic(a,f.key));else{const I=f.data.field(T.field);if(o0(I))throw new Oe(ce.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===I){const x=T.field.canonicalString();throw new Oe(ce.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${x}' (used as the orderBy) does not exist.`)}b.push(I)}return new pl(b,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Nd(n.firestore);return function(a,u,f,_,b,T){const I=a.explicitOrderBy;if(b.length>I.length)throw new Oe(ce.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const x=[];for(let F=0;F<b.length;F++){const U=b[F];if(I[F].field.isKeyField()){if("string"!=typeof U)throw new Oe(ce.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof U}`);if(!d_(a)&&-1!==U.indexOf("/"))throw new Oe(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${U}' contains a slash.`);const Z=a.path.child(dn.fromString(U));if(!Ge.isDocumentKey(Z))throw new Oe(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${Z}' is not because it contains an odd number of segments.`);const se=new Ge(Z);x.push(Ic(u,se))}else{const Z=BD(f,_,U);x.push(Z)}}return new pl(x,T)}(n._query,n.firestore._databaseId,i,e,t,r)}}function tw(n,e,t){if("string"==typeof(t=(0,Tt.m9)(t))){if(""===t)throw new Oe(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!d_(e)&&-1!==t.indexOf("/"))throw new Oe(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(dn.fromString(t));if(!Ge.isDocumentKey(r))throw new Oe(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ic(n,new Ge(r))}if(t instanceof Bn)return Ic(n,t._key);throw new Oe(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${by(t)}.`)}function HD(n,e){if(!Array.isArray(n)||0===n.length)throw new Oe(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Oe(ce.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function $D(n,e,t){if(!t.isEqual(e))throw new Oe(ce.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Oy{convertValue(e,t="none"){switch(Sc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ar(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Gu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw lt()}}convertObject(e,t){const r={};return Hu(e.fields,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new Dy(ar(e.latitude),ar(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=a0(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Xm(e));default:return null}}convertTimestamp(e){const t=Tc(e);return new wr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=dn.fromString(e);Dt(uf(r));const i=new cl(r.get(1),r.get(3)),a=new Ge(r.popFirst(5));return i.isEqual(t)||br(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function Af(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class GN extends Oy{constructor(e){super(),this.firestore=e}convertBytes(e){return new Na(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bn(this.firestore,null,t)}}class nw{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Nd(e)}set(e,t,r){this._verifyNotCommitted();const i=Oa(e,this._firestore),a=Af(i.converter,t,r),u=Ey(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(u.toMutation(i._key,kr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=Oa(e,this._firestore);let u;return u="string"==typeof(t=(0,Tt.m9)(t))||t instanceof Tl?Gb(this._dataReader,"WriteBatch.update",a._key,t,r,i):Sy(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(u.toMutation(a._key,kr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Oa(e,this._firestore);return this._mutations=this._mutations.concat(new Mc(t._key,kr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Oe(ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Oa(n,e){if((n=(0,Tt.m9)(n)).firestore!==e)throw new Oe(ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class xd extends Oy{constructor(e){super(),this.firestore=e}convertBytes(e){return new Na(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bn(this.firestore,null,t)}}function dI(n,e,t){n=sn(n,Bn);const r=sn(n.firestore,Yn),i=Af(n.converter,e,t);return Tg(r,[Ey(Nd(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,kr.none())])}function hI(n,e,t,...r){n=sn(n,Bn);const i=sn(n.firestore,Yn),a=Nd(i);let u;return u="string"==typeof(e=(0,Tt.m9)(e))||e instanceof Tl?Gb(a,"updateDoc",n._key,e,t,r):Sy(a,"updateDoc",n._key,e),Tg(i,[u.toMutation(n._key,kr.exists(!0))])}function GD(n,...e){var t,r,i;n=(0,Tt.m9)(n);let a={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||Cg(e[u])||(a=e[u],u++);const f={includeMetadataChanges:a.includeMetadataChanges};if(Cg(e[u])){const I=e[u];e[u]=null===(t=I.next)||void 0===t?void 0:t.bind(I),e[u+1]=null===(r=I.error)||void 0===r?void 0:r.bind(I),e[u+2]=null===(i=I.complete)||void 0===i?void 0:i.bind(I)}let _,b,T;if(n instanceof Bn)b=sn(n.firestore,Yn),T=nd(n._key.path),_={next:I=>{e[u]&&e[u](qD(b,n,I))},error:e[u+1],complete:e[u+2]};else{const I=sn(n,Qi);b=sn(I.firestore,Yn),T=I._query;const x=new xd(b);_={next:F=>{e[u]&&e[u](new Il(b,x,I,F))},error:e[u+1],complete:e[u+2]},Ny(n._query)}return function(I,x,F,U){const Z=new yg(U),se=new cg(x,Z,F);return I.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return fb(yield bg(I),se)})),()=>{Z.Ia(),I.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return Td(yield bg(I),se)}))}}(Lr(b),T,f,_)}function Tg(n,e){return function(t,r){const i=new xr;return t.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function wb(n,e,t){return ey.apply(this,arguments)}(yield my(t),r,i)})),i.promise}(Lr(n),e)}function qD(n,e,t){const r=t.docs.get(e._key),i=new xd(n);return new Sl(n,i,e._key,r,new Ma(t.hasPendingWrites,t.fromCache),e.converter)}class QN extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Nd(e)}get(e){const t=Oa(e,this._firestore),r=new GN(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return lt();const a=i[0];if(a.isFoundDocument())return new Iy(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new Iy(this._firestore,r,t._key,null,t.converter);throw lt()})}set(e,t,r){const i=Oa(e,this._firestore),a=Af(i.converter,t,r),u=Ey(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,u),this}update(e,t,r,...i){const a=Oa(e,this._firestore);let u;return u="string"==typeof(t=(0,Tt.m9)(t))||t instanceof Tl?Gb(this._dataReader,"Transaction.update",a._key,t,r,i):Sy(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,u),this}delete(e){const t=Oa(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Oa(e,this._firestore),r=new xd(this._firestore);return super.get(e).then(i=>new Sl(this._firestore,r,t._key,i._document,new Ma(!1,!1),t.converter))}}function L(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Oe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function j(){if("undefined"==typeof Uint8Array)throw new Oe("unimplemented","Uint8Arrays are not available in this environment.")}function K(){if(!function P1(){return"undefined"!=typeof atob}())throw new Oe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Zh=Ss.SDK_VERSION,(0,Ss._registerComponent)(new Xa.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),a=new Yn(i,new NT(t.getProvider("auth-internal")),new M1(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),a._setSettings(r),a},"PUBLIC")),(0,Ss.registerVersion)(Xv,"3.4.8",n),(0,Ss.registerVersion)(Xv,"3.4.8","esm2017")}();class _e{constructor(e){this._delegate=e}static fromBase64String(e){return K(),new _e(Na.fromBase64String(e))}static fromUint8Array(e){return j(),new _e(Na.fromUint8Array(e))}toBase64(){return K(),this._delegate.toBase64()}toUint8Array(){return j(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Ve(n){return function Ze(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class at{enableIndexedDbPersistence(e,t){return function AD(n,e){$b(n=sn(n,Yn));const t=Lr(n),r=n._freezeSettings(),i=new Rb;return MD(t,i,new hy(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function ND(n){$b(n=sn(n,Yn));const e=Lr(n),t=n._freezeSettings(),r=new Rb;return MD(e,r,new PN(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function OD(n){if(n._initialized&&!n._terminated)throw new Oe(ce.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new xr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{yield(t=(0,ye.Z)(function*(r){if(!zo.vt())return Promise.resolve();const i=r+"main";yield zo.delete(i)}),function(r){return t.apply(this,arguments)})(q0(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Te{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof cl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&zh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function Hb(n,e,t,r={}){var i;const a=(n=sn(n,wg))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&zh("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let u,f;if("string"==typeof r.mockUserToken)u=r.mockUserToken,f=Ci.MOCK_USER;else{u=(0,Tt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Oe(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Ci(_)}n._authCredentials=new kp(new e0(u,f))}}(this._delegate,e,t,r)}enableNetwork(){return function YS(n){return function RN(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield CD(n),t=yield BS(n);return e.setNetworkEnabled(!0),function(r){const i=Qe(r);return i.fu.delete(0),ag(i)}(t)}))}(Lr(n=sn(n,Yn)))}(this._delegate)}disableNetwork(){return function QS(n){return function kN(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield CD(n),t=yield BS(n);return e.setNetworkEnabled(!1),(r=(0,ye.Z)(function*(i){const a=Qe(i);a.fu.add(0),yield yd(a),a.wu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Lr(n=sn(n,Yn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,HS("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function KS(n){return function(e){const t=new xr;return e.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function pD(n,e){return iy.apply(this,arguments)}(yield my(e),t)})),t.promise}(Lr(n=sn(n,Yn)))}(this._delegate)}onSnapshotsInSync(e){return function YN(n,e){return function _y(n,e){const t=new yg(e);return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return r=yield bg(n),i=t,Qe(r).Eu.add(i),void i.next();var r,i})),()=>{t.Ia(),n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return r=yield bg(n),i=t,void Qe(r).Eu.delete(i);var r,i}))}}(Lr(n=sn(n,Yn)),Cg(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Oe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ry(this,GS(this._delegate,e))}catch(t){throw Di(t,"collection()","Firestore.collection()")}}doc(e){try{return new ds(this,wy(this._delegate,e))}catch(t){throw Di(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ei(this,function qS(n,e){if(n=sn(n,wg),yy("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Oe(ce.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Qi(n,null,(t=e,new gl(dn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Di(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function s(n,e){return function VN(n,e){const t=new xr;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){const r=yield(i=n,vg(i).then(a=>a.datastore));var i;new vD(n.asyncQueue,r,e,t).run()})),t.promise}(Lr(n=sn(n,Yn)),t=>e(new QN(n,t)))}(this._delegate,t=>e(new bn(this,t)))}batch(){return Lr(this._delegate),new us(new nw(this._delegate,e=>Tg(this._delegate,e)))}loadBundle(e){return function Id(n,e){const t=Lr(n=sn(n,Yn)),r=new WS;return function ED(n,e,t,r){const i=function(a,u){let f;return f="string"==typeof a?(new TextEncoder).encode(a):a,_=function(_,b){if(_ instanceof Uint8Array)return _D(_,b);if(_ instanceof ArrayBuffer)return _D(new Uint8Array(_),b);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new yD(_,u);var _}(t,Ia(e));n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){!function LS(n,e,t){const r=Qe(n);var i;(i=(0,ye.Z)(function*(a,u,f){try{const _=yield u.getMetadata();if(yield function(x,F){const U=Qe(x),Z=oi(F.createTime);return U.persistence.runTransaction("hasNewerBundle","readonly",se=>U._s.getBundleMetadata(se,F.id)).then(se=>!!se&&se.createTime.compareTo(Z)>=0)}(a.localStore,_))return yield u.close(),f._completeWith({taskState:"Success",documentsLoaded:(x=_).totalDocuments,bytesLoaded:x.totalBytes,totalDocuments:x.totalDocuments,totalBytes:x.totalBytes}),Promise.resolve(new Set);f._updateProgress(cD(_));const b=new MS(_,a.localStore,u.M);let T=yield u.da();for(;T;){const x=yield b.ku(T);x&&f._updateProgress(x),T=yield u.da()}const I=yield b.complete();return yield tr(a,I.Fu,void 0),yield function(x,F){const U=Qe(x);return U.persistence.runTransaction("Save bundle","readwrite",Z=>U._s.saveBundleMetadata(Z,F))}(a.localStore,_),f._completeWith(I.progress),Promise.resolve(I.Ou)}catch(_){return zh("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var x}),function(a,u,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield my(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function PD(n,e){return function Bb(n,e){return n.asyncQueue.enqueue((0,ye.Z)(function*(){return function(t,r){const i=Qe(t);return i.persistence.runTransaction("Get named query","readonly",a=>i._s.getNamedQuery(a,r))}(yield Vb(n),e)}))}(Lr(n=sn(n,Yn)),e).then(t=>t?new Qi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Ei(this,t):null)}}class _t extends Oy{constructor(e){super(),this.firestore=e}convertBytes(e){return new _e(new Na(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ds.forKey(t,this.firestore,null)}}class bn{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new _t(e)}get(e){const t=Ig(e);return this._delegate.get(t).then(r=>new Pd(this._firestore,new Sl(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Ig(e);return r?(L("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=Ig(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=Ig(e);return this._delegate.delete(t),this}}class us{constructor(e){this._delegate=e}set(e,t,r){const i=Ig(e);return r?(L("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=Ig(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=Ig(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Rs{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Eg(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Rd(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Rs.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new Rs(e,new _t(e),t),i.set(t,a)),a}}Rs.INSTANCES=new WeakMap;class ds{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new _t(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Oe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ds(t,new Bn(t._delegate,r,new Ge(e)))}static forKey(e,t,r){return new ds(t,new Bn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Ry(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ry(this.firestore,GS(this._delegate,e))}catch(t){throw Di(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Tt.m9)(e))instanceof Bn&&SD(this._delegate,e)}set(e,t){t=L("DocumentReference.set",t);try{return t?dI(this._delegate,e,t):dI(this._delegate,e)}catch(r){throw Di(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?hI(this._delegate,e):hI(this._delegate,e,t,...r)}catch(i){throw Di(i,"updateDoc()","DocumentReference.update()")}}delete(){return function WN(n){return Tg(sn(n.firestore,Yn),[new Mc(n._key,kr.none())])}(this._delegate)}onSnapshot(...e){const t=xy(e),r=Py(e,i=>new Pd(this.firestore,new Sl(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return GD(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function qN(n){n=sn(n,Bn);const e=sn(n.firestore,Yn),t=Lr(e),r=new xd(e);return function FN(n,e){const t=new xr;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(r=(0,ye.Z)(function*(i,a,u){try{const f=yield function(_,b){const T=Qe(_);return T.persistence.runTransaction("read document","readonly",I=>T.ci.Ls(I,b))}(i,a);f.isFoundDocument()?u.resolve(f):f.isNoDocument()?u.resolve(null):u.reject(new Oe(ce.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=Cd(f,`Failed to get document '${a} from cache`);u.reject(_)}}),function(i,a,u){return r.apply(this,arguments)})(yield Vb(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Sl(e,r,n._key,i,new Ma(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function ZN(n){n=sn(n,Bn);const e=sn(n.firestore,Yn);return US(Lr(e),n._key,{source:"server"}).then(t=>qD(e,n,t))}(this._delegate):function lI(n){n=sn(n,Bn);const e=sn(n.firestore,Yn);return US(Lr(e),n._key).then(t=>qD(e,n,t))}(this._delegate),t.then(r=>new Pd(this.firestore,new Sl(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ds(this.firestore,this._delegate.withConverter(e?Rs.getInstance(this.firestore,e):null))}}function Di(n,e,t){return n.message=n.message.replace(e,t),n}function xy(n){for(const e of n)if("object"==typeof e&&!Ve(e))return e;return{}}function Py(n,e){var t,r;let i;return i=Ve(n[0])?n[0]:Ve(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Pd{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ds(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Yb(this._delegate,e._delegate)}}class Rd extends Pd{data(e){const t=this._delegate.data(e);return function Jm(n,e){n||lt()}(void 0!==t),t}}class Ei{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new _t(e)}where(e,t,r){try{return new Ei(this.firestore,Fc(this._delegate,function Jb(n,e,t){const r=e,i=Ay("where",n);return new Qb(i,r,t)}(e,t,r)))}catch(i){throw Di(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ei(this.firestore,Fc(this._delegate,function jN(n,e="asc"){const t=e,r=Ay("orderBy",n);return new My(r,t)}(e,t)))}catch(r){throw Di(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ei(this.firestore,Fc(this._delegate,function HN(n){return $S("limit",n),new iI("limit",n,"F")}(e)))}catch(t){throw Di(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ei(this.firestore,Fc(this._delegate,function $N(n){return $S("limitToLast",n),new iI("limitToLast",n,"L")}(e)))}catch(t){throw Di(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ei(this.firestore,Fc(this._delegate,function sI(...n){return new Xb("startAt",n,!0)}(...e)))}catch(t){throw Di(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ei(this.firestore,Fc(this._delegate,function oI(...n){return new Xb("startAfter",n,!1)}(...e)))}catch(t){throw Di(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ei(this.firestore,Fc(this._delegate,function aI(...n){return new UD("endBefore",n,!1)}(...e)))}catch(t){throw Di(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ei(this.firestore,Fc(this._delegate,function jD(...n){return new UD("endAt",n,!0)}(...e)))}catch(t){throw Di(t,"endAt()","Query.endAt()")}}isEqual(e){return ZS(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function uI(n){n=sn(n,Qi);const e=sn(n.firestore,Yn),t=Lr(e),r=new xd(e);return function LN(n,e){const t=new xr;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(r=(0,ye.Z)(function*(i,a,u){try{const f=yield bf(i,a,!0),_=new uD(a,f.li),b=_.Gu(f.documents),T=_.applyChanges(b,!1);u.resolve(T.snapshot)}catch(f){const _=Cd(f,`Failed to execute query '${a} against cache`);u.reject(_)}}),function(i,a,u){return r.apply(this,arguments)})(yield Vb(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Il(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function zN(n){n=sn(n,Qi);const e=sn(n.firestore,Yn),t=Lr(e),r=new xd(e);return jS(t,n._query,{source:"server"}).then(i=>new Il(e,r,n,i))}(this._delegate):function cI(n){n=sn(n,Qi);const e=sn(n.firestore,Yn),t=Lr(e),r=new xd(e);return Ny(n._query),jS(t,n._query).then(i=>new Il(e,r,n,i))}(this._delegate),t.then(r=>new Sg(this.firestore,new Il(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=xy(e),r=Py(e,i=>new Sg(this.firestore,new Il(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return GD(this._delegate,t,r)}withConverter(e){return new Ei(this.firestore,this._delegate.withConverter(e?Rs.getInstance(this.firestore,e):null))}}class rw{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Rd(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Sg{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ei(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Rd(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new rw(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Rd(this._firestore,r))})}isEqual(e){return Yb(this._delegate,e._delegate)}}class Ry extends Ei{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ds(this.firestore,e):null}doc(e){try{return new ds(this.firestore,void 0===e?wy(this._delegate):wy(this._delegate,e))}catch(t){throw Di(t,"doc()","CollectionReference.doc()")}}add(e){return function KN(n,e){const t=sn(n.firestore,Yn),r=wy(n),i=Af(n.converter,e);return Tg(t,[Ey(Nd(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,kr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new ds(this.firestore,t))}isEqual(e){return SD(this._delegate,e._delegate)}withConverter(e){return new Ry(this.firestore,this._delegate.withConverter(e?Rs.getInstance(this.firestore,e):null))}}function Ig(n){return sn(n,Bn)}class fI{constructor(...e){this._delegate=new Tl(...e)}static documentId(){return new fI(Pr.keyField().canonicalString())}isEqual(e){return(e=(0,Tt.m9)(e))instanceof Tl&&this._delegate._internalPath.isEqual(e._internalPath)}}class Ag{constructor(e){this._delegate=e}static serverTimestamp(){const e=function l(){return new Dg("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Ag(e)}static delete(){const e=function o(){return new Sf("deleteField")}();return e._methodName="FieldValue.delete",new Ag(e)}static arrayUnion(...e){const t=function d(...n){return new LD("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Ag(t)}static arrayRemove(...e){const t=function h(...n){return new eI("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Ag(t)}static increment(e){const t=function g(n){return new VD("increment",n)}(e);return t._methodName="FieldValue.increment",new Ag(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const bk={Firestore:Te,GeoPoint:Dy,Timestamp:wr,Blob:_e,Transaction:bn,WriteBatch:us,DocumentReference:ds,DocumentSnapshot:Pd,Query:Ei,QueryDocumentSnapshot:Rd,QuerySnapshot:Sg,CollectionReference:Ry,FieldPath:fI,FieldValue:Ag,setLogLevel:function tn(n){!function AT(n){wa.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function JN(n,e){return function Dk(n,e=nl.z){return new Gn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function pI(n,e){return JN(n,e).pipe((0,pt.U)(t=>({payload:t,type:"query"})))}function ZD(n,e){return pI(n,e).pipe(Lo(void 0),Dh(),(0,pt.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((u,f)=>{const _=i.find(T=>T.doc.ref.isEqual(u.ref)),b=null==t?void 0:t.payload.docs.find(T=>T.ref.isEqual(u.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(u.metadata)||!_&&b&&JSON.stringify(b.metadata)===JSON.stringify(u.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:u}})}),a}))}function XN(n,e,t){return ZD(n,t).pipe(ga((r,i)=>function Tk(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function Sk(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return gI(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return gI(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return gI(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),function gc(n,e=Ri.y){return n=null!=n?n:wv,(0,mr.e)((t,r)=>{let i,a=!0;t.subscribe((0,cn.x)(r,u=>{const f=e(u);(a||!n(i,f))&&(a=!1,i=f,r.next(u))}))})}(),(0,pt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function gI(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function eM(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function Ck(n){(function wk(n,e){n.INTERNAL.registerComponent(new Xa.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},bk)))})(n,(e,t)=>new Te(e,t,new at)),n.registerVersion("@firebase/firestore-compat","0.1.17")}(op.Z);class tM{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=ZD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,pt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Lo(void 0),Dh(),An(([r,i])=>i.length>0||!r),(0,pt.U)(([r,i])=>i),Mn.iC)}auditTrail(e){return this.stateChanges(e).pipe(ga((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=eM(e);return XN(this.query,t,this.afs.schedulers.outsideAngular).pipe(Mn.iC)}valueChanges(e={}){return pI(this.query,this.afs.schedulers.outsideAngular).pipe((0,pt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Mn.iC)}get(e){return(0,Xt.D)(this.query.get(e)).pipe(Mn.iC)}add(e){return this.ref.add(e)}doc(e){return new nM(this.ref.doc(e),this.afs)}}class nM{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=sM(r,t);return new tM(i,a,this.afs)}snapshotChanges(){return function Ek(n,e){return JN(n,e).pipe(Lo(void 0),Dh(),(0,pt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Mn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,pt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Xt.D)(this.ref.get(e)).pipe(Mn.iC)}}class Ik{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?ZD(this.query,this.afs.schedulers.outsideAngular).pipe((0,pt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),An(t=>t.length>0),Mn.iC):ZD(this.query,this.afs.schedulers.outsideAngular).pipe(Mn.iC)}auditTrail(e){return this.stateChanges(e).pipe(ga((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=eM(e);return XN(this.query,t,this.afs.schedulers.outsideAngular).pipe(Mn.iC)}valueChanges(e={}){return pI(this.query,this.afs.schedulers.outsideAngular).pipe((0,pt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Mn.iC)}get(e){return(0,Xt.D)(this.query.get(e)).pipe(Mn.iC)}}const rM=new c.OlP("angularfire2.enableFirestorePersistence"),iM=new c.OlP("angularfire2.firestore.persistenceSettings"),Ak=new c.OlP("angularfire2.firestore.settings"),Nk=new c.OlP("angularfire2.firestore.use-emulator");function sM(n,e=(t=>t)){return{query:e(n),ref:n}}let Al=(()=>{class n{constructor(t,r,i,a,u,f,_,b,T,I,x,F,U,Z,se,Pe,Me){this.schedulers=_;const Re=(0,fi.on)(t,f,r),Ae=T;I&&wh(Re,f,x,U,Z,se,F,Pe),[this.firestore,this.persistenceEnabled$]=(0,fi.cc)(`${Re.name}.firestore`,"AngularFirestore",Re.name,()=>{const $e=f.runOutsideAngular(()=>Re.firestore());if(a&&$e.settings(a),Ae&&$e.useEmulator(...Ae),i&&!Ir(u)){const ze=()=>{try{return(0,Xt.D)($e.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(ut){return"undefined"!=typeof console&&console.warn(ut),gt(!1)}};return[$e,f.runOutsideAngular(ze)]}return[$e,gt(!1)]},[a,Ae,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:u}=sM(i,r),f=this.schedulers.ngZone.run(()=>a);return new tM(f,u,this)}collectionGroup(t,r){const i=r||(u=>u),a=this.firestore.collectionGroup(t);return new Ik(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new nM(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(fi.Dh),c.LFG(fi.xv,8),c.LFG(rM,8),c.LFG(Ak,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Mn.HU),c.LFG(iM,8),c.LFG(Nk,8),c.LFG(Eu,8),c.LFG(ip,8),c.LFG(_v,8),c.LFG(sp,8),c.LFG(yv,8),c.LFG(vh,8),c.LFG(bh,8),c.LFG(rp,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Mk=(()=>{class n{constructor(){_h.Z.registerVersion("angularfire",Mn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:rM,useValue:!0},{provide:iM,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Al]}),n})();class Bi extends qt.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:Ok}=Array,{getPrototypeOf:xk,prototype:Pk,keys:Rk}=Object;function oM(n){if(1===n.length){const e=n[0];if(Ok(e))return{args:e,keys:null};if(function kk(n){return n&&"object"==typeof n&&xk(n)===Pk}(e)){const t=Rk(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:Fk}=Array;function mI(n){return(0,pt.U)(e=>function Lk(n,e){return Fk(e)?n(...e):n(e)}(n,e))}function aM(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var Vk=R(9672);function lM(n,e,t){n?(0,Vk.f)(t,n,e):e()}function zD(n,e){const t=(0,ti.m)(n)?n:()=>n,r=i=>i.error(t());return new Gn.y(e?i=>e.schedule(r,0,i):r)}function cM(n){return new Gn.y(e=>{(0,Zt.Xf)(n()).subscribe(e)})}var Nf=R(515),uM=R(727);function dM(){return(0,mr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,cn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Uk extends Gn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,mr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new uM.w0;const t=this.getSubject();e.add(this.source.subscribe((0,cn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=uM.w0.EMPTY)}return e}refCount(){return dM()(this)}}function Mf(n){return(0,mr.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,cn.x)(t,void 0,void 0,u=>{a=(0,Zt.Xf)(n(u,Mf(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}var Ui=R(5577);function iw(n,e){return(0,ti.m)(e)?(0,Ui.z)(n,e,1):(0,Ui.z)(n,1)}function yI(n){return n<=0?()=>Nf.E:(0,mr.e)((e,t)=>{let r=[];e.subscribe((0,cn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}var ks=R(8505);class kd{constructor(e,t){this.id=e,this.url=t}}class vI extends kd{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class sw extends kd{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class hM extends kd{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $k extends kd{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Gk extends kd{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qk extends kd{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zk extends kd{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class zk extends kd{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wk extends kd{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fM{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class pM{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Kk{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yk{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qk{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jk{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gM{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const on="primary";class Xk{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ky(n){return new Xk(n)}const mM="ngNavigationCancelingError";function bI(n){const e=Error("NavigationCancelingError: "+n);return e[mM]=!0,e}function tF(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const u=r[a],f=n[a];if(u.startsWith(":"))i[u.substring(1)]=f;else if(u!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Lc(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!_M(n[i],e[i]))return!1;return!0}function _M(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function yM(n){return Array.prototype.concat.apply([],n)}function vM(n){return n.length>0?n[n.length-1]:null}function Ji(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Vc(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,Xt.D)(Promise.resolve(n)):gt(n)}const iF={exact:function CM(n,e,t){if(!Mg(n.segments,e.segments)||!WD(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!CM(n.children[r],e.children[r],t))return!1;return!0},subset:DM},bM={exact:function sF(n,e){return Lc(n,e)},subset:function oF(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>_M(n[t],e[t]))},ignored:()=>!0};function wM(n,e,t){return iF[t.paths](n.root,e.root,t.matrixParams)&&bM[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function DM(n,e,t){return EM(n,e,e.segments,t)}function EM(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Mg(i,t)||e.hasChildren()||!WD(i,t,r))}if(n.segments.length===t.length){if(!Mg(n.segments,t)||!WD(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!DM(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(Mg(n.segments,i)&&WD(n.segments,i,r)&&n.children[on])&&EM(n.children[on],e,a,r)}}function WD(n,e,t){return e.every((r,i)=>bM[t](n[i].parameters,r.parameters))}class Ng{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ky(this.queryParams)),this._queryParamMap}toString(){return cF.serialize(this)}}class fn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Ji(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return KD(this)}}class ow{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ky(this.parameters)),this._parameterMap}toString(){return NM(this)}}function Mg(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class TM{}class SM{parse(e){const t=new yF(e);return new Ng(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${aw(e.root,!0)}`,r=function hF(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${YD(t)}=${YD(i)}`).join("&"):`${YD(t)}=${YD(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function uF(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${r}${i}`}}const cF=new SM;function KD(n){return n.segments.map(e=>NM(e)).join("/")}function aw(n,e){if(!n.hasChildren())return KD(n);if(e){const t=n.children[on]?aw(n.children[on],!1):"",r=[];return Ji(n.children,(i,a)=>{a!==on&&r.push(`${a}:${aw(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function lF(n,e){let t=[];return Ji(n.children,(r,i)=>{i===on&&(t=t.concat(e(r,i)))}),Ji(n.children,(r,i)=>{i!==on&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===on?[aw(n.children[on],!1)]:[`${i}:${aw(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[on]?`${KD(n)}/${t[0]}`:`${KD(n)}/(${t.join("//")})`}}function IM(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function YD(n){return IM(n).replace(/%3B/gi,";")}function wI(n){return IM(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function QD(n){return decodeURIComponent(n)}function AM(n){return QD(n.replace(/\+/g,"%20"))}function NM(n){return`${wI(n.path)}${function dF(n){return Object.keys(n).map(e=>`;${wI(e)}=${wI(n[e])}`).join("")}(n.parameters)}`}const fF=/^[^\/()?;=#]+/;function JD(n){const e=n.match(fF);return e?e[0]:""}const pF=/^[^=?&#]+/,mF=/^[^&#]+/;class yF{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new fn([],{}):new fn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[on]=new fn(e,t)),r}parseSegment(){const e=JD(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new ow(QD(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=JD(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=JD(this.remaining);i&&(r=i,this.capture(r))}e[QD(t)]=QD(r)}parseQueryParam(e){const t=function gF(n){const e=n.match(pF);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const u=function _F(n){const e=n.match(mF);return e?e[0]:""}(this.remaining);u&&(r=u,this.capture(r))}const i=AM(t),a=AM(r);if(e.hasOwnProperty(i)){let u=e[i];Array.isArray(u)||(u=[u],e[i]=u),u.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=JD(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let a;r.indexOf(":")>-1?(a=r.substr(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=on);const u=this.parseChildren();t[a]=1===Object.keys(u).length?u[on]:new fn([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class MM{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=CI(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=CI(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=DI(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return DI(e,this._root).map(t=>t.value)}}function CI(n,e){if(n===e.value)return e;for(const t of e.children){const r=CI(n,t);if(r)return r}return null}function DI(n,e){if(n===e.value)return[e];for(const t of e.children){const r=DI(n,t);if(r.length)return r.unshift(e),r}return[]}class Fd{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Fy(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class OM extends MM{constructor(e,t){super(e),this.snapshot=t,EI(this,e)}toString(){return this.snapshot.toString()}}function xM(n,e){const t=function vF(n,e){const u=new XD([],{},{},"",{},on,e,null,n.root,-1,{});return new RM("",new Fd(u,[]))}(n,e),r=new Bi([new ow("",{})]),i=new Bi({}),a=new Bi({}),u=new Bi({}),f=new Bi(""),_=new Og(r,i,u,f,a,on,e,t.root);return _.snapshot=t.root,new OM(new Fd(_,[]),t)}class Og{constructor(e,t,r,i,a,u,f,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=u,this.component=f,this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,pt.U)(e=>ky(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,pt.U)(e=>ky(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function PM(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function bF(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class XD{constructor(e,t,r,i,a,u,f,_,b,T,I){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=u,this.component=f,this.routeConfig=_,this._urlSegment=b,this._lastPathIndex=T,this._resolve=I}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ky(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ky(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class RM extends MM{constructor(e,t){super(t),this.url=e,EI(this,t)}toString(){return kM(this._root)}}function EI(n,e){e.value._routerState=n,e.children.forEach(t=>EI(n,t))}function kM(n){const e=n.children.length>0?` { ${n.children.map(kM).join(", ")} } `:"";return`${n.value}${e}`}function TI(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Lc(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Lc(e.params,t.params)||n.params.next(t.params),function nF(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Lc(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Lc(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function SI(n,e){const t=Lc(n.params,e.params)&&function aF(n,e){return Mg(n,e)&&n.every((t,r)=>Lc(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||SI(n.parent,e.parent))}function lw(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function CF(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return lw(n,r,i);return lw(n,r)})}(n,e,t);return new Fd(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const u=a.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(f=>lw(n,f)),u}}const r=function DF(n){return new Og(new Bi(n.url),new Bi(n.params),new Bi(n.queryParams),new Bi(n.fragment),new Bi(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>lw(n,a));return new Fd(r,i)}}function eE(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function cw(n){return"object"==typeof n&&null!=n&&n.outlets}function II(n,e,t,r,i){let a={};if(r&&Ji(r,(f,_)=>{a[_]=Array.isArray(f)?f.map(b=>`${b}`):`${f}`}),n===e)return new Ng(t,a,i);const u=FM(n,e,t);return new Ng(u,a,i)}function FM(n,e,t){const r={};return Ji(n.children,(i,a)=>{r[a]=i===e?t:FM(i,e,t)}),new fn(n.segments,r)}class LM{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&eE(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(cw);if(i&&i!==vM(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class AI{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function VM(n,e,t){if(n||(n=new fn([],{})),0===n.segments.length&&n.hasChildren())return tE(n,e,t);const r=function NF(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const u=n.segments[i],f=t[r];if(cw(f))break;const _=`${f}`,b=r<t.length-1?t[r+1]:null;if(i>0&&void 0===_)break;if(_&&b&&"object"==typeof b&&void 0===b.outlets){if(!UM(_,b,u))return a;r+=2}else{if(!UM(_,{},u))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new fn(n.segments.slice(0,r.pathIndex),{});return a.children[on]=new fn(n.segments.slice(r.pathIndex),n.children),tE(a,0,i)}return r.match&&0===i.length?new fn(n.segments,{}):r.match&&!n.hasChildren()?NI(n,e,t):r.match?tE(n,0,i):NI(n,e,t)}function tE(n,e,t){if(0===t.length)return new fn(n.segments,{});{const r=function AF(n){return cw(n[0])?n[0].outlets:{[on]:n}}(t),i={};return Ji(r,(a,u)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[u]=VM(n.children[u],e,a))}),Ji(n.children,(a,u)=>{void 0===r[u]&&(i[u]=a)}),new fn(n.segments,i)}}function NI(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(cw(a)){const _=MF(a.outlets);return new fn(r,_)}if(0===i&&eE(t[0])){r.push(new ow(n.segments[e].path,BM(t[0]))),i++;continue}const u=cw(a)?a.outlets[on]:`${a}`,f=i<t.length-1?t[i+1]:null;u&&f&&eE(f)?(r.push(new ow(u,BM(f))),i+=2):(r.push(new ow(u,{})),i++)}return new fn(r,{})}function MF(n){const e={};return Ji(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=NI(new fn([],{}),0,t))}),e}function BM(n){const e={};return Ji(n,(t,r)=>e[r]=`${t}`),e}function UM(n,e,t){return n==t.path&&Lc(e,t.parameters)}class xF{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),TI(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Fy(t);e.children.forEach(a=>{const u=a.value.outlet;this.deactivateRoutes(a,i[u],r),delete i[u]}),Ji(i,(a,u)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const u=r.getContext(i.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Fy(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],i);if(r&&r.outlet){const u=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Fy(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Fy(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new Jk(a.value.snapshot))}),e.children.length&&this.forwardEvent(new Yk(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(TI(i),i===a)if(i.component){const u=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const u=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),u.children.onOutletReAttached(f.contexts),u.attachRef=f.componentRef,u.route=f.route.value,u.outlet&&u.outlet.attach(f.componentRef,f.route.value),TI(f.route.value),this.activateChildRoutes(e,null,u.children)}else{const f=function PF(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),_=f?f.module.componentFactoryResolver:null;u.attachRef=null,u.route=i,u.resolver=_,u.outlet&&u.outlet.activateWith(i,_),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,r)}}class MI{constructor(e,t){this.routes=e,this.module=t}}function Of(n){return"function"==typeof n}function xg(n){return n instanceof Ng}const uw=Symbol("INITIAL_VALUE");function dw(){return xn(n=>function _I(...n){const e=(0,rs.yG)(n),t=(0,rs.jO)(n),{args:r,keys:i}=oM(n);if(0===r.length)return(0,Xt.D)([],e);const a=new Gn.y(function Bk(n,e,t=Ri.y){return r=>{lM(e,()=>{const{length:i}=n,a=new Array(i);let u=i,f=i;for(let _=0;_<i;_++)lM(e,()=>{const b=(0,Xt.D)(n[_],e);let T=!1;b.subscribe((0,cn.x)(r,I=>{a[_]=I,T||(T=!0,f--),f||r.next(t(a.slice()))},()=>{--u||r.complete()}))},r)},r)}}(r,e,i?u=>aM(i,u):Ri.y));return t?a.pipe(mI(t)):a}(n.map(e=>e.pipe((0,Ln.q)(1),Lo(uw)))).pipe(ga((e,t)=>{let r=!1;return t.reduce((i,a,u)=>i!==uw?i:(a===uw&&(r=!0),r||!1!==a&&u!==t.length-1&&!xg(a)?i:a),e)},uw),An(e=>e!==uw),(0,pt.U)(e=>xg(e)?e:!0===e),(0,Ln.q)(1)))}class BF{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new hw,this.attachRef=null}}class hw{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new BF,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let OI=(()=>{class n{constructor(t,r,i,a,u){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=a||on,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const u=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),f=this.parentContexts.getOrCreateContext(this.name).children,_=new UF(t,f,this.location.injector);this.activated=this.location.createComponent(u,this.location.length,_),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(hw),c.Y36(c.s_b),c.Y36(c._Vd),c.$8M("name"),c.Y36(c.sBO))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class UF{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Og?this.route:e===hw?this.childContexts:this.parent.get(e,t)}}let jM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&c._UZ(0,"router-outlet")},directives:[OI],encapsulation:2}),n})();function HM(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];jF(r,HF(e,r))}}function jF(n,e){n.children&&HM(n.children,e)}function HF(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function xI(n){const e=n.children&&n.children.map(xI),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==on&&(t.component=jM),t}function xa(n){return n.outlet||on}function $M(n,e){const t=n.filter(r=>xa(r)===e);return t.push(...n.filter(r=>xa(r)!==e)),t}const GM={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function nE(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},GM):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const a=(e.matcher||tF)(t,n,e);if(!a)return Object.assign({},GM);const u={};Ji(a.posParams,(_,b)=>{u[b]=_.path});const f=a.consumed.length>0?Object.assign(Object.assign({},u),a.consumed[a.consumed.length-1].parameters):u;return{matched:!0,consumedSegments:a.consumed,remainingSegments:t.slice(a.consumed.length),parameters:f,positionalParamSegments:null!==(r=a.posParams)&&void 0!==r?r:{}}}function rE(n,e,t,r,i="corrected"){if(t.length>0&&function qF(n,e,t){return t.some(r=>iE(n,e,r)&&xa(r)!==on)}(n,t,r)){const u=new fn(e,function GF(n,e,t,r){const i={};i[on]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&xa(a)!==on){const u=new fn([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,i[xa(a)]=u}return i}(n,e,r,new fn(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function ZF(n,e,t){return t.some(r=>iE(n,e,r))}(n,t,r)){const u=new fn(n.segments,function $F(n,e,t,r,i,a){const u={};for(const f of r)if(iE(n,t,f)&&!i[xa(f)]){const _=new fn([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===a?n.segments.length:e.length,u[xa(f)]=_}return Object.assign(Object.assign({},i),u)}(n,e,t,r,n.children,i));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const a=new fn(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function iE(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function qM(n,e,t,r){return!!(xa(n)===r||r!==on&&iE(e,t,n))&&("**"===n.path||nE(e,n,t).matched)}function ZM(n,e,t){return 0===e.length&&!n.children[t]}class sE{constructor(e){this.segmentGroup=e||null}}class zM{constructor(e){this.urlTree=e}}function fw(n){return zD(new sE(n))}function WM(n){return zD(new zM(n))}function zF(n){return zD(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`))}class YF{constructor(e,t,r,i,a){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0,this.ngModule=e.get(c.h0i)}apply(){const e=rE(this.urlTree.root,[],[],this.config).segmentGroup,t=new fn(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,on).pipe((0,pt.U)(a=>this.createUrlTree(PI(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Mf(a=>{if(a instanceof zM)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof sE?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,on).pipe((0,pt.U)(i=>this.createUrlTree(PI(i),e.queryParams,e.fragment))).pipe(Mf(i=>{throw i instanceof sE?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new fn([],{[on]:e}):e;return new Ng(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,pt.U)(a=>new fn([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,Xt.D)(i).pipe(iw(a=>{const u=r.children[a],f=$M(t,a);return this.expandSegmentGroup(e,f,u,a).pipe((0,pt.U)(_=>({segment:_,outlet:a})))}),ga((a,u)=>(a[u.outlet]=u.segment,a),{}),function jk(n,e){const t=arguments.length>=2;return r=>r.pipe(n?An((i,a)=>n(i,a,r)):Ri.y,yI(1),t?pi(e):ao(()=>new Es))}())}expandSegment(e,t,r,i,a,u){return(0,Xt.D)(r).pipe(iw(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,a,u).pipe(Mf(b=>{if(b instanceof sE)return gt(null);throw b}))),Ts(f=>!!f),Mf((f,_)=>{if(f instanceof Es||"EmptyError"===f.name)return ZM(t,i,a)?gt(new fn([],{})):fw(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,a,u,f){return qM(i,t,a,u)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,u):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,u):fw(t):fw(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,u){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?WM(a):this.lineralizeSegments(r,a).pipe((0,Ui.z)(u=>{const f=new fn(u,{});return this.expandSegment(e,f,t,u,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,u){const{matched:f,consumedSegments:_,remainingSegments:b,positionalParamSegments:T}=nE(t,i,a);if(!f)return fw(t);const I=this.applyRedirectCommands(_,i.redirectTo,T);return i.redirectTo.startsWith("/")?WM(I):this.lineralizeSegments(i,I).pipe((0,Ui.z)(x=>this.expandSegment(e,t,r,x.concat(b),u,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){if("**"===r.path)return r.loadChildren?(r._loadedConfig?gt(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,pt.U)(I=>(r._loadedConfig=I,new fn(i,{})))):gt(new fn(i,{}));const{matched:u,consumedSegments:f,remainingSegments:_}=nE(t,r,i);return u?this.getChildConfig(e,r,i).pipe((0,Ui.z)(T=>{const I=T.module,x=T.routes,{segmentGroup:F,slicedSegments:U}=rE(t,f,_,x),Z=new fn(F.segments,F.children);if(0===U.length&&Z.hasChildren())return this.expandChildren(I,x,Z).pipe((0,pt.U)(Re=>new fn(f,Re)));if(0===x.length&&0===U.length)return gt(new fn(f,{}));const se=xa(r)===a;return this.expandSegment(I,Z,x,U,se?on:a,!0).pipe((0,pt.U)(Me=>new fn(f.concat(Me.segments),Me.children)))})):fw(t)}getChildConfig(e,t,r){return t.children?gt(new MI(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?gt(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Ui.z)(i=>i?this.configLoader.load(e.injector,t).pipe((0,pt.U)(a=>(t._loadedConfig=a,a))):function WF(n){return zD(bI(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):gt(new MI([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;if(!i||0===i.length)return gt(!0);const a=i.map(u=>{const f=e.get(u);let _;if(function kF(n){return n&&Of(n.canLoad)}(f))_=f.canLoad(t,r);else{if(!Of(f))throw new Error("Invalid CanLoad guard");_=f(t,r)}return Vc(_)});return gt(a).pipe(dw(),(0,ks.b)(u=>{if(!xg(u))return;const f=bI(`Redirecting to "${this.urlSerializer.serialize(u)}"`);throw f.url=u,f}),(0,pt.U)(u=>!0===u))}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return gt(r);if(i.numberOfChildren>1||!i.children[on])return zF(e.redirectTo);i=i.children[on]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new Ng(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Ji(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[a]=t[f]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let u={};return Ji(t.children,(f,_)=>{u[_]=this.createSegmentGroup(e,f,r,i)}),new fn(a,u)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function PI(n){const e={};for(const r of Object.keys(n.children)){const a=PI(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function QF(n){if(1===n.numberOfChildren&&n.children[on]){const e=n.children[on];return new fn(n.segments.concat(e.segments),e.children)}return n}(new fn(n.segments,e))}class KM{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class oE{constructor(e,t){this.component=e,this.route=t}}function XF(n,e,t){const r=n._root;return pw(r,e?e._root:null,t,[r.value])}function aE(n,e,t){const r=function tL(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function pw(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=Fy(e);return n.children.forEach(u=>{(function nL(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,u=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(u&&a.routeConfig===u.routeConfig){const _=function rL(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Mg(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Mg(n.url,e.url)||!Lc(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!SI(n,e)||!Lc(n.queryParams,e.queryParams);default:return!SI(n,e)}}(u,a,a.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new KM(r)):(a.data=u.data,a._resolvedData=u._resolvedData),pw(n,e,a.component?f?f.children:null:t,r,i),_&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new oE(f.outlet.component,u))}else u&&gw(e,f,i),i.canActivateChecks.push(new KM(r)),pw(n,null,a.component?f?f.children:null:t,r,i)})(u,a[u.value.outlet],t,r.concat([u.value]),i),delete a[u.value.outlet]}),Ji(a,(u,f)=>gw(u,t.getContext(f),i)),i}function gw(n,e,t){const r=Fy(n),i=n.value;Ji(r,(a,u)=>{gw(a,i.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new oE(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class hL{}function YM(n){return new Gn.y(e=>e.error(n))}class pL{constructor(e,t,r,i,a,u){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=u}recognize(){const e=rE(this.urlTree.root,[],[],this.config.filter(u=>void 0===u.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,on);if(null===t)return null;const r=new XD([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},on,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Fd(r,t),a=new RM(this.url,i);return this.inheritParamsAndData(a._root),a}inheritParamsAndData(e){const t=e.value,r=PM(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const a of Object.keys(t.children)){const u=t.children[a],f=$M(e,a),_=this.processSegmentGroup(f,u,a);if(null===_)return null;r.push(..._)}const i=QM(r);return function gL(n){n.sort((e,t)=>e.value.outlet===on?-1:t.value.outlet===on?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const a of e){const u=this.processSegmentAgainstRoute(a,t,r,i);if(null!==u)return u}return ZM(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!qM(e,t,r,i))return null;let a,u=[],f=[];if("**"===e.path){const F=r.length>0?vM(r).parameters:{};a=new XD(r,F,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,eO(e),xa(e),e.component,e,JM(t),XM(t)+r.length,tO(e))}else{const F=nE(t,e,r);if(!F.matched)return null;u=F.consumedSegments,f=F.remainingSegments,a=new XD(u,F.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,eO(e),xa(e),e.component,e,JM(t),XM(t)+u.length,tO(e))}const _=function mL(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:b,slicedSegments:T}=rE(t,u,f,_.filter(F=>void 0===F.redirectTo),this.relativeLinkResolution);if(0===T.length&&b.hasChildren()){const F=this.processChildren(_,b);return null===F?null:[new Fd(a,F)]}if(0===_.length&&0===T.length)return[new Fd(a,[])];const I=xa(e)===i,x=this.processSegment(_,b,T,I?on:i);return null===x?null:[new Fd(a,x)]}}function _L(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function QM(n){const e=[],t=new Set;for(const r of n){if(!_L(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=QM(r.children);e.push(new Fd(r.value,i))}return e.filter(r=>!t.has(r))}function JM(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function XM(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function eO(n){return n.data||{}}function tO(n){return n.resolve||{}}function nO(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function RI(n){return xn(e=>{const t=n(e);return t?(0,Xt.D)(t).pipe((0,pt.U)(()=>e)):gt(e)})}class TL extends class EL{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const kI=new c.OlP("ROUTES");class rO{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,pt.U)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t);const u=a.create(e);return new MI(yM(u.injector.get(kI,void 0,c.XFs.Self|c.XFs.Optional)).map(xI),u)}),Mf(a=>{throw t._loader$=void 0,a}));return t._loader$=new Uk(i,()=>new qt.x).pipe(dM()),t._loader$}loadModuleFactory(e){return Vc(e()).pipe((0,Ui.z)(t=>t instanceof c.YKP?gt(t):(0,Xt.D)(this.compiler.compileModuleAsync(t))))}}class IL{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function AL(n){throw n}function NL(n,e,t){return e.parse("/")}function iO(n,e){return gt(null)}const ML={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},OL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Vr=(()=>{class n{constructor(t,r,i,a,u,f,_){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=a,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new qt.x,this.errorHandler=AL,this.malformedUriErrorHandler=NL,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:iO,afterPreactivation:iO},this.urlHandlingStrategy=new IL,this.routeReuseStrategy=new TL,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=u.get(c.h0i),this.console=u.get(c.c2e);const I=u.get(c.R0b);this.isNgZoneEnabled=I instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function rF(){return new Ng(new fn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new rO(u,f,x=>this.triggerEvent(new fM(x)),x=>this.triggerEvent(new pM(x))),this.routerState=xM(this.currentUrlTree,this.rootComponentType),this.transitions=new Bi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(An(i=>0!==i.id),(0,pt.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),xn(i=>{let a=!1,u=!1;return gt(i).pipe((0,ks.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.currentRawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),xn(f=>{const _=this.browserUrlTree.toString(),b=!this.navigated||f.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return sO(f.source)&&(this.browserUrlTree=f.extractedUrl),gt(f).pipe(xn(I=>{const x=this.transitions.getValue();return r.next(new vI(I.id,this.serializeUrl(I.extractedUrl),I.source,I.restoredState)),x!==this.transitions.getValue()?Nf.E:Promise.resolve(I)}),function JF(n,e,t,r){return xn(i=>function KF(n,e,t,r,i){return new YF(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,pt.U)(a=>Object.assign(Object.assign({},i),{urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ks.b)(I=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:I.urlAfterRedirects})}),function yL(n,e,t,r,i){return(0,Ui.z)(a=>function fL(n,e,t,r,i="emptyOnly",a="legacy"){try{const u=new pL(n,e,t,r,i,a).recognize();return null===u?YM(new hL):gt(u)}catch(u){return YM(u)}}(n,e,a.urlAfterRedirects,t(a.urlAfterRedirects),r,i).pipe((0,pt.U)(u=>Object.assign(Object.assign({},a),{targetSnapshot:u}))))}(this.rootComponentType,this.config,I=>this.serializeUrl(I),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ks.b)(I=>{if("eager"===this.urlUpdateStrategy){if(!I.extras.skipLocationChange){const F=this.urlHandlingStrategy.merge(I.urlAfterRedirects,I.rawUrl);this.setBrowserUrl(F,I)}this.browserUrlTree=I.urlAfterRedirects}const x=new Gk(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);r.next(x)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:x,extractedUrl:F,source:U,restoredState:Z,extras:se}=f,Pe=new vI(x,this.serializeUrl(F),U,Z);r.next(Pe);const Me=xM(F,this.rootComponentType).snapshot;return gt(Object.assign(Object.assign({},f),{targetSnapshot:Me,urlAfterRedirects:F,extras:Object.assign(Object.assign({},se),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=f.rawUrl,f.resolve(null),Nf.E}),RI(f=>{const{targetSnapshot:_,id:b,extractedUrl:T,rawUrl:I,extras:{skipLocationChange:x,replaceUrl:F}}=f;return this.hooks.beforePreactivation(_,{navigationId:b,appliedUrlTree:T,rawUrlTree:I,skipLocationChange:!!x,replaceUrl:!!F})}),(0,ks.b)(f=>{const _=new qk(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(_)}),(0,pt.U)(f=>Object.assign(Object.assign({},f),{guards:XF(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function iL(n,e){return(0,Ui.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:u}}=t;return 0===u.length&&0===a.length?gt(Object.assign(Object.assign({},t),{guardsResult:!0})):function sL(n,e,t,r){return(0,Xt.D)(n).pipe((0,Ui.z)(i=>function dL(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?gt(a.map(f=>{const _=aE(f,e,i);let b;if(function VF(n){return n&&Of(n.canDeactivate)}(_))b=Vc(_.canDeactivate(n,e,t,r));else{if(!Of(_))throw new Error("Invalid CanDeactivate guard");b=Vc(_(n,e,t,r))}return b.pipe(Ts())})).pipe(dw()):gt(!0)}(i.component,i.route,t,e,r)),Ts(i=>!0!==i,!0))}(u,r,i,n).pipe((0,Ui.z)(f=>f&&function RF(n){return"boolean"==typeof n}(f)?function oL(n,e,t,r){return(0,Xt.D)(e).pipe(iw(i=>rl(function lL(n,e){return null!==n&&e&&e(new Kk(n)),gt(!0)}(i.route.parent,r),function aL(n,e){return null!==n&&e&&e(new Qk(n)),gt(!0)}(i.route,r),function uL(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(u=>function eL(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>cM(()=>gt(u.guards.map(_=>{const b=aE(_,u.node,t);let T;if(function LF(n){return n&&Of(n.canActivateChild)}(b))T=Vc(b.canActivateChild(r,n));else{if(!Of(b))throw new Error("Invalid CanActivateChild guard");T=Vc(b(r,n))}return T.pipe(Ts())})).pipe(dw())));return gt(a).pipe(dw())}(n,i.path,t),function cL(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return gt(!0);const i=r.map(a=>cM(()=>{const u=aE(a,e,t);let f;if(function FF(n){return n&&Of(n.canActivate)}(u))f=Vc(u.canActivate(e,n));else{if(!Of(u))throw new Error("Invalid CanActivate guard");f=Vc(u(e,n))}return f.pipe(Ts())}));return gt(i).pipe(dw())}(n,i.route,t))),Ts(i=>!0!==i,!0))}(r,a,n,e):gt(f)),(0,pt.U)(f=>Object.assign(Object.assign({},t),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,ks.b)(f=>{if(xg(f.guardsResult)){const b=bI(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw b.url=f.guardsResult,b}const _=new Zk(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(_)}),An(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),RI(f=>{if(f.guards.canActivateChecks.length)return gt(f).pipe((0,ks.b)(_=>{const b=new zk(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(b)}),xn(_=>{let b=!1;return gt(_).pipe(function vL(n,e){return(0,Ui.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return gt(t);let a=0;return(0,Xt.D)(i).pipe(iw(u=>function bL(n,e,t,r){return function wL(n,e,t,r){const i=nO(n);if(0===i.length)return gt({});const a={};return(0,Xt.D)(i).pipe((0,Ui.z)(u=>function CL(n,e,t,r){const i=aE(n,e,r);return Vc(i.resolve?i.resolve(e,t):i(e,t))}(n[u],e,t,r).pipe((0,ks.b)(f=>{a[u]=f}))),yI(1),(0,Ui.z)(()=>nO(a).length===i.length?gt(a):Nf.E))}(n._resolve,n,e,r).pipe((0,pt.U)(a=>(n._resolvedData=a,n.data=Object.assign(Object.assign({},n.data),PM(n,t).resolve),null)))}(u.route,r,n,e)),(0,ks.b)(()=>a++),yI(1),(0,Ui.z)(u=>a===i.length?gt(t):Nf.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ks.b)({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(_),this.cancelNavigationTransition(_,"At least one route resolver didn't emit any value."))}}))}),(0,ks.b)(_=>{const b=new Wk(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(b)}))}),RI(f=>{const{targetSnapshot:_,id:b,extractedUrl:T,rawUrl:I,extras:{skipLocationChange:x,replaceUrl:F}}=f;return this.hooks.afterPreactivation(_,{navigationId:b,appliedUrlTree:T,rawUrlTree:I,skipLocationChange:!!x,replaceUrl:!!F})}),(0,pt.U)(f=>{const _=function wF(n,e,t){const r=lw(n,e._root,t?t._root:void 0);return new OM(r,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return Object.assign(Object.assign({},f),{targetRouterState:_})}),(0,ks.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,pt.U)(r=>(new xF(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,ks.b)({next(){a=!0},complete(){a=!0}}),function Hk(n){return(0,mr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var f;a||u||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(f=this.currentNavigation)||void 0===f?void 0:f.id)===i.id&&(this.currentNavigation=null)}),Mf(f=>{if(u=!0,function eF(n){return n&&n[mM]}(f)){const _=xg(f.url);_||(this.navigated=!0,this.restoreHistory(i,!0));const b=new hM(i.id,this.serializeUrl(i.extractedUrl),f.message);r.next(b),_?setTimeout(()=>{const T=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),I={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||sO(i.source)};this.scheduleNavigation(T,"imperative",null,I,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const _=new $k(i.id,this.serializeUrl(i.extractedUrl),f);r.next(_);try{i.resolve(this.errorHandler(f))}catch(b){i.reject(b)}}return Nf.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const a={replaceUrl:!0},u=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(u){const _=Object.assign({},u);delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(a.state=_)}const f=this.parseUrl(t.url);this.scheduleNavigation(f,r,u,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){HM(t),this.config=t.map(xI),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:u,queryParamsHandling:f,preserveFragment:_}=r,b=i||this.routerState.root,T=_?this.currentUrlTree.fragment:u;let I=null;switch(f){case"merge":I=Object.assign(Object.assign({},this.currentUrlTree.queryParams),a);break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=a||null}return null!==I&&(I=this.removeEmptyProps(I)),function EF(n,e,t,r,i){if(0===t.length)return II(e.root,e.root,e.root,r,i);const a=function TF(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new LM(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,u)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return Ji(a.outlets,(_,b)=>{f[b]="string"==typeof _?_.split("/"):_}),[...i,{outlets:f}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===u?(a.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,a]},[]);return new LM(t,e,r)}(t);if(a.toRoot())return II(e.root,e.root,new fn([],{}),r,i);const u=function SF(n,e,t){if(n.isAbsolute)return new AI(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const a=t.snapshot._urlSegment;return new AI(a,a===e.root,0)}const r=eE(n.commands[0])?0:1;return function IF(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new AI(r,!1,i-a)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(a,e,n),f=u.processChildren?tE(u.segmentGroup,u.index,a.commands):VM(u.segmentGroup,u.index,a.commands);return II(e.root,u.segmentGroup,f,r,i)}(b,this.currentUrlTree,t,I,null!=T?T:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=xg(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function xL(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},ML):!1===r?Object.assign({},OL):r,xg(t))return wM(this.currentUrlTree,t,i);const a=this.parseUrl(t);return wM(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new sw(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,a,u){var f,_;if(this.disposed)return Promise.resolve(!1);let b,T,I;u?(b=u.resolve,T=u.reject,I=u.promise):I=new Promise((U,Z)=>{b=U,T=Z});const x=++this.navigationId;let F;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),F=i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?null!==(f=this.browserPageId)&&void 0!==f?f:0:(null!==(_=this.browserPageId)&&void 0!==_?_:0)+1):F=0,this.setTransition({id:x,targetPageId:F,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:b,reject:T,promise:I,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),I.catch(U=>Promise.reject(U))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){var i,a;if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===u?this.currentUrlTree===(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)&&0===u&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(u)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new hM(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function sO(n){return"imperative"!==n}let Pg=(()=>{class n{constructor(t,r,i,a,u){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=a,this.el=u,this.commands=null,this.onChanges=new qt.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:Ly(this.skipLocationChange),replaceUrl:Ly(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ly(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Vr),c.Y36(Og),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&c.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[c.TTD]}),n})(),mw=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new qt.x,this.subscription=t.events.subscribe(a=>{a instanceof sw&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,a,u){if(0!==t||r||i||a||u||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const f={skipLocationChange:Ly(this.skipLocationChange),replaceUrl:Ly(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,f),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ly(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Vr),c.Y36(Og),c.Y36(fe))},n.\u0275dir=c.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&c.NdJ("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&c.uIk("target",r.target)("href",r.href,c.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[c.TTD]}),n})();function Ly(n){return""===n||!!n}class oO{}class aO{preload(e,t){return gt(null)}}let lO=(()=>{class n{constructor(t,r,i,a){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=new rO(i,r,_=>t.triggerEvent(new fM(_)),_=>t.triggerEvent(new pM(_)))}setUpPreloading(){this.subscription=this.router.events.pipe(An(t=>t instanceof sw),iw(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(c.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r)if(a.loadChildren&&!a.canLoad&&a._loadedConfig){const u=a._loadedConfig;i.push(this.processRoutes(u.module,u.routes))}else a.loadChildren&&!a.canLoad?i.push(this.preloadConfig(t,a)):a.children&&i.push(this.processRoutes(t,a.children));return(0,Xt.D)(i).pipe((0,Ch.J)(),(0,pt.U)(a=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?gt(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Ui.z)(a=>(r._loadedConfig=a,this.processRoutes(a.module,a.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Vr),c.LFG(c.Sil),c.LFG(c.zs3),c.LFG(oO))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),FI=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof vI?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof sw&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof gM&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new gM(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Rg=new c.OlP("ROUTER_CONFIGURATION"),cO=new c.OlP("ROUTER_FORROOT_GUARD"),FL=[ve,{provide:TM,useClass:SM},{provide:Vr,useFactory:function jL(n,e,t,r,i,a,u={},f,_){const b=new Vr(null,n,e,t,r,i,yM(a));return f&&(b.urlHandlingStrategy=f),_&&(b.routeReuseStrategy=_),function HL(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(u,b),u.enableTracing&&b.events.subscribe(T=>{var I,x;null===(I=console.group)||void 0===I||I.call(console,`Router Event: ${T.constructor.name}`),console.log(T.toString()),console.log(T),null===(x=console.groupEnd)||void 0===x||x.call(console)}),b},deps:[TM,hw,ve,c.zs3,c.Sil,kI,Rg,[class SL{},new c.FiY],[class DL{},new c.FiY]]},hw,{provide:Og,useFactory:function $L(n){return n.routerState.root},deps:[Vr]},lO,aO,class kL{preload(e,t){return t().pipe(Mf(()=>gt(null)))}},{provide:Rg,useValue:{enableTracing:!1}}];function LL(){return new c.PXZ("Router",Vr)}let uO=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[FL,dO(t),{provide:cO,useFactory:UL,deps:[[Vr,new c.FiY,new c.tp0]]},{provide:Rg,useValue:r||{}},{provide:fe,useFactory:BL,deps:[he,[new c.tBr(st),new c.FiY],Rg]},{provide:FI,useFactory:VL,deps:[Vr,ql,Rg]},{provide:oO,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:aO},{provide:c.PXZ,multi:!0,useFactory:LL},[LI,{provide:c.ip1,multi:!0,useFactory:GL,deps:[LI]},{provide:hO,useFactory:qL,deps:[LI]},{provide:c.tb,multi:!0,useExisting:hO}]]}}static forChild(t){return{ngModule:n,providers:[dO(t)]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(cO,8),c.LFG(Vr,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function VL(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new FI(n,e,t)}function BL(n,e,t={}){return t.useHash?new Se(n,e):new et(n,e)}function UL(n){return"guarded"}function dO(n){return[{provide:c.deG,multi:!0,useValue:n},{provide:kI,multi:!0,useValue:n}]}let LI=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new qt.x}appInitializer(){return this.injector.get($,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(f=>r=f),a=this.injector.get(Vr),u=this.injector.get(Rg);return"disabled"===u.initialNavigation?(a.setUpLocationChangeListener(),r(!0)):"enabled"===u.initialNavigation||"enabledBlocking"===u.initialNavigation?(a.hooks.afterPreactivation=()=>this.initNavigation?gt(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),a.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(Rg),i=this.injector.get(lO),a=this.injector.get(FI),u=this.injector.get(Vr),f=this.injector.get(c.z2F);t===f.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&u.initialNavigation(),i.setUpPreloading(),a.init(),u.resetRootComponentType(f.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function GL(n){return n.appInitializer.bind(n)}function qL(n){return n.bootstrapListener.bind(n)}const hO=new c.OlP("Router Initializer");let zL=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-error"]],decls:8,vars:0,consts:[[1,"error"],[1,"error-container"],[1,"requird"],[1,"fas","fa-face-frown",2,"font-size","10rem","color","#fff"],["routerLink","",1,"btn","btn-secondary"]],template:function(t,r){1&t&&(c.TgZ(0,"section",0)(1,"div",1)(2,"div",2),c._UZ(3,"i",3),c.TgZ(4,"h1"),c._uU(5,"Page Not Found"),c.qZA(),c.TgZ(6,"button",4),c._uU(7,"Market"),c.qZA()()()())},directives:[Pg],styles:[".error-container[_ngcontent-%COMP%]{z-index:4!important;position:absolute;width:100%;height:100%;background:var(--mainColor);top:0;left:0;padding:50px}.requird[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.requird[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:40px;font-weight:700;color:var(--secondColor)}"]}),n})(),Nl=(()=>{class n{constructor(t){this.auth=t,this.userId="",this.user=this.auth.user}register(t,r){return this.auth.createUserWithEmailAndPassword(t,r)}login(t,r){return this.auth.signInWithEmailAndPassword(t,r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Eu))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_w=(()=>{class n{constructor(t){this.fireS=t}getDataProfile(){return this.fireS.collection("users").ref.doc(localStorage.getItem("userConnect")).get()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Al))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const fO="firebasestorage.googleapis.com",pO="storageBucket";class Br extends Tt.ZR{constructor(e,t){super(VI(e),`Firebase Storage: ${t} (${VI(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Br.prototype)}_codeEquals(e){return VI(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function VI(n){return"storage/"+n}function BI(){return new Br("unknown","An unknown error occurred, please check the error payload for server response.")}function gO(){return new Br("canceled","User canceled the upload/download.")}function mO(){return new Br("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Vy(n){return new Br("invalid-argument",n)}function _O(){return new Br("app-deleted","The Firebase app was deleted.")}function yO(n){return new Br("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function yw(n,e){return new Br("invalid-format","String does not match format '"+n+"': "+e)}function vw(n){throw new Br("internal-error","Internal error: "+n)}class hs{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=hs.makeFromUrl(e,t)}catch(i){return new hs(e,"")}if(""===r.path)return r;throw function s2(n){return new Br("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",f=new RegExp("^gs://"+i+"(/(.*))?$","i");function b(Ae){Ae.path_=decodeURIComponent(Ae.path)}const I=t.replace(/[.]/g,"\\."),Re=[{regex:f,indices:{bucket:1,path:3},postModify:function a(Ae){"/"===Ae.path.charAt(Ae.path.length-1)&&(Ae.path_=Ae.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${I}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:b},{regex:new RegExp(`^https?://${t===fO?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:b}];for(let Ae=0;Ae<Re.length;Ae++){const $e=Re[Ae],ze=$e.regex.exec(e);if(ze){let At=ze[$e.indices.path];At||(At=""),r=new hs(ze[$e.indices.bucket],At),$e.postModify(r);break}}if(null==r)throw function r2(n){return new Br("invalid-url","Invalid URL '"+n+"'.")}(e);return r}}class c2{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function lE(n){return"string"==typeof n||n instanceof String}function vO(n){return UI()&&n instanceof Blob}function UI(){return"undefined"!=typeof Blob}function jI(n,e,t,r){if(r<e)throw Vy(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Vy(`Invalid value for '${n}'. Expected ${t} or less.`)}function Ld(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function bO(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var xf=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(xf||(xf={})),xf))();class g2{constructor(e,t,r,i,a,u,f,_,b,T,I){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=_,this.timeout_=b,this.progressCallback_=T,this.connectionFactory_=I,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,F)=>{this.resolve_=x,this.reject_=F,this.start_()})}start_(){const t=(r,i)=>{const a=this.resolve_,u=this.reject_,f=i.connection;if(i.wasSuccessCode)try{const _=this.callback_(f,f.getResponse());!function h2(n){return void 0!==n}(_)?a():a(_)}catch(_){u(_)}else if(null!==f){const _=BI();_.serverResponse=f.getErrorText(),u(this.errorCallback_?this.errorCallback_(f,_):_)}else u(i.canceled?this.appDelete_?_O():gO():function n2(){return new Br("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new cE(!1,null,!0)):this.backoffId_=function u2(n,e,t){let r=1,i=null,a=null,u=!1,f=0;function _(){return 2===f}let b=!1;function T(...se){b||(b=!0,e.apply(null,se))}function I(se){i=setTimeout(()=>{i=null,n(F,_())},se)}function x(){a&&clearTimeout(a)}function F(se,...Pe){if(b)return void x();if(se)return x(),void T.call(null,se,...Pe);if(_()||u)return x(),void T.call(null,se,...Pe);let Re;r<64&&(r*=2),1===f?(f=2,Re=0):Re=1e3*(r+Math.random()),I(Re)}let U=!1;function Z(se){U||(U=!0,x(),!b&&(null!==i?(se||(f=2),clearTimeout(i),I(0)):se||(f=1)))}return I(0),a=setTimeout(()=>{u=!0,Z(!0)},t),Z}((r,i)=>{if(i)return void r(!1,new cE(!1,null,!0));const a=this.connectionFactory_();this.pendingConnection_=a;const u=f=>{null!==this.progressCallback_&&this.progressCallback_(f.loaded,f.lengthComputable?f.total:-1)};null!==this.progressCallback_&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const f=a.getErrorCode()===xf.NO_ERROR,_=a.getStatus();if(!f||this.isRetryStatusCode_(_)){const T=a.getErrorCode()===xf.ABORT;return void r(!1,new cE(!1,null,T))}const b=-1!==this.successCodes_.indexOf(_);r(!0,new cE(b,a))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function d2(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,i=-1!==[408,429].indexOf(e),a=-1!==this.additionalRetryCodes_.indexOf(e);return t||i||a}}class cE{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function C2(...n){const e=function w2(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(UI())return new Blob(n);throw new Br("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Ko={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class HI{constructor(e,t){this.data=e,this.contentType=t||null}}function $I(n,e){switch(n){case Ko.RAW:return new HI(wO(e));case Ko.BASE64:case Ko.BASE64URL:return new HI(CO(n,e));case Ko.DATA_URL:return new HI(function S2(n){const e=new DO(n);return e.base64?CO(Ko.BASE64,e.rest):function T2(n){let e;try{e=decodeURIComponent(n)}catch(t){throw yw(Ko.DATA_URL,"Malformed data URL.")}return wO(e)}(e.rest)}(e),function I2(n){return new DO(n).contentType}(e))}throw BI()}function wO(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function CO(n,e){switch(n){case Ko.BASE64:{const i=-1!==e.indexOf("-"),a=-1!==e.indexOf("_");if(i||a)throw yw(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ko.BASE64URL:{const i=-1!==e.indexOf("+"),a=-1!==e.indexOf("/");if(i||a)throw yw(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function E2(n){return atob(n)}(e)}catch(i){throw yw(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class DO{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw yw(Ko.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function A2(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class Bc{constructor(e,t){let r=0,i="";vO(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(vO(this.data_)){const i=function D2(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new Bc(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Bc(r,!0)}}static getBlob(...e){if(UI()){const t=e.map(r=>r instanceof Bc?r.data_:r);return new Bc(C2.apply(null,t))}{const t=e.map(u=>lE(u)?$I(Ko.RAW,u).data:u.data_);let r=0;t.forEach(u=>{r+=u.byteLength});const i=new Uint8Array(r);let a=0;return t.forEach(u=>{for(let f=0;f<u.length;f++)i[a++]=u[f]}),new Bc(i,!0)}}uploadData(){return this.data_}}function GI(n){let e;try{e=JSON.parse(n)}catch(t){return null}return function p2(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function EO(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function O2(n,e){return e}class Fs{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||O2}}let uE=null;function bw(){if(uE)return uE;const n=[];n.push(new Fs("bucket")),n.push(new Fs("generation")),n.push(new Fs("metageneration")),n.push(new Fs("name","fullPath",!0));const t=new Fs("name");t.xform=function e(a,u){return function x2(n){return!lE(n)||n.length<2?n:EO(n)}(u)},n.push(t);const i=new Fs("size");return i.xform=function r(a,u){return void 0!==u?Number(u):u},n.push(i),n.push(new Fs("timeCreated")),n.push(new Fs("updated")),n.push(new Fs("md5Hash",null,!0)),n.push(new Fs("cacheControl",null,!0)),n.push(new Fs("contentDisposition",null,!0)),n.push(new Fs("contentEncoding",null,!0)),n.push(new Fs("contentLanguage",null,!0)),n.push(new Fs("contentType",null,!0)),n.push(new Fs("metadata","customMetadata",!0)),uE=n,uE}function TO(n,e,t){const r=GI(e);return null===r?null:function R2(n,e,t){const r={type:"file"},i=t.length;for(let a=0;a<i;a++){const u=t[a];r[u.local]=u.xform(r,e[u.server])}return function P2(n,e){Object.defineProperty(n,"ref",{get:function t(){const a=new hs(n.bucket,n.fullPath);return e._makeStorageReference(a)}})}(r,n),r}(n,r,t)}function qI(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}const SO="prefixes";class Uc{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function jc(n){if(!n)throw BI()}function dE(n,e){return function t(r,i){const a=TO(n,i,e);return jc(null!==a),a}}function By(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function e2(){return new Br("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function XL(){return new Br("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function JL(n){return new Br("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function t2(n){return new Br("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,i.serverResponse=r.serverResponse,i}}function ww(n){const e=By(n);return function t(r,i){let a=e(r,i);return 404===r.getStatus()&&(a=function QL(n){return new Br("object-not-found","Object '"+n+"' does not exist.")}(n.path)),a.serverResponse=i.serverResponse,a}}function AO(n,e,t){const i=Ld(e.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,f=new Uc(i,"GET",dE(n,t),u);return f.errorHandler=ww(e),f}function U2(n,e,t,r,i){const a={};a.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(a.delimiter=t),r&&(a.pageToken=r),i&&(a.maxResults=i);const f=Ld(e.bucketOnlyServerUrl(),n.host,n._protocol),b=n.maxOperationRetryTime,T=new Uc(f,"GET",function V2(n,e){return function t(r,i){const a=function L2(n,e,t){const r=GI(t);return null===r?null:function F2(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[SO])for(const i of t[SO]){const a=i.replace(/\/$/,""),u=n._makeStorageReference(new hs(e,a));r.prefixes.push(u)}if(t.items)for(const i of t.items){const a=n._makeStorageReference(new hs(e,i.name));r.items.push(a)}return r}(n,e,r)}(n,e,i);return jc(null!==a),a}}(n,e.bucket),b);return T.urlParams=a,T.errorHandler=By(e),T}function MO(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function G2(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class hE{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function ZI(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch(i){jc(!1)}return jc(!!t&&-1!==(e||["active"]).indexOf(t)),t}const W2={STATE_CHANGED:"state_changed"},Ls={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function zI(n){switch(n){case"running":case"pausing":case"canceling":return Ls.RUNNING;case"paused":return Ls.PAUSED;case"success":return Ls.SUCCESS;case"canceled":return Ls.CANCELED;default:return Ls.ERROR}}class K2{constructor(e,t,r){if(function f2(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=r?r:void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}function Uy(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class Q2 extends class Y2{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=xf.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=xf.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=xf.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw vw("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw vw("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw vw("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw vw("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw vw("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function Ml(){return new Q2}class RO{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=bw(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{this._request=void 0,this._chunkMultiplier=1,i._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=i,this._transition("error"))},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals("canceled")?this.completeTransitions_():(this._error=i,this._transition("error"))},this._promise=new Promise((i,a)=>{this._resolve=i,this._reject=a,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function q2(n,e,t,r,i){const a=e.bucketOnlyServerUrl(),u=MO(e,r,i),f={name:u.fullPath},_=Ld(a,n.host,n._protocol),T={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},I=qI(u,t),U=new Uc(_,"POST",function F(Z){let se;ZI(Z);try{se=Z.getResponseHeader("X-Goog-Upload-URL")}catch(Pe){jc(!1)}return jc(lE(se)),se},n.maxUploadRetryTime);return U.urlParams=f,U.headers=T,U.body=I,U.errorHandler=By(e),U}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ml,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=function Z2(n,e,t,r){const _=new Uc(t,"POST",function a(b){const T=ZI(b,["active","final"]);let I=null;try{I=b.getResponseHeader("X-Goog-Upload-Size-Received")}catch(F){jc(!1)}I||jc(!1);const x=Number(I);return jc(!isNaN(x)),new hE(x,r.size(),"final"===T)},n.maxUploadRetryTime);return _.headers={"X-Goog-Upload-Command":"query"},_.errorHandler=By(e),_}(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(i,Ml,t,r);this._request=a,a.getPromise().then(u=>{u=u,this._request=void 0,this._updateProgress(u.current),this._needToFetchStatus=!1,u.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new hE(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,a)=>{let u;try{u=function z2(n,e,t,r,i,a,u,f){const _=new hE(0,0);if(u?(_.current=u.current,_.total=u.total):(_.current=0,_.total=r.size()),r.size()!==_.total)throw function a2(){return new Br("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const b=_.total-_.current;let T=b;i>0&&(T=Math.min(T,i));const I=_.current,U={"X-Goog-Upload-Command":T===b?"upload, finalize":"upload","X-Goog-Upload-Offset":`${_.current}`},Z=r.slice(I,I+T);if(null===Z)throw mO();const Re=new Uc(t,"POST",function se(Ae,$e){const ze=ZI(Ae,["active","final"]),ut=_.current+T,At=r.size();let Tn;return Tn="final"===ze?dE(e,a)(Ae,$e):null,new hE(ut,At,"final"===ze,Tn)},e.maxUploadRetryTime);return Re.headers=U,Re.body=Z.uploadData(),Re.progressCallback=f||null,Re.errorHandler=By(n),Re}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(_){return this._error=_,void this._transition("error")}const f=this._ref.storage._makeRequest(u,Ml,i,a);this._request=f,f.getPromise().then(_=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(_.current),_.finalized?(this._metadata=_.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=AO(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Ml,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function OO(n,e,t,r,i){const a=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"},_=function f(){let Re="";for(let Ae=0;Ae<2;Ae++)Re+=Math.random().toString().slice(2);return Re}();u["Content-Type"]="multipart/related; boundary="+_;const b=MO(e,r,i),T=qI(b,t),F=Bc.getBlob("--"+_+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+T+"\r\n--"+_+"\r\nContent-Type: "+b.contentType+"\r\n\r\n",r,"\r\n--"+_+"--");if(null===F)throw mO();const U={name:b.fullPath},Z=Ld(a,n.host,n._protocol),Pe=n.maxUploadRetryTime,Me=new Uc(Z,"POST",dE(n,t),Pe);return Me.urlParams=U,Me.headers=u,Me.body=F.uploadData(),Me.errorHandler=By(e),Me}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ml,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=gO(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=zI(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const a=new K2(t||void 0,r||void 0,i||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(zI(this._state)){case Ls.SUCCESS:Uy(this._resolve.bind(null,this.snapshot))();break;case Ls.CANCELED:case Ls.ERROR:Uy(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(zI(this._state)){case Ls.RUNNING:case Ls.PAUSED:e.next&&Uy(e.next.bind(e,this.snapshot))();break;case Ls.SUCCESS:e.complete&&Uy(e.complete.bind(e))();break;default:e.error&&Uy(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class kg{constructor(e,t){this._service=e,this._location=t instanceof hs?t:hs.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new kg(e,t)}get root(){const e=new hs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return EO(this._location.path)}get storage(){return this._service}get parent(){const e=function N2(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new hs(this._location.bucket,e);return new kg(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw yO(e)}}function FO(n,e,t){return WI.apply(this,arguments)}function WI(){return WI=(0,ye.Z)(function*(n,e,t){const i=yield LO(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield FO(n,e,i.nextPageToken))}),WI.apply(this,arguments)}function LO(n,e){null!=e&&"number"==typeof e.maxResults&&jI("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=U2(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,Ml)}function cV(n){n._throwIfRoot("getDownloadURL");const e=function j2(n,e,t){const i=Ld(e.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,f=new Uc(i,"GET",function B2(n,e){return function t(r,i){const a=TO(n,i,e);return jc(null!==a),function k2(n,e,t,r){const i=GI(e);if(null===i||!lE(i.downloadTokens))return null;const a=i.downloadTokens;if(0===a.length)return null;const u=encodeURIComponent;return a.split(",").map(b=>{const I=n.fullPath;return Ld("/b/"+u(n.bucket)+"/o/"+u(I),t,r)+bO({alt:"media",token:b})})[0]}(a,i,n.host,n._protocol)}}(n,t),u);return f.errorHandler=ww(e),f}(n.storage,n._location,bw());return n.storage.makeRequestWithTokens(e,Ml).then(t=>{if(null===t)throw function l2(){return new Br("no-download-url","The given file does not have any download URLs.")}();return t})}function VO(n,e){const t=function M2(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new hs(n._location.bucket,t);return new kg(n.storage,r)}function BO(n,e){if(n instanceof KI){const t=n;if(null==t._bucket)throw function o2(){return new Br("no-default-bucket","No default bucket found. Did you set the '"+pO+"' property when initializing the app?")}();const r=new kg(t,t._bucket);return null!=e?BO(r,e):r}return void 0!==e?VO(n,e):n}function fV(n,e){if(e&&function dV(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof KI)return function hV(n,e){return new kg(n,e)}(n,e);throw Vy("To use ref(service, url), the first argument must be a Storage instance.")}return BO(n,e)}function UO(n,e){const t=null==e?void 0:e[pO];return null==t?null:hs.makeFromBucketSpec(t,n)}class KI{constructor(e,t,r,i,a){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=fO,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?hs.makeFromBucketSpec(i,this._host):UO(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?hs.makeFromBucketSpec(this._url,e):UO(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){jI("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){jI("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,ye.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,ye.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new kg(this,e)}_makeRequest(e,t,r,i){if(this._deleted)return new c2(_O());{const a=function b2(n,e,t,r,i,a){const u=bO(n.urlParams),f=n.url+u,_=Object.assign({},n.headers);return function y2(n,e){e&&(n["X-Firebase-GMPID"]=e)}(_,e),function m2(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(_,t),function _2(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(_,a),function v2(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(_,r),new g2(f,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i)}(e,this._appId,r,i,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}makeRequestWithTokens(e,t){var r=this;return(0,ye.Z)(function*(){const[i,a]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,a).getPromise()})()}}const jO="@firebase/storage";function GO(n,e){return fV(n=(0,Tt.m9)(n),e)}function EV(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new KI(t,r,i,e,Ss.SDK_VERSION)}!function TV(){(0,Ss._registerComponent)(new Xa.wA("storage",EV,"PUBLIC").setMultipleInstances(!0)),(0,Ss.registerVersion)(jO,"0.9.5",""),(0,Ss.registerVersion)(jO,"0.9.5","esm2017")}();class fE{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class qO{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new fE(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new fE(r,this,this._ref))},t)}on(e,t,r,i){let a;return t&&(a="function"==typeof t?u=>t(new fE(u,this,this._ref)):{next:t.next?u=>t.next(new fE(u,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,r||void 0,i||void 0)}}class ZO{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Vd(e,this._service))}get items(){return this._delegate.items.map(e=>new Vd(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Vd{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function CV(n,e){return VO(n,e)}(this._delegate,e);return new Vd(t,this.storage)}get root(){return new Vd(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Vd(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new qO(function gV(n,e,t){return function iV(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new RO(n,new Bc(e),t)}(n=(0,Tt.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=Ko.RAW,r){this._throwIfRoot("putString");const i=$I(t,e),a=Object.assign({},r);return null==a.contentType&&null!=i.contentType&&(a.contentType=i.contentType),new qO(new RO(this._delegate,new Bc(i.data,!0),a),this)}listAll(){return function vV(n){return function oV(n){const e={prefixes:[],items:[]};return FO(n,e).then(()=>e)}(n=(0,Tt.m9)(n))}(this._delegate).then(e=>new ZO(e,this.storage))}list(e){return function yV(n,e){return LO(n=(0,Tt.m9)(n),e)}(this._delegate,e||void 0).then(t=>new ZO(t,this.storage))}getMetadata(){return function mV(n){return function aV(n){n._throwIfRoot("getMetadata");const e=AO(n.storage,n._location,bw());return n.storage.makeRequestWithTokens(e,Ml)}(n=(0,Tt.m9)(n))}(this._delegate)}updateMetadata(e){return function _V(n,e){return function lV(n,e){n._throwIfRoot("updateMetadata");const t=function H2(n,e,t,r){const a=Ld(e.fullServerUrl(),n.host,n._protocol),f=qI(t,r),b=n.maxOperationRetryTime,T=new Uc(a,"PATCH",dE(n,r),b);return T.headers={"Content-Type":"application/json; charset=utf-8"},T.body=f,T.errorHandler=ww(e),T}(n.storage,n._location,e,bw());return n.storage.makeRequestWithTokens(t,Ml)}(n=(0,Tt.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function bV(n){return cV(n=(0,Tt.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function wV(n){return function uV(n){n._throwIfRoot("deleteObject");const e=function $2(n,e){const r=Ld(e.fullServerUrl(),n.host,n._protocol),f=new Uc(r,"DELETE",function u(_,b){},n.maxOperationRetryTime);return f.successCodes=[200,204],f.errorHandler=ww(e),f}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Ml)}(n=(0,Tt.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw yO(e)}}class zO{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(WO(e))throw Vy("ref() expected a child path but got a URL, use refFromURL instead.");return new Vd(GO(this._delegate,e),this)}refFromURL(e){if(!WO(e))throw Vy("refFromURL() expected a full URL but got a child path, use ref() instead.");try{hs.makeFromUrl(e,this._delegate.host)}catch(t){throw Vy("refFromUrl() expected a valid full URL but got an invalid one.")}return new Vd(GO(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function DV(n,e,t,r={}){!function pV(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,Tt.Sg)(i,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function WO(n){return/^[A-Za-z]+:\/\//.test(n)}function NV(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new zO(t,r)}function KO(n){const e=function OV(n){return new Gn.y(e=>{const t=u=>e.next(u);t(n.snapshot);const a=n.on("state_changed",t);return n.then(u=>{t(u),e.complete()},u=>{t(n.snapshot),(u=>{e.error(u)})(u)}),function(){a()}}).pipe(function WL(n,e=nl.z){return(0,mr.e)((t,r)=>{let i=null,a=null,u=null;const f=()=>{if(i){i.unsubscribe(),i=null;const b=a;a=null,r.next(b)}};function _(){const b=u+n,T=e.now();if(T<b)return i=this.schedule(void 0,b-T),void r.add(i);f()}t.subscribe((0,cn.x)(r,b=>{a=b,u=e.now(),i||(i=e.schedule(_,n),r.add(i))},()=>{f(),r.complete()},void 0,()=>{a=i=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,pt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function pE(n){return{getDownloadURL:()=>gt(void 0).pipe(Mn.fc,xn(()=>n.getDownloadURL()),Mn.iC),getMetadata:()=>gt(void 0).pipe(Mn.fc,xn(()=>n.getMetadata()),Mn.iC),delete:()=>(0,Xt.D)(n.delete()),child:e=>pE(n.child(e)),updateMetadata:e=>(0,Xt.D)(n.updateMetadata(e)),put:(e,t)=>KO(n.put(e,t)),putString:(e,t,r)=>KO(n.putString(e,t,r)),list:e=>(0,Xt.D)(n.list(e)),listAll:()=>(0,Xt.D)(n.listAll())}}!function MV(n){const e={TaskState:Ls,TaskEvent:W2,StringFormat:Ko,Storage:zO,Reference:Vd};n.INTERNAL.registerComponent(new Xa.wA("storage-compat",NV,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.13")}(op.Z);const xV=new c.OlP("angularfire2.storageBucket"),PV=new c.OlP("angularfire2.storage.maxUploadRetryTime"),RV=new c.OlP("angularfire2.storage.maxOperationRetryTime"),kV=new c.OlP("angularfire2.storage.use-emulator");let gE=(()=>{class n{constructor(t,r,i,a,u,f,_,b,T,I){const x=(0,fi.on)(t,u,r);this.storage=(0,fi.cc)(`${x.name}.storage.${i}`,"AngularFireStorage",x.name,()=>{const F=u.runOutsideAngular(()=>x.storage(i||void 0)),U=T;return U&&F.useEmulator(...U),_&&F.setMaxUploadRetryTime(_),b&&F.setMaxOperationRetryTime(b),F},[_,b])}ref(t){return pE(this.storage.ref(t))}refFromURL(t){return pE(this.storage.refFromURL(t))}upload(t,r,i){return pE(this.storage.ref(t)).put(r,i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(fi.Dh),c.LFG(fi.xv,8),c.LFG(xV,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Mn.HU),c.LFG(PV,8),c.LFG(RV,8),c.LFG(kV,8),c.LFG(rp,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),FV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),LV=(()=>{class n{constructor(){_h.Z.registerVersion("angularfire",Mn.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[gE],imports:[FV]}),n})(),VV=(()=>{class n{constructor(t,r){this.fireS=t,this.storage=r}getAllProducts(){return this.fireS.collection("product").snapshotChanges()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Al),c.LFG(gE))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),YO=(()=>{class n{constructor(t,r){this.authS=t,this.fireS=r}addToCart(t){return this.fireS.collection(`users/${this.authS.userId}/cart`).add(t)}getCart(){return this.fireS.collection(`users/${this.authS.userId}/cart`).snapshotChanges()}delete(t){return this.fireS.doc(`users/${this.authS.userId}/cart/${t}`).delete()}save(t,r){return this.fireS.doc(`users/${this.authS.userId}/cart/${t}`).update({quantity:r})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Nl),c.LFG(Al))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),QO=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),Fg=(()=>{class n extends QO{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const Pa=new c.OlP("NgValueAccessor"),jV={provide:Pa,useExisting:(0,c.Gpc)(()=>Lg),multi:!0},$V=new c.OlP("CompositionEventMode");let Lg=(()=>{class n extends QO{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function HV(){const n=k()?k().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36($V,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&c.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[c._Bn([jV]),c.qOj]}),n})();function Pf(n){return null==n||0===n.length}function XO(n){return null!=n&&"number"==typeof n.length}const fs=new c.OlP("NgValidators"),Rf=new c.OlP("NgAsyncValidators");function nx(n){return Pf(n.value)?{required:!0}:null}function mE(n){return null}function lx(n){return null!=n}function cx(n){const e=(0,c.QGY)(n)?(0,Xt.D)(n):n;return(0,c.CqO)(e),e}function ux(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function dx(n,e){return e.map(t=>t(n))}function hx(n){return n.map(e=>function qV(n){return!n.validate}(e)?e:t=>e.validate(t))}function YI(n){return null!=n?function fx(n){if(!n)return null;const e=n.filter(lx);return 0==e.length?null:function(t){return ux(dx(t,e))}}(hx(n)):null}function QI(n){return null!=n?function px(n){if(!n)return null;const e=n.filter(lx);return 0==e.length?null:function(t){return function BV(...n){const e=(0,rs.jO)(n),{args:t,keys:r}=oM(n),i=new Gn.y(a=>{const{length:u}=t;if(!u)return void a.complete();const f=new Array(u);let _=u,b=u;for(let T=0;T<u;T++){let I=!1;(0,Zt.Xf)(t[T]).subscribe((0,cn.x)(a,x=>{I||(I=!0,b--),f[T]=x},()=>_--,void 0,()=>{(!_||!I)&&(b||a.next(r?aM(r,f):f),a.complete())}))}});return e?i.pipe(mI(e)):i}(dx(t,e).map(cx)).pipe((0,pt.U)(ux))}}(hx(n)):null}function gx(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function JI(n){return n?Array.isArray(n)?n:[n]:[]}function _E(n,e){return Array.isArray(n)?n.includes(e):n===e}function yx(n,e){const t=JI(e);return JI(n).forEach(i=>{_E(t,i)||t.push(i)}),t}function vx(n,e){return JI(e).filter(t=>!_E(n,t))}class bx{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=YI(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=QI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class kf extends bx{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Vs extends bx{get formDirective(){return null}get path(){return null}}class wx{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let Cw=(()=>{class n extends wx{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(kf,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[c.qOj]}),n})(),Dw=(()=>{class n extends wx{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Vs,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[c.qOj]}),n})();function Ew(n,e){tA(n,e),e.valueAccessor.writeValue(n.value),function XV(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Dx(n,e)})}(n,e),function tB(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function eB(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Dx(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function JV(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function wE(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function tA(n,e){const t=function mx(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(gx(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function _x(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(gx(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();wE(e._rawValidators,i),wE(e._rawAsyncValidators,i)}function Dx(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function iA(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Tw="VALID",DE="INVALID",jy="PENDING",Sw="DISABLED";function oA(n){return(EE(n)?n.validators:n)||null}function Ix(n){return Array.isArray(n)?YI(n):n||null}function aA(n,e){return(EE(e)?e.asyncValidators:n)||null}function Ax(n){return Array.isArray(n)?QI(n):n||null}function EE(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const lA=n=>n instanceof uA;function Mx(n){return(n=>n instanceof Px)(n)?n.value:n.getRawValue()}function Ox(n,e){const t=lA(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new c.vHH(1e3,"");if(!r[e])throw new c.vHH(1001,"")}function xx(n,e){lA(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new c.vHH(1002,"")})}class cA{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Ix(this._rawValidators),this._composedAsyncValidatorFn=Ax(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Tw}get invalid(){return this.status===DE}get pending(){return this.status==jy}get disabled(){return this.status===Sw}get enabled(){return this.status!==Sw}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Ix(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Ax(e)}addValidators(e){this.setValidators(yx(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(yx(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(vx(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(vx(e,this._rawAsyncValidators))}hasValidator(e){return _E(this._rawValidators,e)}hasAsyncValidator(e){return _E(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=jy,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Sw,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Tw,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Tw||this.status===jy)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Sw:Tw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=jy,this._hasOwnPendingAsyncValidator=!0;const t=cx(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function sB(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=lA(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof aB)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?Sw:this.errors?DE:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(jy)?jy:this._anyControlsHaveStatus(DE)?DE:Tw}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){EE(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Px extends cA{constructor(e=null,t,r){super(oA(t),aA(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),EE(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){iA(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){iA(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class uA extends cA{constructor(e,t,r){super(oA(t),aA(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){xx(this,e),Object.keys(e).forEach(r=>{Ox(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=Mx(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class aB extends cA{constructor(e,t,r){super(oA(t),aA(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){xx(this,e),e.forEach((r,i)=>{Ox(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>Mx(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const lB={provide:Vs,useExisting:(0,c.Gpc)(()=>Vg)},Iw=(()=>Promise.resolve(null))();let Vg=(()=>{class n extends Vs{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new uA({},YI(t),QI(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Iw.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Ew(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Iw.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Iw.then(()=>{const r=this._findContainer(t.path),i=new uA({});(function Ex(n,e){tA(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Iw.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Iw.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function Sx(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(fs,10),c.Y36(Rf,10))},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&c.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([lB]),c.qOj]}),n})();const uB={provide:kf,useExisting:(0,c.Gpc)(()=>Hy)},Fx=(()=>Promise.resolve(null))();let Hy=(()=>{class n extends kf{constructor(t,r,i,a,u){super(),this._changeDetectorRef=u,this.control=new Px,this._registered=!1,this.update=new c.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function rA(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===Lg?t=a:function iB(n){return Object.getPrototypeOf(n.constructor)===Fg}(a)?r=a:i=a}),i||r||t||null}(0,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function nA(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ew(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Fx.then(()=>{var r;this.control.setValue(t,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=""===r||r&&"false"!==r;Fx.then(()=>{var a;i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),null===(a=this._changeDetectorRef)||void 0===a||a.markForCheck()})}_getPath(t){return this._parent?function vE(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Vs,9),c.Y36(fs,10),c.Y36(Rf,10),c.Y36(Pa,10),c.Y36(c.sBO,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([uB]),c.qOj,c.TTD]}),n})(),Aw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const dB={provide:Pa,useExisting:(0,c.Gpc)(()=>TE),multi:!0};let TE=(()=>{class n extends Fg{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&c.NdJ("input",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},features:[c._Bn([dB]),c.qOj]}),n})(),Lx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const dA=new c.OlP("NgModelWithFormControlWarning");function qx(n){return"number"==typeof n?n:parseInt(n,10)}let Bg=(()=>{class n{constructor(){this._validator=mE}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):mE,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,features:[c.TTD]}),n})();const NB={provide:fs,useExisting:(0,c.Gpc)(()=>$y),multi:!0};let $y=(()=>{class n extends Bg{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=t=>function SB(n){return null!=n&&!1!==n&&"false"!=`${n}`}(t),this.createValidator=t=>nx}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&c.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[c._Bn([NB]),c.qOj]}),n})();const xB={provide:fs,useExisting:(0,c.Gpc)(()=>_A),multi:!0};let _A=(()=>{class n extends Bg{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>qx(t),this.createValidator=t=>function sx(n){return e=>Pf(e.value)||!XO(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&c.uIk("minlength",r._enabled?r.minlength:null)},inputs:{minlength:"minlength"},features:[c._Bn([xB]),c.qOj]}),n})();const PB={provide:fs,useExisting:(0,c.Gpc)(()=>yA),multi:!0};let yA=(()=>{class n extends Bg{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>qx(t),this.createValidator=t=>function ox(n){return e=>XO(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&c.uIk("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[c._Bn([PB]),c.qOj]}),n})(),Jx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Lx]]}),n})(),Xx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Jx]}),n})(),kB=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:dA,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Jx]}),n})();function FB(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",29)(1,"div",30)(2,"a",31),c.NdJ("click",function(){const a=c.CHM(t).$implicit;return c.oxw().detail(a.id)}),c._UZ(3,"img",32),c.qZA()()()}if(2&n){const t=e.$implicit;c.xp6(3),c.Q6J("src",t.image,c.LSH)}}function LB(n,e){1&n&&(c.TgZ(0,"button",58),c._UZ(1,"i",59),c._uU(2," Add Product "),c.qZA())}function VB(n,e){if(1&n&&(c.TgZ(0,"span",60),c._uU(1),c.qZA()),2&n){const t=c.oxw(2);c.xp6(1),c.Oqu(t.succedMasseg)}}function BB(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",33),c.YNc(1,LB,3,0,"button",34),c.TgZ(2,"div",35)(3,"div",36)(4,"div",37)(5,"div",38)(6,"h5",39),c._uU(7,"New Product"),c.qZA(),c._UZ(8,"button",40),c.qZA(),c.TgZ(9,"div",41)(10,"form",42,43),c.NdJ("ngSubmit",function(){c.CHM(t);const i=c.MAs(11);return c.oxw().addProduct(i)}),c.TgZ(12,"div",44),c._UZ(13,"input",45,46),c.qZA(),c.TgZ(15,"div",44),c._UZ(16,"input",47,48),c.qZA(),c.TgZ(18,"div",44),c._UZ(19,"textarea",49,50),c.qZA(),c.TgZ(21,"div",44)(22,"input",51),c.NdJ("change",function(i){return c.CHM(t),c.oxw().uplaodImgProd(i)}),c.qZA(),c._UZ(23,"input",52,53),c.qZA(),c.TgZ(25,"div",54),c.YNc(26,VB,2,1,"span",55),c.TgZ(27,"button",56),c._uU(28,"add New Product"),c.qZA(),c.TgZ(29,"button",57),c._uU(30,"Close"),c.qZA()()()()()()()()}if(2&n){const t=c.MAs(11),r=c.MAs(24),i=c.oxw();c.xp6(1),c.Q6J("ngIf",i.isUser),c.xp6(22),c.Q6J("value",i.revImage),c.xp6(3),c.Q6J("ngIf",i.succedMasseg),c.xp6(1),c.Q6J("disabled",t.invalid&&0===r.value)}}function UB(n,e){1&n&&(c.TgZ(0,"a",75),c._UZ(1,"i",76),c._uU(2,"Delete"),c.qZA())}function jB(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",72)(1,"a",73),c.NdJ("click",function(){c.CHM(t);const i=c.oxw().index;return c.oxw().addToCart(i)}),c._UZ(2,"i",59),c._uU(3,"Add to cart"),c.qZA(),c.YNc(4,UB,3,0,"a",74),c.qZA()}if(2&n){const t=c.oxw(2);c.xp6(4),c.Q6J("ngIf",t.isUser&&t.isAdmin)}}function HB(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",77),c._UZ(1,"input",78,79),c.TgZ(3,"button",80),c.NdJ("click",function(){c.CHM(t);const i=c.MAs(2);return c.oxw(2).buy(i.value)}),c._uU(4,"Add"),c.qZA()()}}function $B(n,e){1&n&&(c.TgZ(0,"h5",81),c._uU(1,"Delete Product"),c.qZA())}function GB(n,e){if(1&n&&(c.TgZ(0,"span",60),c._uU(1),c.qZA()),2&n){const t=c.oxw(2);c.xp6(1),c.Oqu(t.deleteProduct)}}function qB(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",61)(1,"div",30)(2,"a",31),c.NdJ("click",function(){const a=c.CHM(t).$implicit;return c.oxw().detail(a.id)}),c._UZ(3,"img",32),c.TgZ(4,"h5",62),c._uU(5),c.qZA(),c.TgZ(6,"p",63),c._uU(7),c.ALo(8,"currency"),c.qZA()(),c.TgZ(9,"div",64),c.YNc(10,jB,5,1,"div",65),c.YNc(11,HB,5,0,"div",66),c.qZA()(),c.TgZ(12,"div",67)(13,"div",36)(14,"div",37)(15,"div",38),c.YNc(16,$B,2,0,"h5",68),c._UZ(17,"button",40),c.qZA(),c.TgZ(18,"div",41)(19,"p",69),c._uU(20,"Do you really want to delete the product"),c.qZA()(),c.TgZ(21,"div",54)(22,"button",70),c._uU(23,"Close"),c.qZA(),c.TgZ(24,"button",71),c.NdJ("click",function(){const a=c.CHM(t).$implicit;return c.oxw().deletProduct(a.id)}),c._uU(25,"Delete"),c.qZA()(),c.YNc(26,GB,2,1,"span",55),c.qZA()()()()}if(2&n){const t=e.$implicit,r=e.index,i=c.oxw();c.xp6(3),c.Q6J("src",t.image,c.LSH),c.xp6(2),c.Oqu(t.name),c.xp6(2),c.Oqu(c.lcZ(8,7,t.price)),c.xp6(3),c.Q6J("ngIf",i.add!==r),c.xp6(1),c.Q6J("ngIf",i.add===r),c.xp6(5),c.Q6J("ngIf",i.isUser),c.xp6(10),c.Q6J("ngIf",i.deleteProduct)}}let ZB=(()=>{class n{constructor(t,r,i,a,u,f,_){var b;this.authS=t,this.userS=r,this.fireS=i,this.productS=a,this.fireStorage=u,this.router=f,this.cartS=_,this.dataProduct=[],this.succedMasseg="",this.isUser=!1,this.isAdmin=!1,this.deleteProduct="",this.add=-1,this.userSubscrib=null===(b=this.authS.user)||void 0===b?void 0:b.subscribe(T=>{this.Uid=null==T?void 0:T.uid,T?(this.isUser=!0,this.authS.userId=T.uid,this.userS.getDataProfile().then(I=>{I.data().admin&&(this.isAdmin=!0)})):(this.isUser=!1,this.authS.userId="")})}ngOnInit(){this.productSub=this.productS.getAllProducts().subscribe(t=>{this.dataProduct=t.map(r=>Object.assign({id:r.payload.doc.id},r.payload.doc.data()))})}uplaodImgProd(t){const r=Math.random().toString(36).substring(2);this.ref=this.fireStorage.ref("products/"+this.Uid+r),this.tasks=this.ref.put(t.target.files[0]),this.persentages=this.tasks.percentageChanges(),this.tasks.then(i=>{i.ref.getDownloadURL().then(a=>{this.revImage=a})})}addProduct(t){let r=t.value;this.fireS.collection("product").add({name:r.prodName,price:r.prodPrice,description:r.prodDesc,image:r.prodImg=this.revImage}).then(()=>{this.succedMasseg="Congratulations, Product Add",window.location.reload()})}addToCart(t){this.authS.userId?this.add=+t:this.router.navigate(["/login"])}buy(t){let r=this.dataProduct[this.add];this.cartS.addToCart({name:r.name,quantity:+t,price:r.price,description:r.description,image:r.image}).then(()=>this.add=-1)}deletProduct(t){this.fireS.collection("product").doc(t).delete().then(()=>{this.deleteProduct="The product has been deleted",window.location.reload()})}detail(t){this.router.navigate(["/product/"+t])}ngOnDestroy(){var t,r;null===(t=this.productSub)||void 0===t||t.unsubscribe(),null===(r=this.userSubscrib)||void 0===r||r.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Nl),c.Y36(_w),c.Y36(Al),c.Y36(VV),c.Y36(gE),c.Y36(Vr),c.Y36(YO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-home"]],decls:38,vars:3,consts:[[1,"home-page",2,"position","relative"],[1,"container"],[1,"row",2,"padding","0 0 15px 0"],[1,"col-lg-9"],[1,"left-bannar"],[1,"box-banner"],[1,"carasoul-best"],["id","left-banner","data-bs-ride","carousel",1,"carousel","slide"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","https://wallpaperaccess.com/full/2029165.jpg","alt","..."],["data-bs-interval","2000",1,"carousel-item"],["src","https://wallpapercave.com/wp/wp2675445.jpg","alt","...",1,"d-block","w-100"],[1,"carousel-item"],["src","https://swall.teahub.io/photos/small/165-1650027_mountain-backgrounds-download-desktop-desktop-wallpapers-mountain-wallpaper.jpg","alt","...",1,"d-block","w-100"],["type","button","data-bs-target","#left-banner","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#left-banner","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"col-lg-3"],[1,"right-bannar"],["id","banner-right","data-bs-ride","carousel",1,"carousel","slide"],["src","https://img.freepik.com/free-vector/colorful-hand-drawn-welcome-landing-page_23-2148274061.jpg?w=2000","alt","Welcome"],["class","carousel-item","data-bs-interval","10000",4,"ngFor","ngForOf"],["class","add-prod-btn",4,"ngIf"],[1,"product-card"],[1,"row"],["class","col-lg-4 col-sm-6",4,"ngFor","ngForOf"],["data-bs-interval","10000",1,"carousel-item"],[1,"card",2,"width","18rem"],[2,"cursor","pointer",3,"click"],["alt","...",1,"card-img-top",3,"src"],[1,"add-prod-btn"],["type","button","class","btn btn-success","data-bs-toggle","modal","data-bs-target","#add-product-btn",4,"ngIf"],["id","add-product-btn","tabindex","-1","aria-labelledby","newProd","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","newProd",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"ngSubmit"],["addProd","ngForm"],[1,"form-field"],["type","text","name","prodName","ngModel","","placeholder","Product Name","required",""],["prodName","ngModel"],["type","number","name","prodPrice","ngModel","","placeholder","Product Salary","required",""],["prodPrice","ngModel"],["name","prodDesc","ngModel","","id","prodDesc","cols","45","rows","10","placeholder","Product Description","required",""],["prodDesc","ngModel"],["type","file","placeholder","image Url","accept","*.png,.jpg,.jpeg",3,"change"],["type","text","name","prodImg","ngModel","","disabled","",3,"value"],["prodImg","ngModel"],[1,"modal-footer"],["class","alert alert-success",4,"ngIf"],["type","submit",1,"btn","btn-success",3,"disabled"],["type","button","data-bs-dismiss","modal",1,"btn"],["type","button","data-bs-toggle","modal","data-bs-target","#add-product-btn",1,"btn","btn-success"],[1,"fas","fa-plus"],[1,"alert","alert-success"],[1,"col-lg-4","col-sm-6"],[1,"card-title"],[1,"card-text"],[1,"card-body"],["class","product-action",4,"ngIf"],["class","product-buy",4,"ngIf"],["id","DeleteProduct","tabindex","-1","aria-labelledby","DeleteProductLabel","aria-hidden","true",1,"modal","fade"],["class","modal-title","id","DeleteProductLabel",4,"ngIf"],[1,"alert","alert-danger"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-danger",3,"click"],[1,"product-action"],[1,"btn","btn-secondary",3,"click"],["href","#","class","btn btn-danger","data-bs-toggle","modal","data-bs-target","#DeleteProduct",4,"ngIf"],["href","#","data-bs-toggle","modal","data-bs-target","#DeleteProduct",1,"btn","btn-danger"],[1,"fas","fa-trash"],[1,"product-buy"],["type","number","placeholder","Quantity","required","",1,"form-control"],["quantity",""],[1,"btn","btn-primary",3,"click"],["id","DeleteProductLabel",1,"modal-title"]],template:function(t,r){1&t&&(c.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9),c._UZ(10,"img",10),c.qZA(),c.TgZ(11,"div",11),c._UZ(12,"img",12),c.qZA(),c.TgZ(13,"div",13),c._UZ(14,"img",14),c.qZA()(),c.TgZ(15,"button",15),c._UZ(16,"span",16),c.TgZ(17,"span",17),c._uU(18,"Previous"),c.qZA()(),c.TgZ(19,"button",18),c._UZ(20,"span",19),c.TgZ(21,"span",17),c._uU(22,"Next"),c.qZA()()()()()()(),c.TgZ(23,"div",20)(24,"div",21)(25,"div",5)(26,"header"),c._uU(27,"Best Saller"),c.qZA(),c.TgZ(28,"div",6)(29,"div",22)(30,"div",8)(31,"div",9),c._UZ(32,"img",23),c.qZA(),c.YNc(33,FB,4,1,"div",24),c.qZA()()()()()()(),c.YNc(34,BB,31,4,"div",25),c.TgZ(35,"div",26)(36,"div",27),c.YNc(37,qB,27,9,"div",28),c.qZA()()()()),2&t&&(c.xp6(33),c.Q6J("ngForOf",r.dataProduct),c.xp6(1),c.Q6J("ngIf",r.isUser&&r.isAdmin),c.xp6(3),c.Q6J("ngForOf",r.dataProduct))},directives:[On,Hn,Aw,Dw,Vg,Lg,Cw,Hy,$y,TE],pipes:[Ys],styles:['.home-page[_ngcontent-%COMP%]{padding:10px 0}.left-bannar[_ngcontent-%COMP%]{display:flex;align-items:center;height:400px;padding:10px 0}.left-bannar[_ngcontent-%COMP%]   .box-banner[_ngcontent-%COMP%]{background-color:#ddd;width:100%;height:100%;border:1px solid #cccccc}.left-bannar[_ngcontent-%COMP%]   .box-banner[_ngcontent-%COMP%]   .carasoul-best[_ngcontent-%COMP%]{width:100%}.left-bannar[_ngcontent-%COMP%]   .box-banner[_ngcontent-%COMP%]   .carousel-item[_ngcontent-%COMP%]{height:400px}.left-bannar[_ngcontent-%COMP%]   .box-banner[_ngcontent-%COMP%]   .carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%}.right-bannar[_ngcontent-%COMP%]{display:flex;align-items:center;height:400px;padding:10px 0}.right-bannar[_ngcontent-%COMP%]   .box-banner[_ngcontent-%COMP%]{background-color:#ddd;width:90%;height:100%;border:1px solid #cccccc}.right-bannar[_ngcontent-%COMP%]   .box-banner[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{padding:10px 0;background-color:var(--mainColor);color:#fff;text-align:center}.right-bannar[_ngcontent-%COMP%]   .box-banner[_ngcontent-%COMP%]   .carasoul-best[_ngcontent-%COMP%]{width:100%}.right-bannar[_ngcontent-%COMP%]   .box-banner[_ngcontent-%COMP%]   .carousel-item[_ngcontent-%COMP%]{height:250px}.right-bannar[_ngcontent-%COMP%]   .box-banner[_ngcontent-%COMP%]   .carousel-item[_ngcontent-%COMP%]{height:400px}.right-bannar[_ngcontent-%COMP%]   .box-banner[_ngcontent-%COMP%]   .carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%}.right-bannar[_ngcontent-%COMP%]   .box-banner[_ngcontent-%COMP%]   .carousel-item[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:relative}.home-page[_ngcontent-%COMP%]   .add-prod-btn[_ngcontent-%COMP%]{position:relative;margin:10px 0}.home-page[_ngcontent-%COMP%]   .add-prod-btn[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{margin:10px 0}.home-page[_ngcontent-%COMP%]   .add-prod-btn[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;outline:none;background-color:#ddd;padding:10px;border-radius:4px}.home-page[_ngcontent-%COMP%]   .add-prod-btn[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{overflow-y:scroll}.home-page[_ngcontent-%COMP%]   .add-prod-btn[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   input.imgProd[_ngcontent-%COMP%]{width:128px;display:inline-block;color:#fff;background-color:#0d6efd;border-color:#0d6efd;text-align:center;padding:10px}input.imgProd[_ngcontent-%COMP%]:before{content:"Upload Image"}.product-card[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{max-width:311px!important;max-height:400px!important;padding:20px;margin:20px 10px;overflow:hidden}.product-card[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px}.product-card[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:16px}.product-card[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .product-action[_ngcontent-%COMP%]{display:flex}.product-card[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .product-action[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:0 4px}@media (max-width: 992px){.right-bannar[_ngcontent-%COMP%]{display:none}}']}),n})(),zB=(()=>{class n{constructor(t,r,i,a){this.fireS=t,this.params=r,this.router=i,this.authS=a,this.dataProduct=[],this.add=-1,this.dataProducts={name:"",descreption:"",image:"",price:"",idProduct:""},this.paramunSub=this.params.params.subscribe(u=>this.idParams=u.id)}ngOnInit(){this.fireS.collection("product").ref.doc(this.idParams).get().then(t=>{this.dataProducts.name=t.data().name,this.dataProducts.descreption=t.data().description,this.dataProducts.price=t.data().price,this.dataProducts.image=t.data().image,this.dataProducts.idProduct=this.idParams})}pluseOption(t){}addToCart(t){this.get=this.fireS.collection(`users/${this.authS.userId}/cart`).add({name:this.dataProducts.name,price:this.dataProducts.price,image:this.dataProducts.image,quantity:+t}).then(()=>alert("Done"))}buy(t){this.get=this.fireS.collection(`users/${this.authS.userId}/cart`).add({name:this.dataProducts.name,price:this.dataProducts.price,image:this.dataProducts.image,quantity:+t}).then(()=>this.router.navigate(["/myCart"]))}ngOnDestroy(){var t;null===(t=this.paramunSub)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Al),c.Y36(Og),c.Y36(Vr),c.Y36(Nl))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-products-details"]],decls:33,vars:4,consts:[[1,"product-detail"],[1,"container"],[1,"row"],[1,"col-md-6","col-sm-12","col-xs-12"],[1,"imageProd-Area"],["alt","",3,"src"],[1,"product-detail-area"],[1,"product-price"],[1,"quantity-option"],["id","minus",1,"option","minus-option"],[1,"fa-solid","fa-minus"],[1,"num-prod"],["type","text","value","1","id","numText"],["quantity",""],["id","plus",1,"option","plus-option"],[1,"fa-solid","fa-plus"],[1,"buy-option"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-buy",3,"click"],[1,"desc-prod"],[1,"text-Descreption"],[1,"fram"]],template:function(t,r){if(1&t){const i=c.EpF();c.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),c._UZ(5,"img",5),c.qZA()(),c.TgZ(6,"div",3)(7,"div",6)(8,"header"),c._uU(9),c.qZA(),c.TgZ(10,"div",7)(11,"span"),c._uU(12),c.qZA()(),c.TgZ(13,"div",8)(14,"div",9),c._UZ(15,"i",10),c.qZA(),c.TgZ(16,"div",11),c._UZ(17,"input",12,13),c.qZA(),c.TgZ(19,"div",14),c._UZ(20,"i",15),c.qZA()(),c.TgZ(21,"div",16)(22,"button",17),c.NdJ("click",function(){c.CHM(i);const u=c.MAs(18);return r.addToCart(u.value)}),c._uU(23,"Add To Cart"),c.qZA(),c.TgZ(24,"button",18),c.NdJ("click",function(){c.CHM(i);const u=c.MAs(18);return r.buy(u.value)}),c._uU(25,"Buy Now"),c.qZA()()()()(),c.TgZ(26,"div",19)(27,"header"),c._uU(28,"Descreption"),c.qZA(),c.TgZ(29,"div",20)(30,"p"),c._uU(31),c.qZA()(),c._UZ(32,"div",21),c.qZA()()()}2&t&&(c.xp6(5),c.Q6J("src",r.dataProducts.image,c.LSH),c.xp6(4),c.Oqu(r.dataProducts.name),c.xp6(3),c.hij("",r.dataProducts.price," LE"),c.xp6(19),c.Oqu(r.dataProducts.descreption))},styles:[".product-detail[_ngcontent-%COMP%]   .imageProd-Area[_ngcontent-%COMP%]{display:block;overflow:hidden;position:relative;border:1px solid #f7f7f7;padding:0;border-radius:6px}.product-detail[_ngcontent-%COMP%]   .imageProd-Area[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;vertical-align:middle;border:0}.product-detail[_ngcontent-%COMP%]   .product-detail-area[_ngcontent-%COMP%]{padding:20px}.product-detail[_ngcontent-%COMP%]   .product-detail-area[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{font-size:24px;font-weight:400;color:#080808;padding:10px 0}.product-detail[_ngcontent-%COMP%]   .product-detail-area[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%]{padding:15px 0}.product-detail[_ngcontent-%COMP%]   .product-detail-area[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:30px;font-weight:700;color:#3e3e3e}.product-detail[_ngcontent-%COMP%]   .product-detail-area[_ngcontent-%COMP%]   .quantity-option[_ngcontent-%COMP%]{display:flex;position:relative;width:106px;border:1px solid #d6d6d6;margin:0 6px}.product-detail[_ngcontent-%COMP%]   .product-detail-area[_ngcontent-%COMP%]   .quantity-option[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]{width:33px;height:32px;background-color:#f9f9f9;display:flex;justify-content:center;align-items:center;border:none;cursor:pointer;transition:.5s}.product-detail[_ngcontent-%COMP%]   .product-detail-area[_ngcontent-%COMP%]   .quantity-option[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]:hover{background-color:#ccc}.product-detail[_ngcontent-%COMP%]   .product-detail-area[_ngcontent-%COMP%]   .quantity-option[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#999}.product-detail[_ngcontent-%COMP%]   .product-detail-area[_ngcontent-%COMP%]   .quantity-option[_ngcontent-%COMP%]   .num-prod[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:40px;height:32px;line-height:32px;outline:none;padding:0;text-align:center;background:#fff;border-right:1px solid #d6d6d6;border-left:1px solid #d6d6d6;border-top:none;border-bottom:none}.product-detail[_ngcontent-%COMP%]   .product-detail-area[_ngcontent-%COMP%]   .buy-option[_ngcontent-%COMP%]{margin:25px 0}.product-detail[_ngcontent-%COMP%]   .product-detail-area[_ngcontent-%COMP%]   .buy-option[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 6px}.product-detail[_ngcontent-%COMP%]   .product-detail-area[_ngcontent-%COMP%]   .buy-option[_ngcontent-%COMP%]   .btn-buy[_ngcontent-%COMP%]{background-color:var(--mainColor);color:#fff;box-shadow:var(--mainColor);text-shadow:var(--mainColor)}.product-detail[_ngcontent-%COMP%]   .desc-prod[_ngcontent-%COMP%]{margin:30px 0;overflow:hidden}.product-detail[_ngcontent-%COMP%]   .desc-prod[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{text-align:center;font-size:24px;font-weight:700;padding:35px;color:#3e3e3e}.product-detail[_ngcontent-%COMP%]   .text-Descreption[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{word-wrap:break-word;font-size:18px}"]}),n})(),WB=(()=>{class n{constructor(t,r){this.authS=t,this.router=r,this.errMessage=""}ngOnInit(){}login(t){let r=t.value;this.authS.login(r.email,r.password).then(i=>{var a;this.router.navigate(["/"]),localStorage.setItem("userConnect",null===(a=i.user)||void 0===a?void 0:a.uid)}).catch(()=>{alert("Incorrect email and/or password")})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Nl),c.Y36(Vr))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-login"]],decls:29,vars:0,consts:[[1,"login-page"],[1,"container"],[1,"row"],[1,"col-12","col-lg-8","col-md-8","col-sm-12"],[1,"login"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"form-field"],["type","email","name","email","ngModel","","placeholder","Email Address","required",""],["email","ngModel"],["type","password","name","password","ngModel","","placeholder","Password","required",""],["password","ngModel"],["type","submit"],["href","#"],[1,"col-12","col-lg-4","col-md-4","col-sm-12"],[1,"register"],["routerLink","/register"]],template:function(t,r){if(1&t){const i=c.EpF();c.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"form",5,6),c.NdJ("ngSubmit",function(){c.CHM(i);const u=c.MAs(6);return r.login(u)}),c.TgZ(7,"header")(8,"h3"),c._uU(9,"Login"),c.qZA()(),c._UZ(10,"hr"),c.TgZ(11,"div",7),c._UZ(12,"input",8,9),c.qZA(),c.TgZ(14,"div",7),c._UZ(15,"input",10,11),c.qZA(),c.TgZ(17,"div",7)(18,"button",12),c._uU(19,"Login"),c.qZA()(),c.TgZ(20,"div",7)(21,"a",13),c._uU(22,"Forgot Your Password?"),c.qZA()()()()(),c.TgZ(23,"div",14)(24,"div",15)(25,"h1"),c._uU(26,"If you haven't An Account, Please Click Here"),c.qZA(),c.TgZ(27,"button",16),c._uU(28,"Register"),c.qZA()()()()()()}},directives:[Aw,Dw,Vg,Lg,Cw,Hy,$y,Pg],styles:["section.login-page[_ngcontent-%COMP%]{padding:60px 0;margin:20px 0;height:800px}section.login-page[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:70%;height:445px;background-color:#fff;border-radius:6px;border:none;box-shadow:#00000038 0 19px 38px,#00000038 0 15px 12px;box-sizing:border-box;text-align:center}section.login-page[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{padding:15px 0 3px}section.login-page[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#343a40}section.login-page[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{position:relative;width:100%;padding:8px 0}section.login-page[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:95%;padding:10px;background:#ddd;border:none;outline:none}section.login-page[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:200px;text-align:center;padding:10px 14px;border:none;color:#fff;background-color:#343a40;border-radius:4px;font-weight:700}section.login-page[_ngcontent-%COMP%]   .register[_ngcontent-%COMP%]{margin:28px 0;padding:12px;text-align:center}section.login-page[_ngcontent-%COMP%]   .register[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:28px}section.login-page[_ngcontent-%COMP%]   .register[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:200px;text-align:center;padding:10px 14px;border:none;color:#fff;background-color:#282a39;border-radius:4px;font-weight:700}@media (max-width : 767px){section.login-page[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}}"]}),n})();function KB(n,e){1&n&&(c.TgZ(0,"span"),c._uU(1,"Address is required"),c.qZA())}function YB(n,e){1&n&&(c.TgZ(0,"span"),c._uU(1,"Phone Number must be 11 number"),c.qZA())}function QB(n,e){1&n&&(c.TgZ(0,"span"),c._uU(1,"E-Mail Address does not appear to be valid!"),c.qZA())}function JB(n,e){1&n&&(c.TgZ(0,"span"),c._uU(1,"Password Must be 8 characters or numbers"),c.qZA())}function XB(n,e){1&n&&(c.TgZ(0,"span"),c._uU(1,"Password confirmation does not match password! "),c.qZA())}function eU(n,e){if(1&n&&(c.TgZ(0,"span",36),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Oqu(t.errorMessage)}}let tU=(()=>{class n{constructor(t,r,i,a){this.authS=t,this.fireS=r,this.router=i,this.auth=a,this.errorMessage=""}ngOnInit(){}signUp(t){let r=t.value;this.authS.register(r.email,r.password).then(i=>{var a,u;this.fireS.collection("users").doc(null===(a=i.user)||void 0===a?void 0:a.uid).set({FristName:r.fName,LastName:r.lName,Address:r.address,PhoneNumber:r.phoneNum,Email:r.email,Password:r.password,Id:null===(u=i.user)||void 0===u?void 0:u.uid,imageProfile:"https://firebasestorage.googleapis.com/v0/b/myss-cc99c.appspot.com/o/user%2Fdefault%20image.png?alt=media&token=c07c5278-1321-46fa-80d6-20980c991e87"})}).then(()=>this.auth.signOut()).then(()=>this.router.navigate(["/login"])).catch(i=>{alert("SomeThing Wronge"),this.errorMessage=i})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Nl),c.Y36(Al),c.Y36(Vr),c.Y36(Eu))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-register"]],decls:62,vars:7,consts:[[1,"register-page"],[1,"container"],[3,"ngSubmit"],["regForm","ngForm"],[1,"form-fields","user-inf"],["type","text","name","fName","ngModel","","placeholder","Frist name","required",""],["fName","ngModel"],["type","text","name","lName","ngModel","","placeholder","Last name","required",""],["lName","ngModel"],[1,"form-fields"],["type","text","name","address","ngModel","","placeholder","Address Location","required",""],["address","ngModel"],[4,"ngIf"],["type","tel","name","phoneNum","ngModel","","placeholder","Phone Number","minlength","11","maxlength","11","required",""],["phoneNum","ngModel"],["type","email","name","email","ngModel","","placeholder","Email Address","required",""],["email","ngModel"],["type","password","name","password","minlength","8","minlength","8","ngModel","","placeholder","Password","required",""],["password","ngModel"],["type","password","name","passconf","ngModel","","placeholder","Confirm Password","required",""],["passconf","ngModel"],[1,"form-fields","privacy"],["type","checkbox","name","true","value","false","required",""],["for","true"],["href","#","data-bs-toggle","modal","data-bs-target","#privacy"],["type","submit",3,"disabled"],["class","alert alert-danger",4,"ngIf"],["id","privacy","tabindex","-1","aria-labelledby","privacyLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","privacyLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"alert","alert-danger"]],template:function(t,r){if(1&t){const i=c.EpF();c.TgZ(0,"Section",0)(1,"div",1)(2,"header")(3,"h1"),c._uU(4,"Create New Account"),c.qZA()(),c.TgZ(5,"form",2,3),c.NdJ("ngSubmit",function(){c.CHM(i);const u=c.MAs(6);return r.signUp(u)}),c.TgZ(7,"span")(8,"h5"),c._uU(9,"Personality Information"),c.qZA(),c._UZ(10,"hr"),c.qZA(),c.TgZ(11,"div",4),c._UZ(12,"input",5,6)(14,"input",7,8),c.qZA(),c.TgZ(16,"div",9),c._UZ(17,"input",10,11),c.YNc(19,KB,2,0,"span",12),c.qZA(),c.TgZ(20,"div",9),c._UZ(21,"input",13,14),c.YNc(23,YB,2,0,"span",12),c.qZA(),c.TgZ(24,"span")(25,"h5"),c._uU(26,"Contact Information"),c.qZA(),c._UZ(27,"hr"),c.qZA(),c.TgZ(28,"div",9),c._UZ(29,"input",15,16),c.YNc(31,QB,2,0,"span",12),c.qZA(),c.TgZ(32,"div",9),c._UZ(33,"input",17,18),c.YNc(35,JB,2,0,"span",12),c.qZA(),c.TgZ(36,"div",9),c._UZ(37,"input",19,20),c.YNc(39,XB,2,0,"span",12),c.qZA(),c.TgZ(40,"div",21),c._UZ(41,"input",22),c.TgZ(42,"label",23),c._uU(43," I agree to the Terms of Use and I have read the "),c.TgZ(44,"a",24),c._uU(45,"Privacy Policy"),c.qZA()()(),c.TgZ(46,"div",9)(47,"button",25),c._uU(48,"Register"),c.qZA()(),c.YNc(49,eU,2,1,"span",26),c.qZA()(),c.TgZ(50,"div",27)(51,"div",28)(52,"div",29)(53,"div",30)(54,"h5",31),c._uU(55,"Privacy Policy"),c.qZA(),c._UZ(56,"button",32),c.qZA(),c.TgZ(57,"div",33),c._uU(58," ... "),c.qZA(),c.TgZ(59,"div",34)(60,"button",35),c._uU(61,"Close"),c.qZA()()()()()()}if(2&t){const i=c.MAs(6),a=c.MAs(18),u=c.MAs(22),f=c.MAs(30),_=c.MAs(34),b=c.MAs(38);c.xp6(19),c.Q6J("ngIf",a.touched&&a.invalid),c.xp6(4),c.Q6J("ngIf",u.touched&&u.invalid),c.xp6(8),c.Q6J("ngIf",f.touched&&f.invalid),c.xp6(4),c.Q6J("ngIf",_.touched&&_.invalid),c.xp6(4),c.Q6J("ngIf",_.value!==b.value&&b.touched),c.xp6(8),c.Q6J("disabled",i.invalid),c.xp6(2),c.Q6J("ngIf",r.errorMessage)}},directives:[Aw,Dw,Vg,Lg,Cw,Hy,$y,Hn,_A,yA],styles:[".register-page[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{padding:12px}.register-page[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:700;color:#282a39}.register-page[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{padding:15px 25px;border-radius:6px}.register-page[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-fields[_ngcontent-%COMP%]{position:relative;padding:8px 0}.register-page[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-fields[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;margin:8px 10px;padding:10px 14px;border:none;outline:none;border-radius:4px;background-color:#eee}.register-page[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-fields[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:12px;color:red}.register-page[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-fields.user-inf[_ngcontent-%COMP%], .register-page[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-fields.privacy[_ngcontent-%COMP%]{display:flex}.register-page[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-fields.privacy[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{cursor:pointer;width:20px;margin:4px 4px 8px 8px}.register-page[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-fields.profileImage[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;cursor:no-drop;background-color:#d3d3a8}.register-page[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-fields[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 18px;color:#fff;border:none;outline:none;border-radius:4px;background-color:#282a39}"]}),n})(),nU=(()=>{class n{constructor(t){this.fireS=t}getAdmin(){return this.fireS.collection("orders").snapshotChanges()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Al))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function rU(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",4)(1,"div",5)(2,"div",6)(3,"span"),c._uU(4,"#"),c.qZA(),c._uU(5),c.qZA(),c.TgZ(6,"div",7)(7,"span"),c._uU(8,"Order id: "),c.qZA(),c._uU(9),c.qZA(),c.TgZ(10,"div",8)(11,"a",9),c._UZ(12,"i",10),c._uU(13,"Delete"),c.qZA()()(),c.TgZ(14,"div",11)(15,"div",12)(16,"div",13)(17,"div",14)(18,"h5",15),c._uU(19,"Delete Order"),c.qZA(),c._UZ(20,"button",16),c.qZA(),c.TgZ(21,"div",17)(22,"p",18),c._uU(23,"Do you really want to delete the oreder"),c.qZA()(),c.TgZ(24,"div",19)(25,"button",20),c._uU(26,"Close"),c.qZA(),c.TgZ(27,"button",21),c.NdJ("click",function(){const a=c.CHM(t).$implicit;return c.oxw().deleteOrder(a.idOrder)}),c._uU(28,"Delete"),c.qZA()()()()(),c.TgZ(29,"div",22)(30,"table")(31,"tr")(32,"td"),c._uU(33,"Frist Name :"),c.qZA(),c.TgZ(34,"td"),c._uU(35),c.qZA()(),c.TgZ(36,"tr")(37,"td"),c._uU(38,"Last Name :"),c.qZA(),c.TgZ(39,"td"),c._uU(40),c.qZA()(),c.TgZ(41,"tr")(42,"td"),c._uU(43,"Address :"),c.qZA(),c.TgZ(44,"td"),c._uU(45),c.qZA()(),c.TgZ(46,"tr")(47,"td"),c._uU(48,"Phone Number :"),c.qZA(),c.TgZ(49,"td"),c._uU(50),c.qZA()()()(),c._UZ(51,"hr"),c.TgZ(52,"div",23)(53,"table",24)(54,"thead")(55,"tr")(56,"th",25),c._uU(57,"Image"),c.qZA(),c.TgZ(58,"th",25),c._uU(59,"Name"),c.qZA(),c.TgZ(60,"th",25),c._uU(61,"Quantity"),c.qZA(),c.TgZ(62,"th",25),c._uU(63,"Price"),c.qZA()()(),c.TgZ(64,"tbody")(65,"tr")(66,"td",26)(67,"div",27),c._UZ(68,"img",28),c.qZA()(),c.TgZ(69,"td"),c._uU(70),c.qZA(),c.TgZ(71,"td"),c._uU(72),c.qZA(),c.TgZ(73,"td"),c._uU(74),c.qZA()()()()()()}if(2&n){const t=e.$implicit,r=e.index;c.xp6(5),c.Oqu(r),c.xp6(4),c.Oqu(t.idOrder),c.xp6(26),c.Oqu(t.fnamePersone),c.xp6(5),c.Oqu(t.lnamePersone),c.xp6(5),c.Oqu(t.address),c.xp6(5),c.Oqu(t.phone),c.xp6(18),c.Q6J("src",t.image,c.LSH),c.xp6(2),c.Oqu(t.name),c.xp6(2),c.Oqu(t.quantity),c.xp6(2),c.Oqu(t.price)}}let iU=(()=>{class n{constructor(t,r){this.orders=t,this.fireS=r,this.dataOrders=[]}ngOnInit(){this.orderSub=this.orders.getAdmin().subscribe(t=>{this.dataOrders=t.map(r=>Object.assign({idOrder:r.payload.doc.id},r.payload.doc.data()))})}deleteOrder(t){this.fireS.collection("orders").doc(t).delete().then(()=>{location.reload()})}ngOnDestroy(){var t;null===(t=this.orderSub)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(nU),c.Y36(Al))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-orders"]],decls:8,vars:1,consts:[[1,"order-page"],[1,"container"],[1,"orders-body"],["class","order-box",4,"ngFor","ngForOf"],[1,"order-box"],[1,"header"],[1,"oreder-num"],[1,"oreder-id"],[1,"oreder-delete"],["href","#","data-bs-toggle","modal","data-bs-target","#deleteOrder",1,"btn","btn-danger"],[1,"fas","fa-trash"],["id","deleteOrder","tabindex","-1","aria-labelledby","deleteOrderLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","deleteOrderLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"alert","alert-danger"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-danger",3,"click"],[1,"person-inf"],[1,"order-info"],[1,"table"],["scope","col"],[1,"image-prod"],[1,"image-box"],["alt","",3,"src"]],template:function(t,r){1&t&&(c.TgZ(0,"section",0)(1,"div",1)(2,"header")(3,"h1"),c._uU(4,"Orders"),c.qZA()(),c.TgZ(5,"div",2),c.YNc(6,rU,75,10,"div",3),c._UZ(7,"hr"),c.qZA()()()),2&t&&(c.xp6(6),c.Q6J("ngForOf",r.dataOrders))},directives:[On],styles:[".order-page[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{padding:10px 0}.order-page[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;font-size:36px;font-weight:700;letter-spacing:15px;text-transform:uppercase;color:var(--mainColor)}.order-page[_ngcontent-%COMP%]   .orders-body[_ngcontent-%COMP%]{background:#fff;width:100%;height:800px;border-radius:5px;padding:20px;overflow-y:scroll}.order-page[_ngcontent-%COMP%]   .orders-body[_ngcontent-%COMP%]   .order-box[_ngcontent-%COMP%]{position:relative;background-color:#dee5ed;width:100%;height:400px;margin:20px 0}.order-page[_ngcontent-%COMP%]   .orders-body[_ngcontent-%COMP%]   .order-box[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:8px;background:var(--mainColor);color:#fff}.order-page[_ngcontent-%COMP%]   .orders-body[_ngcontent-%COMP%]   .order-box[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .oreder-num[_ngcontent-%COMP%]{padding:0 18px 0 0;font-weight:700}.order-page[_ngcontent-%COMP%]   .orders-body[_ngcontent-%COMP%]   .order-box[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .oreder-id[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;color:#eb5656;padding:0 7px 0 0}.order-page[_ngcontent-%COMP%]   .orders-body[_ngcontent-%COMP%]   .order-box[_ngcontent-%COMP%]   .person-inf[_ngcontent-%COMP%]   table[_ngcontent-%COMP%], .order-page[_ngcontent-%COMP%]   .orders-body[_ngcontent-%COMP%]   .order-box[_ngcontent-%COMP%]   .person-inf[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:100%}.order-page[_ngcontent-%COMP%]   .orders-body[_ngcontent-%COMP%]   .order-box[_ngcontent-%COMP%]   .person-inf[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:25%;font-weight:700}.order-page[_ngcontent-%COMP%]   .orders-body[_ngcontent-%COMP%]   .order-box[_ngcontent-%COMP%]   .person-inf[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px 0}.order-page[_ngcontent-%COMP%]   .orders-body[_ngcontent-%COMP%]   .order-box[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:var(--secondColor);color:#fff}.order-page[_ngcontent-%COMP%]   .orders-body[_ngcontent-%COMP%]   .order-box[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.image-prod[_ngcontent-%COMP%]   .image-box[_ngcontent-%COMP%]{position:relative;width:60px;height:60px}.order-page[_ngcontent-%COMP%]   .orders-body[_ngcontent-%COMP%]   .order-box[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.image-prod[_ngcontent-%COMP%]   .image-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0}"]}),n})();function sU(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"tr")(1,"td",22)(2,"div",23),c._UZ(3,"img",24),c.qZA()(),c.TgZ(4,"td"),c._uU(5),c.qZA(),c.TgZ(6,"td",25)(7,"div",26)(8,"input",27),c.NdJ("ngModelChange",function(i){return c.CHM(t).$implicit.quantity=i}),c.qZA(),c.TgZ(9,"button",28),c.NdJ("click",function(){const a=c.CHM(t).index;return c.oxw().save(a)}),c._uU(10,"Save"),c.qZA()()(),c.TgZ(11,"td"),c._uU(12),c.ALo(13,"currency"),c.qZA(),c.TgZ(14,"td"),c._uU(15),c.ALo(16,"currency"),c.qZA(),c.TgZ(17,"td")(18,"button",29),c.NdJ("click",function(){const a=c.CHM(t).index;return c.oxw().delete(a)}),c._UZ(19,"i",30),c._uU(20," Delete"),c.qZA()()()}if(2&n){const t=e.$implicit;c.xp6(3),c.Q6J("src",t.image,c.LSH)("alt",t.name),c.xp6(2),c.Oqu(t.name),c.xp6(3),c.Q6J("ngModel",t.quantity),c.xp6(4),c.Oqu(c.lcZ(13,6,t.price)),c.xp6(3),c.hij("",c.lcZ(16,8,t.price*t.quantity)," ")}}const oU=function(n){return[n]};function aU(n,e){if(1&n&&(c.TgZ(0,"tr")(1,"td")(2,"div",23),c._UZ(3,"img",24),c.qZA()(),c.TgZ(4,"td")(5,"a",31),c._uU(6),c.qZA()(),c.TgZ(7,"td"),c._uU(8),c.qZA(),c.TgZ(9,"td"),c._uU(10),c.ALo(11,"currency"),c.qZA()()),2&n){const t=e.$implicit;c.xp6(3),c.Q6J("src",t.image,c.LSH)("alt",t.name),c.xp6(2),c.Q6J("routerLink",c.VKq(8,oU,"/product/"+t.id)),c.xp6(1),c.Oqu(t.name),c.xp6(2),c.Oqu(t.quantity),c.xp6(2),c.Oqu(c.lcZ(11,6,t.quantity*t.price))}}function lU(n,e){if(1&n&&(c.TgZ(0,"span",32),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Oqu(t.succedSend)}}let cU=(()=>{class n{constructor(t,r,i,a,u){this.carS=t,this.userS=r,this.fireS=i,this.authS=a,this.router=u,this.cartArr=[],this.prodArr=[],this.total="",this.personData={Address:"",PhoneNumber:"",FristName:"",LastName:""},this.succedSend=""}ngOnInit(){this.cartSub=this.carS.getCart().subscribe(t=>{this.cartArr=t.map(r=>Object.assign({id:r.payload.doc.id},r.payload.doc.data()))}),this.userS.getDataProfile().then(t=>{this.personData.Address=t.data().Address,this.personData.PhoneNumber=t.data().PhoneNumber,this.personData.FristName=t.data().FristName,this.personData.LastName=t.data().LastName})}save(t){this.carS.save(this.cartArr[t].id,this.cartArr[t].quantity)}delete(t){this.carS.delete(this.cartArr[t].id)}sendOrder(){this.cartArr.map(t=>{this.fireS.collection("orders").add({id:t.id,name:t.name,price:t.price,quantity:t.quantity,image:t.image,fnamePersone:this.personData.FristName,lnamePersone:this.personData.LastName,address:this.personData.Address,phone:this.personData.PhoneNumber}).then(()=>{this.succedSend="Done"}).then(()=>{this.router.navigate(["/"]).then(()=>location.reload())})})}detail(t){this.router.navigate(["/product/"+t])}ngOnDestroy(){var t;null===(t=this.cartSub)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(YO),c.Y36(_w),c.Y36(Al),c.Y36(Nl),c.Y36(Vr))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-cart"]],decls:69,vars:5,consts:[[1,"cart",2,"padding","20px 0"],[1,"container"],[1,"table"],["scope","col",1,"image-size"],["scope","col"],[4,"ngFor","ngForOf"],[1,"check-cont"],["routerLink","/",1,"btn","btn-secondary"],["data-bs-toggle","modal","data-bs-target","#checkOut",1,"btn","btn-primary"],["id","checkOut","tabindex","-1","aria-labelledby","#shopTitle","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","shopTitle",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"table-board"],[1,"per-board"],["class","alert alert-success",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-primary",3,"click"],[1,"image-product-cart"],[1,"imagebox"],[3,"src","alt"],[2,"width","120px"],[1,"quaintity-field"],["type","number",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"fas","fa-trash"],[3,"routerLink"],[1,"alert","alert-success"]],template:function(t,r){1&t&&(c.TgZ(0,"section",0)(1,"div",1)(2,"header")(3,"h1"),c._uU(4,"Shopping Cart"),c.qZA()(),c.TgZ(5,"table",2)(6,"thead")(7,"tr")(8,"th",3),c._uU(9,"Image"),c.qZA(),c.TgZ(10,"th",4),c._uU(11,"Name"),c.qZA(),c.TgZ(12,"th",4),c._uU(13,"Quantity"),c.qZA(),c.TgZ(14,"th",4),c._uU(15,"Price"),c.qZA(),c.TgZ(16,"th",4),c._uU(17,"Total"),c.qZA(),c._UZ(18,"th",4),c.qZA()(),c.TgZ(19,"tbody"),c.YNc(20,sU,21,10,"tr",5),c.qZA()(),c.TgZ(21,"div",6)(22,"button",7),c._uU(23,"Continue Shopping"),c.qZA(),c.TgZ(24,"button",8),c._uU(25,"Check out"),c.qZA(),c.TgZ(26,"div",9)(27,"div",10)(28,"div",11)(29,"div",12)(30,"h5",13),c._uU(31,"Shoping Contact"),c.qZA(),c._UZ(32,"button",14),c.qZA(),c.TgZ(33,"div",15)(34,"div",16)(35,"table",2)(36,"thead")(37,"th",4),c._uU(38,"Image"),c.qZA(),c.TgZ(39,"th",4),c._uU(40,"Name"),c.qZA(),c.TgZ(41,"th",4),c._uU(42,"Quantity"),c.qZA(),c.TgZ(43,"th",4),c._uU(44,"Total Price"),c.qZA()(),c.TgZ(45,"tbody"),c.YNc(46,aU,12,10,"tr",5),c.qZA()()(),c.TgZ(47,"div",17)(48,"header")(49,"h6"),c._uU(50,"Yor Personality Information"),c.qZA(),c._UZ(51,"hr"),c.qZA(),c.TgZ(52,"table",2)(53,"tr")(54,"td"),c._uU(55,"Address : "),c.qZA(),c.TgZ(56,"td"),c._uU(57),c.qZA()(),c.TgZ(58,"tr")(59,"td"),c._uU(60,"Phone number : "),c.qZA(),c.TgZ(61,"td"),c._uU(62),c.qZA()()()()(),c.YNc(63,lU,2,1,"span",18),c.TgZ(64,"div",19)(65,"button",20),c._uU(66,"Close"),c.qZA(),c.TgZ(67,"button",21),c.NdJ("click",function(){return r.sendOrder()}),c._uU(68,"Finish"),c.qZA()()()()()()()()),2&t&&(c.xp6(20),c.Q6J("ngForOf",r.cartArr),c.xp6(26),c.Q6J("ngForOf",r.cartArr),c.xp6(11),c.Oqu(r.personData.Address),c.xp6(5),c.Oqu(r.personData.PhoneNumber),c.xp6(1),c.Q6J("ngIf",r.succedSend))},directives:[On,TE,Lg,Cw,Hy,Pg,mw,Hn],pipes:[Ys],styles:[".cart[_ngcontent-%COMP%]{padding:20px 0}.cart[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{border:1px solid var(--secondColor);overflow-x:scroll}.cart[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:var(--secondColor)}.cart[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#fff}.cart[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th.image-size[_ngcontent-%COMP%]{width:110px}.cart[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{background-color:#fff}.cart[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-left:1px solid var(--secondColor);border-right:1px solid var(--secondColor)}.cart[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.image-product-cart[_ngcontent-%COMP%]   .imagebox[_ngcontent-%COMP%]{position:relative;width:100px;height:100px;background-color:#fff;border:1px solid var(--secondColor);display:flex;justify-content:center;align-items:center}.cart[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.image-product-cart[_ngcontent-%COMP%]   .imagebox[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .check-cont[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .imagebox[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0}.cart[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .quaintity-field[_ngcontent-%COMP%]{display:flex;width:100%}.cart[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .quaintity-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:75px}.check-cont[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.check-cont[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .table-board[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .imagebox[_ngcontent-%COMP%]{position:relative;width:50px;height:50px;background-color:#fff;border:1px solid var(--secondColor);display:flex;justify-content:center;align-items:center}.check-cont[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .table-board[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{border:1px solid #ccc}.check-cont[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .table-board[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-left:1px solid #ccc;border-right:1px solid #ccc}.per-board[_ngcontent-%COMP%]{padding:10px 0}.per-board[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-weight:700;color:#666}.per-board[_ngcontent-%COMP%]   table[_ngcontent-%COMP%], .per-board[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .per-board[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border:none!important;padding:17px 0}.per-board[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{font-weight:600}"]}),n})();function uU(n,e){if(1&n&&(c.TgZ(0,"div",17),c._UZ(1,"progress",18),c.qZA()),2&n){const t=e.ngIf;c.xp6(1),c.Q6J("value",t)}}let dU=(()=>{class n{constructor(t,r,i,a){var u;this.authS=t,this.fireS=r,this.userS=i,this.fireStorage=a,this.dataProfile={FristName:"",LastName:"",Address:"",PhoneNumber:"",Email:"",Password:"",imageProfile:""},this.userSub=null===(u=this.authS.user)||void 0===u?void 0:u.subscribe(f=>{this.Uid=null==f?void 0:f.uid})}ngOnInit(){this.userS.getDataProfile().then(t=>{this.dataProfile.FristName=t.data().FristName,this.dataProfile.LastName=t.data().LastName,this.dataProfile.Address=t.data().Address,this.dataProfile.Email=t.data().Email,this.dataProfile.PhoneNumber=t.data().PhoneNumber,this.dataProfile.imageProfile=t.data().imageProfile})}uploadImgProfile(t){const r=Math.random().toString(36).substring(2);this.ref=this.fireStorage.ref("user/"+this.Uid+"/profile/"+r),this.task=this.ref.put(t.target.files[0]),this.persentages=this.task.percentageChanges(),this.task.then(i=>{i.ref.getDownloadURL().then(a=>{this.fireS.collection("users").doc(this.Uid).update({imageProfile:a}).then(()=>location.reload())})})}defaultImgProfile(){this.fireS.collection("users").doc(this.Uid).update({imageProfile:"https://firebasestorage.googleapis.com/v0/b/myss-cc99c.appspot.com/o/user%2Fdefault%20image.png?alt=media&token=c07c5278-1321-46fa-80d6-20980c991e87"}).then(()=>{this.fireStorage.ref("user/"+this.Uid).delete(),location.reload()})}ngOnDestroy(){var t;null===(t=this.userSub)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Nl),c.Y36(Al),c.Y36(_w),c.Y36(gE))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-profile"]],decls:38,vars:10,consts:[[1,"profilePage"],[1,"container"],[1,"row"],[1,"col","col-lg-3","col-12"],[1,"photoAera"],[1,"photo-box"],[3,"src","alt"],[1,"action-btn"],["type","file","accept","*.png,.jpg,.jpeg","value","Upload",1,"btn","btn-primary","chooseFile",3,"change"],[1,"btn","btn-danger",3,"click"],["class","progress",4,"ngIf"],[1,"col","col-lg-9","col-12"],[1,"information-fields"],["type","text",3,"value"],["type","text","readonly","",3,"value"],["type","tel","readonly","",3,"value"],["type","email","readonly","",3,"value"],[1,"progress"],["max","100",3,"value"]],template:function(t,r){1&t&&(c.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"header"),c._uU(6),c.qZA(),c.TgZ(7,"div",5),c._UZ(8,"img",6),c.qZA(),c.TgZ(9,"form",7)(10,"input",8),c.NdJ("change",function(a){return r.uploadImgProfile(a)}),c.qZA(),c.TgZ(11,"button",9),c.NdJ("click",function(){return r.defaultImgProfile()}),c._uU(12,"Delete"),c.qZA()(),c.YNc(13,uU,2,1,"div",10),c.ALo(14,"async"),c.qZA()(),c.TgZ(15,"div",11)(16,"form",12)(17,"table")(18,"tr")(19,"td"),c._uU(20,"Frist Name : "),c.qZA(),c.TgZ(21,"td"),c._UZ(22,"input",13),c.qZA()(),c.TgZ(23,"tr")(24,"td"),c._uU(25,"Last Name : "),c.qZA(),c.TgZ(26,"td"),c._UZ(27,"input",14),c.qZA()(),c.TgZ(28,"tr")(29,"td"),c._uU(30,"Phone Number : "),c.qZA(),c.TgZ(31,"td"),c._UZ(32,"input",15),c.qZA()(),c.TgZ(33,"tr")(34,"td"),c._uU(35,"Email Address : "),c.qZA(),c.TgZ(36,"td"),c._UZ(37,"input",16),c.qZA()()()()()()()()),2&t&&(c.xp6(6),c.hij("Hello, ",r.dataProfile.FristName,""),c.xp6(2),c.Q6J("src",r.dataProfile.imageProfile,c.LSH)("alt",r.dataProfile.FristName),c.xp6(5),c.Q6J("ngIf",c.lcZ(14,8,r.persentages)),c.xp6(9),c.Q6J("value",r.dataProfile.FristName),c.xp6(5),c.Q6J("value",r.dataProfile.LastName),c.xp6(5),c.Q6J("value",r.dataProfile.PhoneNumber),c.xp6(5),c.Q6J("value",r.dataProfile.Email))},directives:[Aw,Dw,Vg,Hn],pipes:[Zc],styles:['.photoAera[_ngcontent-%COMP%]{height:500px;overflow:hidden;display:flex;flex-direction:column;align-items:center;border-right:1px solid var(--mainColor)}.photoAera[_ngcontent-%COMP%]   .photo-box[_ngcontent-%COMP%]{position:relative;width:200px;height:200px;border:1px solid var(--mainColor);border-radius:50%;overflow:hidden}.photoAera[_ngcontent-%COMP%]   .photo-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;bottom:0}.photoAera[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:10px 5px}.photoAera[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   input.chooseFile[_ngcontent-%COMP%]{width:78px;display:inline-block;color:#fff}.photoAera[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   input.chooseFile[_ngcontent-%COMP%]:before{content:"Upload"}form.information-fields[_ngcontent-%COMP%]{margin:20px 0}form.information-fields[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#fff;border-radius:4px}form.information-fields[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{height:60px;padding:10px}form.information-fields[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{font-weight:700;width:20%}form.information-fields[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;outline:none;background:none;user-select:none;-webkit-user-select:none}@media (max-width: 991px){.photoAera[_ngcontent-%COMP%]{border-right:none;height:300px;border-bottom:1px solid var(--mainColor)}form.information-fields[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:35%}}']}),n})(),hU=(()=>{class n{constructor(t,r,i){this.authS=t,this.userS=r,this.router=i}canActivate(t,r){return new Promise(i=>{var a;this.authAdminS=null===(a=this.authS.user)||void 0===a?void 0:a.subscribe(()=>{this.userS.getDataProfile().then(u=>{u.data().admin?i(!0):(this.router.navigate(["/"]),i(!1))})})})}ngOnDestroy(){var t;null===(t=this.authAdminS)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Nl),c.LFG(_w),c.LFG(Vr))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),eP=(()=>{class n{constructor(t,r){this.authS=t,this.router=r}canActivate(t,r){return new Promise(i=>{var a;this.authSub=null===(a=this.authS.user)||void 0===a?void 0:a.subscribe(u=>{u?i(!0):(this.router.navigate(["/"]),i(!1))})})}ngOnDestroy(){var t;null===(t=this.authSub)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Nl),c.LFG(Vr))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tP=(()=>{class n{constructor(t,r){this.authS=t,this.router=r}canActivate(t,r){return new Promise(i=>{var a;this.notAuthSub=null===(a=this.authS.user)||void 0===a?void 0:a.subscribe(u=>{u?(this.router.navigate(["/"]),i(!1)):i(!0)})})}ngOnDestroy(){var t;null===(t=this.notAuthSub)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Nl),c.LFG(Vr))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const fU=[{path:"",component:ZB,data:{index:0}},{path:"login",component:WB,canActivate:[tP]},{path:"register",component:tU,canActivate:[tP]},{path:"profile/:Uid",component:dU,canActivate:[eP]},{path:"product/:id",component:zB},{path:"myCart",component:cU,canActivate:[eP],data:{index:1}},{path:"orders",component:iU,canActivate:[hU]},{path:"**",component:zL}];let pU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[uO.forRoot(fU)],uO]}),n})();class nP{}const Bd="*";function mU(n,e){return{type:7,name:n,definitions:e,options:{}}}function rP(n,e=null){return{type:4,styles:e,timings:n}}function _U(n,e=null){return{type:3,steps:n,options:e}}function iP(n,e=null){return{type:2,steps:n,options:e}}function Gy(n){return{type:6,styles:n,offset:null}}function yU(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function sP(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function oP(n){Promise.resolve(null).then(n)}class Nw{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){oP(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class aP{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const a=this.players.length;0==a?oP(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==a&&this._onFinish()}),u.onDestroy(()=>{++r==a&&this._onDestroy()}),u.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((u,f)=>Math.max(u,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}var vU=R(1144);const bU=["addListener","removeListener"],wU=["addEventListener","removeEventListener"],CU=["on","off"];function Bs(n,e,t,r){if((0,ti.m)(t)&&(r=t,t=void 0),r)return Bs(n,e,t).pipe(mI(r));const[i,a]=function TU(n){return(0,ti.m)(n.addEventListener)&&(0,ti.m)(n.removeEventListener)}(n)?wU.map(u=>f=>n[u](e,f,t)):function DU(n){return(0,ti.m)(n.addListener)&&(0,ti.m)(n.removeListener)}(n)?bU.map(lP(n,e)):function EU(n){return(0,ti.m)(n.on)&&(0,ti.m)(n.off)}(n)?CU.map(lP(n,e)):[];if(!i&&(0,vU.z)(n))return(0,Ui.z)(u=>Bs(u,e,t))((0,Zt.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new Gn.y(u=>{const f=(..._)=>u.next(1<_.length?_:_[0]);return i(f),()=>a(f)})}function lP(n,e){return t=>r=>n[t](e,r)}var SU=R(3532);const{isArray:AU}=Array;function cP(n){return 1===n.length&&AU(n[0])?n[0]:n}var SE=R(5032);function IE(...n){const e=(0,rs.jO)(n),t=cP(n);return t.length?new Gn.y(r=>{let i=t.map(()=>[]),a=t.map(()=>!1);r.add(()=>{i=a=null});for(let u=0;!r.closed&&u<t.length;u++)(0,Zt.Xf)(t[u]).subscribe((0,cn.x)(r,f=>{if(i[u].push(f),i.every(_=>_.length)){const _=i.map(b=>b.shift());r.next(e?e(..._):_),i.some((b,T)=>!b.length&&a[T])&&r.complete()}},()=>{a[u]=!0,!i[u].length&&r.complete()}));return()=>{i=a=null}}):Nf.E}function Ti(n){return(0,mr.e)((e,t)=>{(0,Zt.Xf)(n).subscribe((0,cn.x)(t,()=>t.complete(),SE.Z)),!t.closed&&e.subscribe(t)})}function wA(...n){const e=(0,rs.jO)(n);return(0,mr.e)((t,r)=>{const i=n.length,a=new Array(i);let u=n.map(()=>!1),f=!1;for(let _=0;_<i;_++)(0,Zt.Xf)(n[_]).subscribe((0,cn.x)(r,b=>{a[_]=b,!f&&!u[_]&&(u[_]=!0,(f=u.every(Ri.y))&&(u=null))},SE.Z));t.subscribe((0,cn.x)(r,_=>{if(f){const b=[_,...a];r.next(e?e(...b):b)}}))})}new Gn.y(SE.Z),Math,Math,Math;const qj=["*"],u3=["dialog"];function xA(n){return"string"==typeof n}function jg(n){return null!=n}function Yy(n){return(n||document.body).getBoundingClientRect()}const NP={animation:!0,transitionTimerDelayMs:5},iH=()=>{},{transitionTimerDelayMs:sH}=NP,Fw=new Map,Us=(n,e,t,r)=>{let i=r.context||{};const a=Fw.get(e);if(a)switch(r.runningTransition){case"continue":return Nf.E;case"stop":n.run(()=>a.transition$.complete()),i=Object.assign(a.context,i),Fw.delete(e)}const u=t(e,r.animation,i)||iH;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>u()),gt(void 0).pipe(function nH(n){return e=>new Gn.y(t=>e.subscribe({next:u=>n.run(()=>t.next(u)),error:u=>n.run(()=>t.error(u)),complete:()=>n.run(()=>t.complete())}))}(n));const f=new qt.x,_=new qt.x,b=f.pipe(function MU(...n){return e=>rl(e,gt(...n))}(!0));Fw.set(e,{transition$:f,complete:()=>{_.next(),_.complete()},context:i});const T=function rH(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const I=Bs(e,"transitionend").pipe(Ti(b),An(({target:F})=>F===e));(function uP(...n){return 1===(n=cP(n)).length?(0,Zt.Xf)(n[0]):new Gn.y(function NU(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push((0,Zt.Xf)(n[r]).subscribe((0,cn.x)(e,i=>{if(t){for(let a=0;a<t.length;a++)a!==r&&t[a].unsubscribe();t=null}e.next(i)})))}}(n))})(function bA(n=0,e,t=nl.P){let r=-1;return null!=e&&((0,SU.K)(e)?t=e:r=e),new Gn.y(i=>{let a=function IU(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let u=0;return t.schedule(function(){i.closed||(i.next(u++),0<=r?this.schedule(void 0,r):i.complete())},a)})}(T+sH).pipe(Ti(b)),I,_).pipe(Ti(b)).subscribe(()=>{Fw.delete(e),n.run(()=>{u(),f.next(),f.complete()})})}),f.asObservable()};let PE=(()=>{class n{constructor(){this.animation=NP.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[sr]]}),n})(),FP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[sr]]}),n})(),VP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),jP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[sr]]}),n})(),HP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();var Si=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(Si||(Si={})),Si))();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const GP=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function qP(n){const e=Array.from(n.querySelectorAll(GP)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let XP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[sr,Xx]]}),n})(),UA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["",8,"navbar"]]}),n})(),nR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();class qg{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}let JH=(()=>{class n{constructor(t,r){this._el=t,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe((0,Ln.q)(1)).subscribe(()=>{Us(this._zone,this._el.nativeElement,(t,r)=>{r&&Yy(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Us(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,r){2&t&&(c.Tol("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),c.ekj("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})();class rR{close(e){}dismiss(e){}}class XH{constructor(e,t,r,i){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new qt.x,this._dismissed=new qt.x,this._hidden=new qt.x,e.instance.dismissEvent.subscribe(a=>{this.dismiss(a)}),this.result=new Promise((a,u)=>{this._resolve=a,this._reject=u}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Ti(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Ti(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function AP(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():gt(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),IE(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Uw=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(Uw||(Uw={})),Uw))();let e$=(()=>{class n{constructor(t,r,i){this._document=t,this._elRef=r,this._zone=i,this._closed$=new qt.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new c.vpe,this.shown=new qt.x,this.hidden=new qt.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":xA(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,Ln.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},u=IE(Us(this._zone,t,()=>t.classList.remove("show"),r),Us(this._zone,this._dialogEl.nativeElement,()=>{},r));return u.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),u}_show(){const t={animation:this.animation,runningTransition:"continue"};IE(Us(this._zone,this._elRef.nativeElement,(a,u)=>{u&&Yy(a),a.classList.add("show")},t),Us(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Bs(t,"keydown").pipe(Ti(this._closed$),An(i=>i.which===Si.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(Uw.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;Bs(this._dialogEl.nativeElement,"mousedown").pipe(Ti(this._closed$),(0,ks.b)(()=>r=!1),xn(()=>Bs(t,"mouseup").pipe(Ti(this._closed$),(0,Ln.q)(1))),An(({target:i})=>t===i)).subscribe(()=>{r=!0}),Bs(t,"click").pipe(Ti(this._closed$)).subscribe(({target:i})=>{t===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(Uw.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),i=qP(t)[0];(r||i||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Us(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(oe),c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,r){if(1&t&&c.Gf(u3,7),2&t){let i;c.iGM(i=c.CRH())&&(r._dialogEl=i.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,r){2&t&&(c.uIk("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),c.Tol("modal d-block"+(r.windowClass?" "+r.windowClass:"")),c.ekj("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:qj,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,r){1&t&&(c.F$t(),c.TgZ(0,"div",0,1)(2,"div",2),c.Hsn(3),c.qZA()()),2&t&&c.Tol("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),t$=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:a,paddingRight:u}=i;if(t>0){const f=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${f+t}px`}return i.overflow="hidden",()=>{t>0&&(i.paddingRight=u),i.overflow=a}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(oe))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),n$=(()=>{class n{constructor(t,r,i,a,u,f){this._applicationRef=t,this._injector=r,this._document=i,this._scrollBar=a,this._rendererFactory=u,this._ngZone=f,this._activeWindowCmptHasChanged=new qt.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new c.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const _=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const i=Bs(e,"focusin").pipe(Ti(t),(0,pt.U)(a=>a.target));Bs(e,"keydown").pipe(Ti(t),An(a=>a.which===Si.Tab),wA(i)).subscribe(([a,u])=>{const[f,_]=qP(e);(u===f||u===e)&&a.shiftKey&&(_.focus(),a.preventDefault()),u===_&&!a.shiftKey&&(f.focus(),a.preventDefault())}),r&&Bs(e,"click").pipe(Ti(t),wA(i),(0,pt.U)(a=>a[1])).subscribe(a=>a.focus())})})(0,_.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(_.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,r,i,a){const u=a.container instanceof HTMLElement?a.container:jg(a.container)?this._document.querySelector(a.container):this._document.body,f=this._rendererFactory.createRenderer(null,null);if(!u)throw new Error(`The specified modal container "${a.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const _=new rR,b=this._getContentRef(t,a.injector||r,i,_,a);let T=!1!==a.backdrop?this._attachBackdrop(t,u):void 0,I=this._attachWindowComponent(t,u,b),x=new XH(I,b,T,a.beforeDismiss);return this._registerModalRef(x),this._registerWindowCmpt(I),x.hidden.pipe((0,Ln.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(f.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),_.close=F=>{x.close(F)},_.dismiss=F=>{x.dismiss(F)},this._applyWindowOptions(I.instance,a),1===this._modalRefs.length&&f.addClass(this._document.body,"modal-open"),T&&T.instance&&(this._applyBackdropOptions(T.instance,a),T.changeDetectorRef.detectChanges()),I.changeDetectorRef.detectChanges(),x}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,r){let a=t.resolveComponentFactory(JH).create(this._injector);return this._applicationRef.attachView(a.hostView),r.appendChild(a.location.nativeElement),a}_attachWindowComponent(t,r,i){let u=t.resolveComponentFactory(e$).create(this._injector,i.nodes);return this._applicationRef.attachView(u.hostView),r.appendChild(u.location.nativeElement),u}_applyWindowOptions(t,r){this._windowAttributes.forEach(i=>{jg(r[i])&&(t[i]=r[i])})}_applyBackdropOptions(t,r){this._backdropAttributes.forEach(i=>{jg(r[i])&&(t[i]=r[i])})}_getContentRef(t,r,i,a,u){return i?i instanceof c.Rgc?this._createFromTemplateRef(i,a):xA(i)?this._createFromString(i):this._createFromComponent(t,r,i,a,u):new qg([])}_createFromTemplateRef(t,r){const a=t.createEmbeddedView({$implicit:r,close(u){r.close(u)},dismiss(u){r.dismiss(u)}});return this._applicationRef.attachView(a),new qg([a.rootNodes],a)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new qg([[r]])}_createFromComponent(t,r,i,a,u){const f=t.resolveComponentFactory(i),_=c.zs3.create({providers:[{provide:rR,useValue:a}],parent:r}),b=f.create(_),T=b.location.nativeElement;return u.scrollable&&T.classList.add("component-host-scrollable"),this._applicationRef.attachView(b.hostView),new qg([[T]],b.hostView,b)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==t&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const i=this._modalRefs.indexOf(t);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.z2F),c.LFG(c.zs3),c.LFG(oe),c.LFG(t$),c.LFG(c.FYo),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),r$=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(PE))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),i$=(()=>{class n{constructor(t,r,i,a){this._moduleCFR=t,this._injector=r,this._modalStack=i,this._config=a}open(t,r={}){const i=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),r);return this._modalStack.open(this._moduleCFR,this._injector,t,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c._Vd),c.LFG(c.zs3),c.LFG(n$),c.LFG(r$))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[i$]}),n})(),lR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[sr]]}),n})(),mR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[sr]]}),n})(),yR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[sr]]}),n})(),vR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[sr]]}),n})(),bR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[sr]]}),n})(),wR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[sr]]}),n})(),CR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[sr]]}),n})(),DR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();new c.OlP("live announcer delay",{providedIn:"root",factory:function _$(){return 100}});let ER=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[sr]]}),n})(),TR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const y$=[kP,FP,VP,jP,HP,XP,nR,iR,lR,TR,mR,yR,vR,bR,wR,CR,DR,ER];let v$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[y$,kP,FP,VP,jP,HP,XP,nR,iR,lR,TR,mR,yR,vR,bR,wR,CR,DR,ER]}),n})();function b$(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"a",21),c.NdJ("click",function(){return c.CHM(t),c.oxw().setTitlePage("Orders")}),c._uU(1,"Orders"),c.qZA()}}const w$=function(n){return["/profile/",n]},C$=function(n){return{uid:n}};function D$(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",22)(1,"div",23)(2,"span",24)(3,"span"),c._uU(4,"Hello, "),c.qZA(),c._uU(5),c.ALo(6,"uppercase"),c.qZA(),c.TgZ(7,"ul",25)(8,"li")(9,"a",26),c.NdJ("click",function(){return c.CHM(t),c.oxw().setTitlePage("MyProfile")}),c._uU(10,"My Profile"),c.qZA()(),c.TgZ(11,"li")(12,"a",27),c.NdJ("click",function(){return c.CHM(t),c.oxw().logout()}),c._uU(13,"Logout"),c.qZA()()()()()}if(2&n){const t=c.oxw();c.xp6(5),c.hij(" ",c.lcZ(6,3,t.userData.FristName)," "),c.xp6(4),c.Q6J("routerLink",c.VKq(5,w$,t.userData.FristName))("queryParams",c.VKq(7,C$,t.userData.uid))}}function E$(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"a",28),c.NdJ("click",function(){return c.CHM(t),c.oxw().setTitlePage("Login")}),c._uU(1,"Login"),c.qZA()}}function T$(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"a",29),c.NdJ("click",function(){return c.CHM(t),c.oxw().setTitlePage("Register")}),c._uU(1,"Register"),c.qZA()}}function S$(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",30),c.NdJ("click",function(){return c.CHM(t),c.oxw().setTitlePage("Mycart")}),c.TgZ(1,"div",31),c._UZ(2,"i",32),c.qZA(),c.TgZ(3,"span",33),c._uU(4," My Cart "),c.qZA()()}}let I$=(()=>{class n{constructor(t,r,i,a,u){this.authS=t,this.auth=r,this.router=i,this.titlePage=a,this.userS=u,this.isUser=!1,this.isOpen=!1,this.isAdmin=!1,this.userData={FristName:"",uid:""}}checkScroll(){const t=document.documentElement.scrollTop,r=document.documentElement.querySelector(".arrow-box");t>=500?null==r||r.classList.add("active"):null==r||r.classList.remove("active")}goToTop(){window.scrollTo({top:0,behavior:"smooth"})}ngOnInit(){var t;this.userSubscrib2=null===(t=this.authS.user)||void 0===t?void 0:t.subscribe(r=>{r?(this.isUser=!0,this.authS.userId=r.uid,this.userS.getDataProfile().then(i=>{i.data().admin&&(this.isAdmin=!0),this.userData.FristName=i.data().FristName,this.userData.uid=i.data().Id})):(this.isUser=!1,this.authS.userId="")})}setTitlePage(t){this.titlePage.setTitle(t)}logout(){this.auth.signOut().then(()=>{localStorage.removeItem("userConnect"),this.router.navigate(["/login"])})}ngOnDestroy(){var t,r;null===(t=this.userSubscrib)||void 0===t||t.unsubscribe(),null===(r=this.userSubscrib2)||void 0===r||r.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Nl),c.Y36(Eu),c.Y36(Vr),c.Y36(io),c.Y36(_w))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-navbar"]],hostBindings:function(t,r){1&t&&c.NdJ("scroll",function(){return r.checkScroll()},!1,c.Jf7)},decls:29,vars:5,consts:[[1,"nav-container"],[1,"container"],[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],[1,"container-fluid"],["aria-current","page","href","#","routerLink","",1,"navbar-brand",3,"click"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["href","#",1,"nav-link"],[1,"nav-link"],["href","#","routerLink","orders",3,"click",4,"ngIf"],[1,"sign-content"],[1,"sign-option"],["class","userAction",4,"ngIf"],["href","#","routerLink","login",3,"click",4,"ngIf"],["href","#","routerLink","register",3,"click",4,"ngIf"],[1,"arrow-box",3,"click"],[1,"fas","fa-arrow-up"],["class","cart","routerLink","/myCart","data-bs-toggle","tooltip","data-bs-placement","left","title","Tooltip on left",3,"click",4,"ngIf"],["href","#","routerLink","orders",3,"click"],[1,"userAction"],[1,"dropdown"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false",1,"dropdown-toggle"],["aria-labelledby","dropdownMenuButton1",1,"dropdown-menu"],[1,"dropdown-item",3,"routerLink","queryParams","click"],["href","#",1,"dropdown-item",3,"click"],["href","#","routerLink","login",3,"click"],["href","#","routerLink","register",3,"click"],["routerLink","/myCart","data-bs-toggle","tooltip","data-bs-placement","left","title","Tooltip on left",1,"cart",3,"click"],[1,"myCart-area"],[1,"fa-solid","fa-cart-arrow-down"],[1,"position-absolute","top-0","start-0","translate-middle","badge","rounded-pill","bg-danger"]],template:function(t,r){1&t&&(c.TgZ(0,"nav")(1,"div",0)(2,"div",1)(3,"nav",2)(4,"div",3)(5,"a",4),c.NdJ("click",function(){return r.setTitlePage("Market")}),c.TgZ(6,"span"),c._uU(7,"M"),c.qZA(),c._uU(8,"arket"),c.qZA(),c.TgZ(9,"button",5),c._UZ(10,"span",6),c.qZA(),c.TgZ(11,"div",7)(12,"ul",8)(13,"li",9)(14,"a",10),c._uU(15,"About"),c.qZA()(),c.TgZ(16,"li",9)(17,"a",10),c._uU(18,"Link"),c.qZA()(),c.TgZ(19,"li",11),c.YNc(20,b$,2,0,"a",12),c.qZA()()()(),c.TgZ(21,"div",13)(22,"div",14),c.YNc(23,D$,14,9,"div",15),c.YNc(24,E$,2,0,"a",16),c.YNc(25,T$,2,0,"a",17),c.qZA()()()()()(),c.TgZ(26,"div",18),c.NdJ("click",function(){return r.goToTop()}),c._UZ(27,"i",19),c.qZA(),c.YNc(28,S$,5,0,"button",20)),2&t&&(c.xp6(20),c.Q6J("ngIf",r.isUser&&r.isAdmin),c.xp6(3),c.Q6J("ngIf",r.isUser),c.xp6(1),c.Q6J("ngIf",!r.isUser),c.xp6(1),c.Q6J("ngIf",!r.isUser),c.xp6(3),c.Q6J("ngIf",r.isUser))},directives:[UA,mw,Hn,Pg],pipes:[Wc],styles:[".nav-container[_ngcontent-%COMP%]{position:relative;background-color:var(--mainColor);width:100%}.navbar[_ngcontent-%COMP%]{background-color:var(--mainColor)!important}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}.navbar-brand[_ngcontent-%COMP%]{letter-spacing:.25rem;font-size:24px;color:var(--secondColor);transition:.5s}.navbar-brand[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:26px;font-weight:700;color:#fff}.sign-content[_ngcontent-%COMP%]   .sign-option[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.sign-content[_ngcontent-%COMP%]   .sign-option[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:0 5px;padding:10px;text-align:center;color:#fff;background-color:#212529;border-radius:6px;transition:.5s}.sign-content[_ngcontent-%COMP%]   .sign-option[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#535d66}.sign-content[_ngcontent-%COMP%]   .sign-option[_ngcontent-%COMP%]   .userAction[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}.sign-content[_ngcontent-%COMP%]   .sign-option[_ngcontent-%COMP%]   .userAction[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   ul.dropdown-menu[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;border-radius:.5rem}.sign-content[_ngcontent-%COMP%]   .sign-option[_ngcontent-%COMP%]   .userAction[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   ul.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{transition:.5s}.sign-content[_ngcontent-%COMP%]   .sign-option[_ngcontent-%COMP%]   .userAction[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   ul.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:var(--mainColor)}.sign-content[_ngcontent-%COMP%]   .sign-option[_ngcontent-%COMP%]   .userAction[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   ul.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background:transparent;color:var(--mainColor)}.sign-content[_ngcontent-%COMP%]   .sign-option[_ngcontent-%COMP%]   .userAction[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   ul.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{color:#fff}.sign-content[_ngcontent-%COMP%]   .sign-option[_ngcontent-%COMP%]   .userAction[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   ul.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border:none}.sign-content[_ngcontent-%COMP%]   .sign-option[_ngcontent-%COMP%]   .userAction[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   ul.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child:hover{background-color:red}.sign-content[_ngcontent-%COMP%]   .sign-option[_ngcontent-%COMP%]   .userAction[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   ul.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child   a[_ngcontent-%COMP%]{color:red}.sign-content[_ngcontent-%COMP%]   .sign-option[_ngcontent-%COMP%]   .userAction[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   ul.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child:hover   a[_ngcontent-%COMP%]{color:#fff}.arrow-box[_ngcontent-%COMP%]{position:fixed;bottom:15px;right:15px;padding:15px;background:var(--mainColor);border-radius:3px;cursor:pointer;visibility:hidden;z-index:9999}.arrow-box.active[_ngcontent-%COMP%]{visibility:visible}.arrow-box[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#fff;font-size:24px}button.cart[_ngcontent-%COMP%]{position:absolute;right:0;top:100px;width:50px;height:50px;background-color:var(--mainColor);cursor:pointer;transition:1s;z-index:1054;border-radius:5px 0 0 5px;border:none;outline:none}button.cart[_ngcontent-%COMP%]:hover{right:0}button.cart[_ngcontent-%COMP%]   .myCart-area[_ngcontent-%COMP%]{padding:10px 5px;display:flex}button.cart[_ngcontent-%COMP%]   .myCart-area[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#fff;font-size:26px}button.cart[_ngcontent-%COMP%]   .myCart-area[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}.arrow-box[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{animation:arrow 1s ease-in-out 0s infinite}@keyframes arrow{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),n})(),A$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:5,vars:1,consts:[[1,"container"],[1,"ani"],["myOutlet","outlet"]],template:function(t,r){if(1&t&&(c._UZ(0,"div",0)(1,"app-navbar"),c.TgZ(2,"div",1),c._UZ(3,"router-outlet",null,2),c.qZA()),2&t){const i=c.MAs(4);c.xp6(2),c.Q6J("@routers",i.activatedRouteData.index)}},directives:[I$,OI],styles:["footer[_ngcontent-%COMP%]{position:relative;left:0;bottom:0;width:100%}footer[_ngcontent-%COMP%]   .top-footer[_ngcontent-%COMP%]{position:relative;width:100%;background-color:var(--secondColor)}footer[_ngcontent-%COMP%]   .top-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:10px 0}footer[_ngcontent-%COMP%]   .top-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px 0}footer[_ngcontent-%COMP%]   .top-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{padding:12px 0;font-size:20px;font-weight:700;text-transform:uppercase;color:#fff}.bottom-footer[_ngcontent-%COMP%]{position:relative;background-color:var(--mainColor);width:100%;padding:6px 0;display:flex}.bottom-footer[_ngcontent-%COMP%]   .copyRight[_ngcontent-%COMP%]{padding:5px}.bottom-footer[_ngcontent-%COMP%]   .copyRight[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}.bottom-footer[_ngcontent-%COMP%]   .copyRight[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-transform:uppercase}"],data:{animation:[mU("routers",[yU("0  => 1 , 1 => 0",[_U([sP(":enter",[Gy({transform:"translateX(100%)"}),rP(500,Gy({transform:"translateX(0)"}))]),sP(":leave",[Gy({transform:"translateX(0)"}),rP(500,Gy({transform:"translateX(-100%)"}))])])])])]}}),n})();const pn=!1;function SR(n){return new c.vHH(3e3,pn)}function lG(){return"undefined"!=typeof window&&void 0!==window.document}function GA(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Vf(n){switch(n.length){case 0:return new Nw;case 1:return n[0];default:return new aP(n)}}function IR(n,e,t,r,i={},a={}){const u=[],f=[];let _=-1,b=null;if(r.forEach(T=>{const I=T.offset,x=I==_,F=x&&b||{};Object.keys(T).forEach(U=>{let Z=U,se=T[U];if("offset"!==U)switch(Z=e.normalizePropertyName(Z,u),se){case"!":se=i[U];break;case Bd:se=a[U];break;default:se=e.normalizeStyleValue(U,Z,se,u)}F[Z]=se}),x||f.push(F),b=F,_=I}),u.length)throw function Q$(n){return new c.vHH(3502,pn)}();return f}function qA(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&ZA(t,"start",n)));break;case"done":n.onDone(()=>r(t&&ZA(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&ZA(t,"destroy",n)))}}function ZA(n,e,t){const r=t.totalTime,a=zA(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),u=n._data;return null!=u&&(a._data=u),a}function zA(n,e,t,r,i="",a=0,u){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:a,disabled:!!u}}function Jo(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function AR(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let WA=(n,e)=>!1,NR=(n,e,t)=>[],MR=null;function KA(n){const e=n.parentNode||n.host;return e===MR?null:e}(GA()||"undefined"!=typeof Element)&&(lG()?(MR=(()=>document.documentElement)(),WA=(n,e)=>{for(;e;){if(e===n)return!0;e=KA(e)}return!1}):WA=(n,e)=>n.contains(e),NR=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Zg=null,OR=!1;function xR(n){Zg||(Zg=function uG(){return"undefined"!=typeof document?document.body:null}()||{},OR=!!Zg.style&&"WebkitAppearance"in Zg.style);let e=!0;return Zg.style&&!function cG(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Zg.style,!e&&OR&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Zg.style)),e}const PR=WA,RR=NR;let kR=(()=>{class n{validateStyleProperty(t){return xR(t)}matchesElement(t,r){return!1}containsElement(t,r){return PR(t,r)}getParentElement(t){return KA(t)}query(t,r,i){return RR(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,a,u,f=[],_){return new Nw(i,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),YA=(()=>{class n{}return n.NOOP=new kR,n})();const QA="ng-enter",HE="ng-leave",$E="ng-trigger",GE=".ng-trigger",LR="ng-animating",JA=".ng-animating";function zg(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:XA(parseFloat(e[1]),e[2])}function XA(n,e){return"s"===e?1e3*n:n}function qE(n,e,t){return n.hasOwnProperty("duration")?n:function fG(n,e,t){let i,a=0,u="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(SR()),{duration:0,delay:0,easing:""};i=XA(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(a=XA(parseFloat(_),f[4]));const b=f[5];b&&(u=b)}else i=n;if(!t){let f=!1,_=e.length;i<0&&(e.push(function N$(){return new c.vHH(3100,pn)}()),f=!0),a<0&&(e.push(function M$(){return new c.vHH(3101,pn)}()),f=!0),f&&e.splice(_,0,SR())}return{duration:i,delay:a,easing:u}}(n,e,t)}function Jy(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Bf(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else Jy(n,t);return t}function BR(n,e,t){return t?e+":"+t+";":""}function UR(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=BR(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=BR(0,mG(t),n.style[t]));n.setAttribute("style",e)}function qc(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=tN(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),GA()&&UR(n))}function Wg(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=tN(t);n.style[r]=""}),GA()&&UR(n))}function jw(n){return Array.isArray(n)?1==n.length?n[0]:iP(n):n}const eN=new RegExp("{{\\s*(.+?)\\s*}}","g");function jR(n){let e=[];if("string"==typeof n){let t;for(;t=eN.exec(n);)e.push(t[1]);eN.lastIndex=0}return e}function ZE(n,e,t){const r=n.toString(),i=r.replace(eN,(a,u)=>{let f=e[u];return e.hasOwnProperty(u)||(t.push(function x$(n){return new c.vHH(3003,pn)}()),f=""),f.toString()});return i==r?n:i}function zE(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const gG=/-+([a-z0-9])/g;function tN(n){return n.replace(gG,(...e)=>e[1].toUpperCase())}function mG(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Xo(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function P$(n){return new c.vHH(3004,pn)}()}}function HR(n,e){return window.getComputedStyle(n)[e]}function CG(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function DG(n,e,t){if(":"==n[0]){const _=function EG(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function z$(n){return new c.vHH(3016,pn)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function Z$(n){return new c.vHH(3015,pn)}()),e;const i=r[1],a=r[2],u=r[3];e.push($R(i,u));"<"==a[0]&&!("*"==i&&"*"==u)&&e.push($R(u,i))}(r,t,e)):t.push(n),t}const QE=new Set(["true","1"]),JE=new Set(["false","0"]);function $R(n,e){const t=QE.has(n)||JE.has(n),r=QE.has(e)||JE.has(e);return(i,a)=>{let u="*"==n||n==i,f="*"==e||e==a;return!u&&t&&"boolean"==typeof i&&(u=i?QE.has(n):JE.has(n)),!f&&r&&"boolean"==typeof a&&(f=a?QE.has(e):JE.has(e)),u&&f}}const TG=new RegExp("s*:selfs*,?","g");function nN(n,e,t,r){return new SG(n).build(e,t,r)}class SG{constructor(e){this._driver=e}build(e,t,r){const i=new NG(t);this._resetContextStyleTimingState(i);const a=Xo(this,jw(e),i);return i.unsupportedCSSPropertiesFound.size&&i.unsupportedCSSPropertiesFound.keys(),a}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const a=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function k$(){return new c.vHH(3006,pn)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const _=f,b=_.name;b.toString().split(/\s*,\s*/).forEach(T=>{_.name=T,a.push(this.visitState(_,t))}),_.name=b}else if(1==f.type){const _=this.visitTransition(f,t);r+=_.queryCount,i+=_.depCount,u.push(_)}else t.errors.push(function F$(){return new c.vHH(3007,pn)}())}),{type:7,name:e.name,states:a,transitions:u,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,u=i||{};r.styles.forEach(f=>{if(XE(f)){const _=f;Object.keys(_).forEach(b=>{jR(_[b]).forEach(T=>{u.hasOwnProperty(T)||a.add(T)})})}}),a.size&&(zE(a.values()),t.errors.push(function L$(n,e){return new c.vHH(3008,pn)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Xo(this,jw(e.animation),t);return{type:1,matchers:CG(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Kg(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Xo(this,r,t)),options:Kg(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const a=e.steps.map(u=>{t.currentTime=r;const f=Xo(this,u,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:a,options:Kg(e.options)}}visitAnimate(e,t){const r=function OG(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return rN(qE(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=rN(0,0,"");return a.dynamic=!0,a.strValue=t,a}const i=qE(t,e);return rN(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,a=e.styles?e.styles:Gy({});if(5==a.type)i=this.visitKeyframes(a,t);else{let u=e.styles,f=!1;if(!u){f=!0;const b={};r.easing&&(b.easing=r.easing),u=Gy(b)}t.currentTime+=r.duration+r.delay;const _=this.visitStyle(u,t);_.isEmptyStep=f,i=_}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(u=>{"string"==typeof u?u==Bd?r.push(u):t.errors.push(function V$(n){return new c.vHH(3002,pn)}()):r.push(u)}):r.push(e.styles);let i=!1,a=null;return r.forEach(u=>{if(XE(u)){const f=u,_=f.easing;if(_&&(a=_,delete f.easing),!i)for(let b in f)if(f[b].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:a,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(u=>{"string"!=typeof u&&Object.keys(u).forEach(f=>{if(!this._driver.validateStyleProperty(f))return delete u[f],void t.unsupportedCSSPropertiesFound.add(f);const _=t.collectedStyles[t.currentQuerySelector],b=_[f];let T=!0;b&&(a!=i&&a>=b.startTime&&i<=b.endTime&&(t.errors.push(function B$(n,e,t,r,i){return new c.vHH(3010,pn)}()),T=!1),a=b.startTime),T&&(_[f]={startTime:a,endTime:i}),t.options&&function pG(n,e,t){const r=e.params||{},i=jR(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||t.push(function O$(n){return new c.vHH(3001,pn)}())})}(u[f],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function U$(){return new c.vHH(3011,pn)}()),r;let a=0;const u=[];let f=!1,_=!1,b=0;const T=e.steps.map(Pe=>{const Me=this._makeStyleAst(Pe,t);let Re=null!=Me.offset?Me.offset:function MG(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(XE(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(XE(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(Me.styles),Ae=0;return null!=Re&&(a++,Ae=Me.offset=Re),_=_||Ae<0||Ae>1,f=f||Ae<b,b=Ae,u.push(Ae),Me});_&&t.errors.push(function j$(){return new c.vHH(3012,pn)}()),f&&t.errors.push(function H$(){return new c.vHH(3200,pn)}());const I=e.steps.length;let x=0;a>0&&a<I?t.errors.push(function $$(){return new c.vHH(3202,pn)}()):0==a&&(x=1/(I-1));const F=I-1,U=t.currentTime,Z=t.currentAnimateTimings,se=Z.duration;return T.forEach((Pe,Me)=>{const Re=x>0?Me==F?1:x*Me:u[Me],Ae=Re*se;t.currentTime=U+Z.delay+Ae,Z.duration=Ae,this._validateStyleAst(Pe,t),Pe.offset=Re,r.styles.push(Pe)}),r}visitReference(e,t){return{type:8,animation:Xo(this,jw(e.animation),t),options:Kg(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Kg(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Kg(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[a,u]=function IG(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(TG,"")),n=n.replace(/@\*/g,GE).replace(/@\w+/g,t=>GE+"-"+t.substr(1)).replace(/:animating/g,JA),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+a:a,Jo(t.collectedStyles,t.currentQuerySelector,{});const f=Xo(this,jw(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:u,animation:f,originalSelector:e.selector,options:Kg(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function G$(){return new c.vHH(3013,pn)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:qE(e.timings,t.errors,!0);return{type:12,animation:Xo(this,jw(e.animation),t),timings:r,options:null}}}class NG{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function XE(n){return!Array.isArray(n)&&"object"==typeof n}function Kg(n){return n?(n=Jy(n)).params&&(n.params=function AG(n){return n?Jy(n):null}(n.params)):n={},n}function rN(n,e,t){return{duration:n,delay:e,easing:t}}function iN(n,e,t,r,i,a,u=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:u,subTimeline:f}}class eT{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const RG=new RegExp(":enter","g"),FG=new RegExp(":leave","g");function sN(n,e,t,r,i,a={},u={},f,_,b=[]){return(new LG).buildKeyframes(n,e,t,r,i,a,u,f,_,b)}class LG{buildKeyframes(e,t,r,i,a,u,f,_,b,T=[]){b=b||new eT;const I=new oN(e,t,b,i,a,T,[]);I.options=_,I.currentTimeline.setStyles([u],null,I.errors,_),Xo(this,r,I);const x=I.timelines.filter(F=>F.containsAnimation());if(Object.keys(f).length){let F;for(let U=x.length-1;U>=0;U--){const Z=x[U];if(Z.element===t){F=Z;break}}F&&!F.allowOnlyTimelineStyles()&&F.setStyles([f],null,I.errors,_)}return x.length?x.map(F=>F.buildKeyframes()):[iN(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,u=this._visitSubInstructions(r,i,i.options);a!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let a=t.currentTimeline.currentTime;const u=null!=r.duration?zg(r.duration):null,f=null!=r.delay?zg(r.delay):null;return 0!==u&&e.forEach(_=>{const b=t.appendInstructionToTimeline(_,u,f);a=Math.max(a,b.duration+b.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),Xo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=tT);const u=zg(a.delay);i.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>Xo(this,u,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?zg(e.options.delay):0;e.steps.forEach(u=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),Xo(this,u,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return qE(t.params?ZE(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,a=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(_=>{f.forwardTime((_.offset||0)*a),f.setStyles(_.styles,_.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?zg(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=tT);let u=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let _=null;f.forEach((b,T)=>{t.currentQueryIndex=T;const I=t.createSubContext(e.options,b);a&&I.delayNextStep(a),b===t.element&&(_=I.currentTimeline),Xo(this,e.animation,I),I.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,I.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,a=e.timings,u=Math.abs(a.duration),f=u*(t.currentQueryTotal-1);let _=u*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":_=f-_;break;case"full":_=r.currentStaggerTime}const T=t.currentTimeline;_&&T.delayNextStep(_);const I=T.currentTime;Xo(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-I+(i.startTime-r.currentTimeline.startTime)}}const tT={};class oN{constructor(e,t,r,i,a,u,f,_){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=u,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=tT,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new nT(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=zg(r.duration)),null!=r.delay&&(i.delay=zg(r.delay));const a=r.params;if(a){let u=i.params;u||(u=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!u.hasOwnProperty(f))&&(u[f]=ZE(a[f],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,a=new oN(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=tT,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},a=new VG(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,a,u){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(RG,"."+this._enterClassName)).replace(FG,"."+this._leaveClassName);let b=this._driver.query(this.element,e,1!=r);0!==r&&(b=r<0?b.slice(b.length+r,b.length):b.slice(0,r)),f.push(...b)}return!a&&0==f.length&&u.push(function q$(n){return new c.vHH(3014,pn)}()),f}}class nT{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new nT(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Bd,this._currentKeyframe[t]=Bd}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const a=i&&i.params||{},u=function BG(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(a=>{t[a]=Bd})):Bf(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(u).forEach(f=>{const _=ZE(u[f],a,r);this._pendingStyles[f]=_,this._localTimelineStyles.hasOwnProperty(f)||(this._backFill[f]=this._globalTimelineStyles.hasOwnProperty(f)?this._globalTimelineStyles[f]:Bd),this._updateStyle(f,_)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,_)=>{const b=Bf(f,!0);Object.keys(b).forEach(T=>{const I=b[T];"!"==I?e.add(T):I==Bd&&t.add(T)}),r||(b.offset=_/this.duration),i.push(b)});const a=e.size?zE(e.values()):[],u=t.size?zE(t.values()):[];if(r){const f=i[0],_=Jy(f);f.offset=0,_.offset=1,i=[f,_]}return iN(this.element,i,a,u,this.duration,this.startTime,this.easing,!1)}}class VG extends nT{constructor(e,t,r,i,a,u,f=!1){super(e,t,u.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],u=r+t,f=t/u,_=Bf(e[0],!1);_.offset=0,a.push(_);const b=Bf(e[0],!1);b.offset=ZR(f),a.push(b);const T=e.length-1;for(let I=1;I<=T;I++){let x=Bf(e[I],!1);x.offset=ZR((t+x.offset*r)/u),a.push(x)}r=u,t=0,i="",e=a}return iN(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function ZR(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class aN{}class UG extends aN{normalizePropertyName(e,t){return tN(e)}normalizeStyleValue(e,t,r,i){let a="";const u=r.toString().trim();if(jG[t]&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(function R$(n,e){return new c.vHH(3005,pn)}())}return u+a}}const jG=(()=>function HG(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function zR(n,e,t,r,i,a,u,f,_,b,T,I,x){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:r,toStyles:u,timelines:f,queriedElements:_,preStyleProps:b,postStyleProps:T,totalTime:I,errors:x}}const lN={};class WR{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function $G(n,e,t,r,i){return n.some(a=>a(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],a=this._stateStyles[e],u=i?i.buildStyles(t,r):{};return a?a.buildStyles(t,r):u}build(e,t,r,i,a,u,f,_,b,T){const I=[],x=this.ast.options&&this.ast.options.params||lN,U=this.buildStyles(r,f&&f.params||lN,I),Z=_&&_.params||lN,se=this.buildStyles(i,Z,I),Pe=new Set,Me=new Map,Re=new Map,Ae="void"===i,$e={params:Object.assign(Object.assign({},x),Z)},ze=T?[]:sN(e,t,this.ast.animation,a,u,U,se,$e,b,I);let ut=0;if(ze.forEach(Tn=>{ut=Math.max(Tn.duration+Tn.delay,ut)}),I.length)return zR(t,this._triggerName,r,i,Ae,U,se,[],[],Me,Re,ut,I);ze.forEach(Tn=>{const Un=Tn.element,nr=Jo(Me,Un,{});Tn.preStyleProps.forEach(Qr=>nr[Qr]=!0);const Xi=Jo(Re,Un,{});Tn.postStyleProps.forEach(Qr=>Xi[Qr]=!0),Un!==t&&Pe.add(Un)});const At=zE(Pe.values());return zR(t,this._triggerName,r,i,Ae,U,se,ze,At,Me,Re,ut)}}class GG{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=Jy(this.defaultParams);return Object.keys(e).forEach(a=>{const u=e[a];null!=u&&(i[a]=u)}),this.styles.styles.forEach(a=>{if("string"!=typeof a){const u=a;Object.keys(u).forEach(f=>{let _=u[f];_.length>1&&(_=ZE(_,i,t));const b=this.normalizer.normalizePropertyName(f,t);_=this.normalizer.normalizeStyleValue(f,b,_,t),r[b]=_})}}),r}}class ZG{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new GG(i.style,i.options&&i.options.params||{},r)}),KR(this.states,"true","1"),KR(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new WR(e,i,this.states))}),this.fallbackTransition=function zG(n,e,t){return new WR(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(u=>u.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function KR(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const WG=new eT;class KG{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],a=nN(this._driver,t,r,[]);if(r.length)throw function J$(n){return new c.vHH(3503,pn)}();this._animations[e]=a}_buildPlayer(e,t,r){const i=e.element,a=IR(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],a=this._animations[e];let u;const f=new Map;if(a?(u=sN(this._driver,t,a,QA,HE,{},{},r,WG,i),u.forEach(T=>{const I=Jo(f,T.element,{});T.postStyleProps.forEach(x=>I[x]=null)})):(i.push(function X$(){return new c.vHH(3300,pn)}()),u=[]),i.length)throw function eG(n){return new c.vHH(3504,pn)}();f.forEach((T,I)=>{Object.keys(T).forEach(x=>{T[x]=this._driver.computeStyle(I,x,Bd)})});const b=Vf(u.map(T=>{const I=f.get(T.element);return this._buildPlayer(T,{},I)}));return this._playersById[e]=b,b.onDestroy(()=>this.destroy(e)),this.players.push(b),b}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function tG(n){return new c.vHH(3301,pn)}();return t}listen(e,t,r,i){const a=zA(t,"","","");return qA(this._getPlayer(e),r,a,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const YR="ng-animate-queued",cN="ng-animate-disabled",e6=[],QR={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},t6={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ka="__ng_removed";class uN{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function s6(n){return null!=n?n:null}(r?e.value:e),r){const a=Jy(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Hw="void",dN=new uN(Hw);class n6{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Fa(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw function nG(n,e){return new c.vHH(3302,pn)}();if(null==r||0==r.length)throw function rG(n){return new c.vHH(3303,pn)}();if(!function o6(n){return"start"==n||"done"==n}(r))throw function iG(n,e){return new c.vHH(3400,pn)}();const a=Jo(this._elementListeners,e,[]),u={name:t,phase:r,callback:i};a.push(u);const f=Jo(this._engine.statesByElement,e,{});return f.hasOwnProperty(t)||(Fa(e,$E),Fa(e,$E+"-"+t),f[t]=dN),()=>{this._engine.afterFlush(()=>{const _=a.indexOf(u);_>=0&&a.splice(_,1),this._triggers[t]||delete f[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function sG(n){return new c.vHH(3401,pn)}();return t}trigger(e,t,r,i=!0){const a=this._getTrigger(t),u=new hN(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Fa(e,$E),Fa(e,$E+"-"+t),this._engine.statesByElement.set(e,f={}));let _=f[t];const b=new uN(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&_&&b.absorbOptions(_.options),f[t]=b,_||(_=dN),b.value!==Hw&&_.value===b.value){if(!function c6(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(_.params,b.params)){const Z=[],se=a.matchStyles(_.value,_.params,Z),Pe=a.matchStyles(b.value,b.params,Z);Z.length?this._engine.reportError(Z):this._engine.afterFlush(()=>{Wg(e,se),qc(e,Pe)})}return}const x=Jo(this._engine.playersByElement,e,[]);x.forEach(Z=>{Z.namespaceId==this.id&&Z.triggerName==t&&Z.queued&&Z.destroy()});let F=a.matchTransition(_.value,b.value,e,b.params),U=!1;if(!F){if(!i)return;F=a.fallbackTransition,U=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:F,fromState:_,toState:b,player:u,isFallbackTransition:U}),U||(Fa(e,YR),u.onStart(()=>{Xy(e,YR)})),u.onDone(()=>{let Z=this.players.indexOf(u);Z>=0&&this.players.splice(Z,1);const se=this._engine.playersByElement.get(e);if(se){let Pe=se.indexOf(u);Pe>=0&&se.splice(Pe,1)}}),this.players.push(u),x.push(u),u}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,GE,!0);r.forEach(i=>{if(i[ka])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(u=>u.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const a=this._engine.statesByElement.get(e),u=new Map;if(a){const f=[];if(Object.keys(a).forEach(_=>{if(u.set(_,a[_].value),this._triggers[_]){const b=this.trigger(e,_,Hw,i);b&&f.push(b)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),r&&Vf(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(a=>{const u=a.name;if(i.has(u))return;i.add(u);const _=this._triggers[u].fallbackTransition,b=r[u]||dN,T=new uN(Hw),I=new hN(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:_,fromState:b,toState:T,player:I,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let u=e;for(;u=u.parentNode;)if(r.statesByElement.get(u)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const a=e[ka];(!a||a===QR)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Fa(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,u=this._elementListeners.get(a);u&&u.forEach(f=>{if(f.name==r.triggerName){const _=zA(a,r.triggerName,r.fromState.value,r.toState.value);_._data=e,qA(r.player,f.phase,_,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const a=r.transition.ast.depCount,u=i.transition.ast.depCount;return 0==a||0==u?a-u:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class r6{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new n6(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement,a=r.length-1;if(a>=0){let u=!1;if(void 0!==this.driver.getParentElement){let f=this.driver.getParentElement(t);for(;f;){const _=i.get(f);if(_){const b=r.indexOf(_);r.splice(b+1,0,e),u=!0;break}f=this.driver.getParentElement(f)}}else for(let f=a;f>=0;f--)if(this.driver.containsElement(r[f].hostElement,t)){r.splice(f+1,0,e),u=!0;break}u||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let a=0;a<i.length;a++){const u=r[i[a]].namespaceId;if(u){const f=this._fetchNamespace(u);f&&t.add(f)}}}return t}trigger(e,t,r,i){if(rT(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!rT(t))return;const a=t[ka];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Fa(e,cN)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Xy(e,cN))}removeNode(e,t,r,i){if(rT(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,a){this.collectedLeaveElements.push(t),t[ka]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,r,i,a){return rT(t)?this._fetchNamespace(e).listen(t,r,i,a):()=>{}}_buildInstruction(e,t,r,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,GE,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,JA,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Vf(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[ka];if(r&&r.setForRemoval){if(e[ka]=QR,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(cN))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Fa(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Vf(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function oG(n){return new c.vHH(3402,pn)}()}_flushAnimations(e,t){const r=new eT,i=[],a=new Map,u=[],f=new Map,_=new Map,b=new Map,T=new Set;this.disabledNodes.forEach(Xe=>{T.add(Xe);const dt=this.driver.query(Xe,".ng-animate-queued",!0);for(let Mt=0;Mt<dt.length;Mt++)T.add(dt[Mt])});const I=this.bodyNode,x=Array.from(this.statesByElement.keys()),F=ek(x,this.collectedEnterElements),U=new Map;let Z=0;F.forEach((Xe,dt)=>{const Mt=QA+Z++;U.set(dt,Mt),Xe.forEach(Wt=>Fa(Wt,Mt))});const se=[],Pe=new Set,Me=new Set;for(let Xe=0;Xe<this.collectedLeaveElements.length;Xe++){const dt=this.collectedLeaveElements[Xe],Mt=dt[ka];Mt&&Mt.setForRemoval&&(se.push(dt),Pe.add(dt),Mt.hasAnimation?this.driver.query(dt,".ng-star-inserted",!0).forEach(Wt=>Pe.add(Wt)):Me.add(dt))}const Re=new Map,Ae=ek(x,Array.from(Pe));Ae.forEach((Xe,dt)=>{const Mt=HE+Z++;Re.set(dt,Mt),Xe.forEach(Wt=>Fa(Wt,Mt))}),e.push(()=>{F.forEach((Xe,dt)=>{const Mt=U.get(dt);Xe.forEach(Wt=>Xy(Wt,Mt))}),Ae.forEach((Xe,dt)=>{const Mt=Re.get(dt);Xe.forEach(Wt=>Xy(Wt,Mt))}),se.forEach(Xe=>{this.processLeaveNode(Xe)})});const $e=[],ze=[];for(let Xe=this._namespaceList.length-1;Xe>=0;Xe--)this._namespaceList[Xe].drainQueuedTransitions(t).forEach(Mt=>{const Wt=Mt.player,Cr=Mt.element;if($e.push(Wt),this.collectedEnterElements.length){const ai=Cr[ka];if(ai&&ai.setForMove){if(ai.previousTriggersValues&&ai.previousTriggersValues.has(Mt.triggerName)){const js=ai.previousTriggersValues.get(Mt.triggerName),La=this.statesByElement.get(Mt.element);La&&La[Mt.triggerName]&&(La[Mt.triggerName].value=js)}return void Wt.destroy()}}const wo=!I||!this.driver.containsElement(I,Cr),Ii=Re.get(Cr),ea=U.get(Cr),Nn=this._buildInstruction(Mt,r,ea,Ii,wo);if(Nn.errors&&Nn.errors.length)return void ze.push(Nn);if(wo)return Wt.onStart(()=>Wg(Cr,Nn.fromStyles)),Wt.onDestroy(()=>qc(Cr,Nn.toStyles)),void i.push(Wt);if(Mt.isFallbackTransition)return Wt.onStart(()=>Wg(Cr,Nn.fromStyles)),Wt.onDestroy(()=>qc(Cr,Nn.toStyles)),void i.push(Wt);const kl=[];Nn.timelines.forEach(ai=>{ai.stretchStartingKeyframe=!0,this.disabledNodes.has(ai.element)||kl.push(ai)}),Nn.timelines=kl,r.append(Cr,Nn.timelines),u.push({instruction:Nn,player:Wt,element:Cr}),Nn.queriedElements.forEach(ai=>Jo(f,ai,[]).push(Wt)),Nn.preStyleProps.forEach((ai,js)=>{const La=Object.keys(ai);if(La.length){let Hd=_.get(js);Hd||_.set(js,Hd=new Set),La.forEach(Qg=>Hd.add(Qg))}}),Nn.postStyleProps.forEach((ai,js)=>{const La=Object.keys(ai);let Hd=b.get(js);Hd||b.set(js,Hd=new Set),La.forEach(Qg=>Hd.add(Qg))})});if(ze.length){const Xe=[];ze.forEach(dt=>{Xe.push(function aG(n,e){return new c.vHH(3505,pn)}())}),$e.forEach(dt=>dt.destroy()),this.reportError(Xe)}const ut=new Map,At=new Map;u.forEach(Xe=>{const dt=Xe.element;r.has(dt)&&(At.set(dt,dt),this._beforeAnimationBuild(Xe.player.namespaceId,Xe.instruction,ut))}),i.forEach(Xe=>{const dt=Xe.element;this._getPreviousPlayers(dt,!1,Xe.namespaceId,Xe.triggerName,null).forEach(Wt=>{Jo(ut,dt,[]).push(Wt),Wt.destroy()})});const Tn=se.filter(Xe=>nk(Xe,_,b)),Un=new Map;XR(Un,this.driver,Me,b,Bd).forEach(Xe=>{nk(Xe,_,b)&&Tn.push(Xe)});const Xi=new Map;F.forEach((Xe,dt)=>{XR(Xi,this.driver,new Set(Xe),_,"!")}),Tn.forEach(Xe=>{const dt=Un.get(Xe),Mt=Xi.get(Xe);Un.set(Xe,Object.assign(Object.assign({},dt),Mt))});const Qr=[],Uf=[],jf={};u.forEach(Xe=>{const{element:dt,player:Mt,instruction:Wt}=Xe;if(r.has(dt)){if(T.has(dt))return Mt.onDestroy(()=>qc(dt,Wt.toStyles)),Mt.disabled=!0,Mt.overrideTotalTime(Wt.totalTime),void i.push(Mt);let Cr=jf;if(At.size>1){let Ii=dt;const ea=[];for(;Ii=Ii.parentNode;){const Nn=At.get(Ii);if(Nn){Cr=Nn;break}ea.push(Ii)}ea.forEach(Nn=>At.set(Nn,Cr))}const wo=this._buildAnimation(Mt.namespaceId,Wt,ut,a,Xi,Un);if(Mt.setRealPlayer(wo),Cr===jf)Qr.push(Mt);else{const Ii=this.playersByElement.get(Cr);Ii&&Ii.length&&(Mt.parentPlayer=Vf(Ii)),i.push(Mt)}}else Wg(dt,Wt.fromStyles),Mt.onDestroy(()=>qc(dt,Wt.toStyles)),Uf.push(Mt),T.has(dt)&&i.push(Mt)}),Uf.forEach(Xe=>{const dt=a.get(Xe.element);if(dt&&dt.length){const Mt=Vf(dt);Xe.setRealPlayer(Mt)}}),i.forEach(Xe=>{Xe.parentPlayer?Xe.syncPlayerEvents(Xe.parentPlayer):Xe.destroy()});for(let Xe=0;Xe<se.length;Xe++){const dt=se[Xe],Mt=dt[ka];if(Xy(dt,HE),Mt&&Mt.hasAnimation)continue;let Wt=[];if(f.size){let wo=f.get(dt);wo&&wo.length&&Wt.push(...wo);let Ii=this.driver.query(dt,JA,!0);for(let ea=0;ea<Ii.length;ea++){let Nn=f.get(Ii[ea]);Nn&&Nn.length&&Wt.push(...Nn)}}const Cr=Wt.filter(wo=>!wo.destroyed);Cr.length?a6(this,dt,Cr):this.processLeaveNode(dt)}return se.length=0,Qr.forEach(Xe=>{this.players.push(Xe),Xe.onDone(()=>{Xe.destroy();const dt=this.players.indexOf(Xe);this.players.splice(dt,1)}),Xe.play()}),Qr}elementContainsData(e,t){let r=!1;const i=t[ka];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,a){let u=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(u=f)}else{const f=this.playersByElement.get(e);if(f){const _=!a||a==Hw;f.forEach(b=>{b.queued||!_&&b.triggerName!=i||u.push(b)})}}return(r||i)&&(u=u.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),u}_beforeAnimationBuild(e,t,r){const a=t.element,u=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const b=_.element,T=b!==a,I=Jo(r,b,[]);this._getPreviousPlayers(b,T,u,f,t.toState).forEach(F=>{const U=F.getRealPlayer();U.beforeDestroy&&U.beforeDestroy(),F.destroy(),I.push(F)})}Wg(a,t.fromStyles)}_buildAnimation(e,t,r,i,a,u){const f=t.triggerName,_=t.element,b=[],T=new Set,I=new Set,x=t.timelines.map(U=>{const Z=U.element;T.add(Z);const se=Z[ka];if(se&&se.removedBeforeQueried)return new Nw(U.duration,U.delay);const Pe=Z!==_,Me=function l6(n){const e=[];return tk(n,e),e}((r.get(Z)||e6).map(ut=>ut.getRealPlayer())).filter(ut=>!!ut.element&&ut.element===Z),Re=a.get(Z),Ae=u.get(Z),$e=IR(0,this._normalizer,0,U.keyframes,Re,Ae),ze=this._buildPlayer(U,$e,Me);if(U.subTimeline&&i&&I.add(Z),Pe){const ut=new hN(e,f,Z);ut.setRealPlayer(ze),b.push(ut)}return ze});b.forEach(U=>{Jo(this.playersByQueriedElement,U.element,[]).push(U),U.onDone(()=>function i6(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,U.element,U))}),T.forEach(U=>Fa(U,LR));const F=Vf(x);return F.onDestroy(()=>{T.forEach(U=>Xy(U,LR)),qc(_,t.toStyles)}),I.forEach(U=>{Jo(i,U,[]).push(F)}),F}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Nw(e.duration,e.delay)}}class hN{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Nw,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>qA(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Jo(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function rT(n){return n&&1===n.nodeType}function JR(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function XR(n,e,t,r,i){const a=[];t.forEach(_=>a.push(JR(_)));const u=[];r.forEach((_,b)=>{const T={};_.forEach(I=>{const x=T[I]=e.computeStyle(b,I,i);(!x||0==x.length)&&(b[ka]=t6,u.push(b))}),n.set(b,T)});let f=0;return t.forEach(_=>JR(_,a[f++])),u}function ek(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const i=new Set(e),a=new Map;function u(f){if(!f)return 1;let _=a.get(f);if(_)return _;const b=f.parentNode;return _=t.has(b)?b:i.has(b)?1:u(b),a.set(f,_),_}return e.forEach(f=>{const _=u(f);1!==_&&t.get(_).push(f)}),t}function Fa(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function Xy(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function a6(n,e,t){Vf(t).onDone(()=>n.processLeaveNode(e))}function tk(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof aP?tk(r.players,e):e.push(r)}}function nk(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(a=>i.add(a)):e.set(n,r),t.delete(n),!0}class iT{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new r6(e,t,r),this._timelineEngine=new KG(e,t,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,r,i,a){const u=e+"-"+i;let f=this._triggerCache[u];if(!f){const _=[],T=nN(this._driver,a,_,[]);if(_.length)throw function Y$(n,e){return new c.vHH(3404,pn)}();f=function qG(n,e,t){return new ZG(n,e,t)}(i,T,this._normalizer),this._triggerCache[u]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[a,u]=AR(r);this._timelineEngine.command(a,t,u,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,a){if("@"==r.charAt(0)){const[u,f]=AR(r);return this._timelineEngine.listen(u,t,f,a)}return this._transitionEngine.listen(e,t,r,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let d6=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a={}),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&qc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(qc(this._element,this._initialStyles),this._endStyles&&(qc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Wg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Wg(this._element,this._endStyles),this._endStyles=null),qc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function fN(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];h6(i)&&(e=e||{},e[i]=n[i])}return e}function h6(n){return"display"===n||"position"===n}class rk{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:HR(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class f6{validateStyleProperty(e){return xR(e)}matchesElement(e,t){return!1}containsElement(e,t){return PR(e,t)}getParentElement(e){return KA(e)}query(e,t,r){return RR(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,a,u=[]){const _={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(_.easing=a);const b={},T=u.filter(x=>x instanceof rk);(function _G(n,e){return 0===n||0===e})(r,i)&&T.forEach(x=>{let F=x.currentSnapshot;Object.keys(F).forEach(U=>b[U]=F[U])}),t=function yG(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let a=e[0],u=[];if(r.forEach(f=>{a.hasOwnProperty(f)||u.push(f),a[f]=t[f]}),u.length)for(var i=1;i<e.length;i++){let f=e[i];u.forEach(function(_){f[_]=HR(n,_)})}}return e}(e,t=t.map(x=>Bf(x,!1)),b);const I=function u6(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=fN(e[0]),e.length>1&&(r=fN(e[e.length-1]))):e&&(t=fN(e)),t||r?new d6(n,t,r):null}(e,t);return new rk(e,t,_,I)}}let p6=(()=>{class n extends nP{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?iP(t):t;return ik(this._renderer,null,r,"register",[i]),new g6(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(oe))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class g6 extends class gU{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new m6(this._id,e,t||{},this._renderer)}}class m6{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return ik(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function ik(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const sk="@.disabled";let _6=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,u)=>{const f=null==u?void 0:u.parentNode(a);f&&u.removeChild(f,a)}}createRenderer(t,r){const a=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let T=this._rendererCache.get(a);return T||(T=new ok("",a,this.engine),this._rendererCache.set(a,T)),T}const u=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const _=T=>{Array.isArray(T)?T.forEach(_):this.engine.registerTrigger(u,f,t,T.name,T)};return r.data.animation.forEach(_),new y6(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[u,f]=a;u(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(iT),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class ok{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==sk?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class y6 extends ok{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==sk?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function v6(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.substr(1),u="";return"@"!=a.charAt(0)&&([a,u]=function b6(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,u,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let w6=(()=>{class n extends iT{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(oe),c.LFG(YA),c.LFG(aN))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const ak=new c.OlP("AnimationModuleType"),lk=[{provide:nP,useClass:p6},{provide:aN,useFactory:function C6(){return new UG}},{provide:iT,useClass:w6},{provide:c.FYo,useFactory:function D6(n,e,t){return new _6(n,e,t)},deps:[In,iT,c.R0b]}],ck=[{provide:YA,useFactory:()=>new f6},{provide:ak,useValue:"BrowserAnimations"},...lk],E6=[{provide:YA,useClass:kR},{provide:ak,useValue:"NoopAnimations"},...lk];let T6=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?E6:ck}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:ck,imports:[aa]}),n})();const S6_firebaseConfig={apiKey:"AIzaSyDHp-3fk9TYlbzz_25Grif1pKgl87WmO8Y",authDomain:"myss-cc99c.firebaseapp.com",projectId:"myss-cc99c",storageBucket:"myss-cc99c.appspot.com",messagingSenderId:"387625654660",appId:"1:387625654660:web:69a67492d23391598925d1",measurementId:"G-G6PE26LNX2"};let I6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[A$]}),n.\u0275inj=c.cJS({providers:[],imports:[[aa,pU,v$,Xx,kB,fi.hO.initializeApp(S6_firebaseConfig),vv,Mk,LV,T6]]}),n})();(0,c.G48)(),iu().bootstrapModule(I6).catch(n=>console.error(n))},5867:(ft,Ee,R)=>{R.d(Ee,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=R(9681);(0,c.registerVersion)("firebase","9.7.0","app")},127:(ft,Ee,R)=>{R.d(Ee,{Z:()=>c.Z});var c=R(3942);c.Z.registerVersion("firebase","9.7.0","app-compat")},820:(ft,Ee,R)=>{R.r(Ee);var c=R(5861),Y=R(3942),k=R(2090),ae=R(9681),ee=R(655),ge=R(1877),oe=R(4859);const ke=function Ye(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ue=function Ne(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},fe=new k.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),st=new ge.Yd("@firebase/auth");function et(y,...p){st.logLevel<=ge.in.ERROR&&st.error(`Auth (${ae.SDK_VERSION}): ${y}`,...p)}function Se(y,...p){throw qe(y,...p)}function ve(y,...p){return qe(y,...p)}function be(y,p,m){const w=Object.assign(Object.assign({},Ue()),{[p]:m});return new k.LL("auth","Firebase",w).create(p,{appName:y.name})}function We(y,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&Se(y,"argument-error"),be(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qe(y,...p){if("string"!=typeof y){const m=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=y.name),y._errorFactory.create(m,...w)}return fe.create(y,...p)}function ie(y,p,...m){if(!y)throw qe(p,...m)}function Je(y){const p="INTERNAL ASSERTION FAILED: "+y;throw et(p),new Error(p)}function X(y,p){y||Je(p)}const le=new Map;function re(y){X(y instanceof Function,"Expected a class definition");let p=le.get(y);return p?(X(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,le.set(y,p),p)}function Be(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function Rt(){return"http:"===en()||"https:"===en()}function en(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Kt{constructor(p,m){this.shortDelay=p,this.longDelay=m,X(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,k.uI)()||(0,k.b$)()}get(){return function gn(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Rt()||(0,k.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function hr(y,p){X(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class Rn{static initialize(p,m,w){this.fetchImpl=p,m&&(this.headersImpl=m),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Je("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Je("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Je("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const an={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ji=new Kt(3e4,6e4);function nn(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function Yt(y,p,m,w){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,c.Z)(function*(y,p,m,w,A={}){return Ai(y,A,(0,c.Z)(function*(){let P={},z={};w&&("GET"===p?z=w:P={body:JSON.stringify(w)});const te=(0,k.xO)(Object.assign({key:y.config.apiKey},z)).slice(1),je=yield y._getAdditionalHeaders();return je["Content-Type"]="application/json",y.languageCode&&(je["X-Firebase-Locale"]=y.languageCode),Rn.fetch()(Xr(y,y.config.apiHost,m,te),Object.assign({method:p,headers:je,referrerPolicy:"no-referrer"},P))}))})).apply(this,arguments)}function Ai(y,p,m){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,c.Z)(function*(y,p,m){y._canInitEmulator=!1;const w=Object.assign(Object.assign({},an),p);try{const A=new ps(y),P=yield Promise.race([m(),A.promise]);A.clearNetworkTimeout();const z=yield P.json();if("needConfirmation"in z)throw gs(y,"account-exists-with-different-credential",z);if(P.ok&&!("errorMessage"in z))return z;{const te=P.ok?z.errorMessage:z.error.message,[je,ot]=te.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===je)throw gs(y,"credential-already-in-use",z);if("EMAIL_EXISTS"===je)throw gs(y,"email-already-in-use",z);const vt=w[je]||je.toLowerCase().replace(/[_\s]+/g,"-");if(ot)throw be(y,vt,ot);Se(y,vt)}}catch(A){if(A instanceof k.ZR)throw A;Se(y,"network-request-failed")}})).apply(this,arguments)}function Jr(y,p,m,w){return es.apply(this,arguments)}function es(){return(es=(0,c.Z)(function*(y,p,m,w,A={}){const P=yield Yt(y,p,m,w,A);return"mfaPendingCredential"in P&&Se(y,"multi-factor-auth-required",{_serverResponse:P}),P})).apply(this,arguments)}function Xr(y,p,m,w){const A=`${p}${m}?${w}`;return y.config.emulator?hr(y.config,A):`${y.config.apiScheme}://${A}`}class ps{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,w)=>{this.timer=setTimeout(()=>w(ve(this.auth,"network-request-failed")),ji.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function gs(y,p,m){const w={appName:y.name};m.email&&(w.email=m.email),m.phoneNumber&&(w.phoneNumber=m.phoneNumber);const A=ve(y,p,w);return A.customData._tokenResponse=m,A}function li(){return(li=(0,c.Z)(function*(y,p){return Yt(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function fr(y,p){return rr.apply(this,arguments)}function rr(){return(rr=(0,c.Z)(function*(y,p){return Yt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ni(y,p){return Co.apply(this,arguments)}function Co(){return(Co=(0,c.Z)(function*(y,p){return Yt(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Sn(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function Va(){return(Va=(0,c.Z)(function*(y,p=!1){const m=(0,k.m9)(y),w=yield m.getIdToken(p),A=ht(w);ie(A&&A.exp&&A.auth_time&&A.iat,m.auth,"internal-error");const P="object"==typeof A.firebase?A.firebase:void 0,z=null==P?void 0:P.sign_in_provider;return{claims:A,token:w,authTime:Sn(Qt(A.auth_time)),issuedAtTime:Sn(Qt(A.iat)),expirationTime:Sn(Qt(A.exp)),signInProvider:z||null,signInSecondFactor:(null==P?void 0:P.sign_in_second_factor)||null}})).apply(this,arguments)}function Qt(y){return 1e3*Number(y)}function ht(y){const[p,m,w]=y.split(".");if(void 0===p||void 0===m||void 0===w)return et("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,k.tV)(m);return A?JSON.parse(A):(et("Failed to decode base64 JWT payload"),null)}catch(A){return et("Caught error parsing JWT payload as JSON",A),null}}function Er(y,p){return ts.apply(this,arguments)}function ts(){return(ts=(0,c.Z)(function*(y,p,m=!1){if(m)return p;try{return yield p}catch(w){throw w instanceof k.ZR&&Gt(w)&&y.auth.currentUser===y&&(yield y.auth.signOut()),w}})).apply(this,arguments)}function Gt({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Do{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const A=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,c.Z)(function*(){yield m.iteration()}),w)}iteration(){var p=this;return(0,c.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&p.schedule(!0))}p.schedule()})()}}class Ur{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sn(this.lastLoginAt),this.creationTime=Sn(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Tr(y){return bt.apply(this,arguments)}function bt(){return(bt=(0,c.Z)(function*(y){var p;const m=y.auth,w=yield y.getIdToken(),A=yield Er(y,Ni(m,{idToken:w}));ie(null==A?void 0:A.users.length,m,"internal-error");const P=A.users[0];y._notifyReloadListener(P);const z=(null===(p=P.providerUserInfo)||void 0===p?void 0:p.length)?Ie(P.providerUserInfo):[],te=tt(y.providerData,z),vt=!!y.isAnonymous&&!(y.email&&P.passwordHash||(null==te?void 0:te.length)),mt={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:te,metadata:new Ur(P.createdAt,P.lastLoginAt),isAnonymous:vt};Object.assign(y,mt)})).apply(this,arguments)}function Ht(){return(Ht=(0,c.Z)(function*(y){const p=(0,k.m9)(y);yield Tr(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function tt(y,p){return[...y.filter(w=>!p.some(A=>A.providerId===w.providerId)),...p]}function Ie(y){return y.map(p=>{var{providerId:m}=p,w=(0,ee._T)(p,["providerId"]);return{providerId:m,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function wt(){return(wt=(0,c.Z)(function*(y,p){const m=yield Ai(y,{},(0,c.Z)(function*(){const w=(0,k.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:A,apiKey:P}=y.config,z=Xr(y,A,"/v1/token",`key=${P}`),te=yield y._getAdditionalHeaders();return te["Content-Type"]="application/x-www-form-urlencoded",Rn.fetch()(z,{method:"POST",headers:te,body:w})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class $t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){ie(p.idToken,"internal-error"),ie(void 0!==p.idToken,"internal-error"),ie(void 0!==p.refreshToken,"internal-error");const m="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function Nt(y){const p=ht(y);return ie(p,"internal-error"),ie(void 0!==p.exp,"internal-error"),ie(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var w=this;return(0,c.Z)(function*(){return ie(!w.accessToken||w.refreshToken,p,"user-token-expired"),m||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var w=this;return(0,c.Z)(function*(){const{accessToken:A,refreshToken:P,expiresIn:z}=yield function it(y,p){return wt.apply(this,arguments)}(p,m);w.updateTokensAndExpiration(A,P,Number(z))})()}updateTokensAndExpiration(p,m,w){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,m){const{refreshToken:w,accessToken:A,expirationTime:P}=m,z=new $t;return w&&(ie("string"==typeof w,"internal-error",{appName:p}),z.refreshToken=w),A&&(ie("string"==typeof A,"internal-error",{appName:p}),z.accessToken=A),P&&(ie("number"==typeof P,"internal-error",{appName:p}),z.expirationTime=P),z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new $t,this.toJSON())}_performRefresh(){return Je("not implemented")}}function Ut(y,p){ie("string"==typeof y||void 0===y,"internal-error",{appName:p})}class H{constructor(p){var{uid:m,auth:w,stsTokenManager:A}=p,P=(0,ee._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Do(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=w,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.providerData=P.providerData?[...P.providerData]:[],this.metadata=new Ur(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,c.Z)(function*(){const w=yield Er(m,m.stsTokenManager.getToken(m.auth,p));return ie(w,m.auth,"internal-error"),m.accessToken!==w&&(m.accessToken=w,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),w})()}getIdTokenResult(p){return function $s(y){return Va.apply(this,arguments)}(this,p)}reload(){return function jr(y){return Ht.apply(this,arguments)}(this)}_assign(p){this!==p&&(ie(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new H(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var w=this;return(0,c.Z)(function*(){let A=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),A=!0),m&&(yield Tr(w)),yield w.auth._persistUserIfCurrent(w),A&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,c.Z)(function*(){const m=yield p.getIdToken();return yield Er(p,function yt(y,p){return li.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var w,A,P,z,te,je,ot,vt;const mt=null!==(w=m.displayName)&&void 0!==w?w:void 0,Vn=null!==(A=m.email)&&void 0!==A?A:void 0,wi=null!==(P=m.phoneNumber)&&void 0!==P?P:void 0,ma=null!==(z=m.photoURL)&&void 0!==z?z:void 0,yc=null!==(te=m.tenantId)&&void 0!==te?te:void 0,il=null!==(je=m._redirectEventId)&&void 0!==je?je:void 0,xu=null!==(ot=m.createdAt)&&void 0!==ot?ot:void 0,pp=null!==(vt=m.lastLoginAt)&&void 0!==vt?vt:void 0,{uid:Bo,emailVerified:Pu,isAnonymous:gp,providerData:Rh,stsTokenManager:Ru}=m;ie(Bo&&Ru,p,"internal-error");const mp=$t.fromJSON(this.name,Ru);ie("string"==typeof Bo,p,"internal-error"),Ut(mt,p.name),Ut(Vn,p.name),ie("boolean"==typeof Pu,p,"internal-error"),ie("boolean"==typeof gp,p,"internal-error"),Ut(wi,p.name),Ut(ma,p.name),Ut(yc,p.name),Ut(il,p.name),Ut(xu,p.name),Ut(pp,p.name);const kh=new H({uid:Bo,auth:p,email:Vn,emailVerified:Pu,displayName:mt,isAnonymous:gp,photoURL:ma,phoneNumber:wi,tenantId:yc,stsTokenManager:mp,createdAt:xu,lastLoginAt:pp});return Rh&&Array.isArray(Rh)&&(kh.providerData=Rh.map(Tv=>Object.assign({},Tv))),il&&(kh._redirectEventId=il),kh}static _fromIdTokenResponse(p,m,w=!1){return(0,c.Z)(function*(){const A=new $t;A.updateFromServerResponse(m);const P=new H({uid:m.localId,auth:p,stsTokenManager:A,isAnonymous:w});return yield Tr(P),P})()}}const q=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(m,w){var A=this;return(0,c.Z)(function*(){A.storage[m]=w})()}_get(m){var w=this;return(0,c.Z)(function*(){const A=w.storage[m];return void 0===A?null:A})()}_remove(m){var w=this;return(0,c.Z)(function*(){delete w.storage[m]})()}_addListener(m,w){}_removeListener(m,w){}}return y.type="NONE",y})();function de(y,p,m){return`firebase:${y}:${p}:${m}`}class Q{constructor(p,m,w){this.persistence=p,this.auth=m,this.userKey=w;const{config:A,name:P}=this.auth;this.fullUserKey=de(this.userKey,A.apiKey,P),this.fullPersistenceKey=de("persistence",A.apiKey,P),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,c.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?H._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,c.Z)(function*(){if(m.persistence===p)return;const w=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,w?m.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,w="authUser"){return(0,c.Z)(function*(){if(!m.length)return new Q(re(q),p,w);const A=(yield Promise.all(m.map(function(){var ot=(0,c.Z)(function*(vt){if(yield vt._isAvailable())return vt});return function(vt){return ot.apply(this,arguments)}}()))).filter(ot=>ot);let P=A[0]||re(q);const z=de(w,p.config.apiKey,p.name);let te=null;for(const ot of m)try{const vt=yield ot._get(z);if(vt){const mt=H._fromJSON(p,vt);ot!==P&&(te=mt),P=ot;break}}catch(vt){}const je=A.filter(ot=>ot._shouldAllowMigration);return P._shouldAllowMigration&&je.length?(P=je[0],te&&(yield P._set(z,te.toJSON())),yield Promise.all(m.map(function(){var ot=(0,c.Z)(function*(vt){if(vt!==P)try{yield vt._remove(z)}catch(mt){}});return function(vt){return ot.apply(this,arguments)}}())),new Q(P,p,w)):new Q(P,p,w)})()}}function He(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Jt(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Et(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Lt(p))return"Blackberry";if(wn(p))return"Webos";if(rn(p))return"Safari";if((p.includes("chrome/")||Hr(p))&&!p.includes("edge/"))return"Chrome";if(kn(p))return"Android";{const w=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function Et(y=(0,k.z$)()){return/firefox\//i.test(y)}function rn(y=(0,k.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Hr(y=(0,k.z$)()){return/crios\//i.test(y)}function Jt(y=(0,k.z$)()){return/iemobile/i.test(y)}function kn(y=(0,k.z$)()){return/android/i.test(y)}function Lt(y=(0,k.z$)()){return/blackberry/i.test(y)}function wn(y=(0,k.z$)()){return/webos/i.test(y)}function gr(y=(0,k.z$)()){return/iphone|ipad|ipod/i.test(y)}function ms(y=(0,k.z$)()){return gr(y)||kn(y)||wn(y)||Lt(y)||/windows phone/i.test(y)||Jt(y)}function Ua(y,p=[]){let m;switch(y){case"Browser":m=He((0,k.z$)());break;case"Worker":m=`${He((0,k.z$)())}-${y}`;break;default:m=y}const w=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${ae.SDK_VERSION}/${w}`}class Mi{constructor(p,m,w){this.app=p,this.heartbeatServiceProvider=m,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vt(this),this.idTokenSubscription=new Vt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(p,m){var w=this;return m&&(this._popupRedirectResolver=re(m)),this._initializationPromise=this.queue((0,c.Z)(function*(){var A,P;if(!w._deleted&&(w.persistenceManager=yield Q.create(w,p),!w._deleted)){if(null===(A=w._popupRedirectResolver)||void 0===A?void 0:A._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch(z){}yield w.initializeCurrentUser(m),w.lastNotifiedUid=(null===(P=w.currentUser)||void 0===P?void 0:P.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,c.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m)}})()}initializeCurrentUser(p){var m=this;return(0,c.Z)(function*(){var w;let A=yield m.assertedPersistence.getCurrentUser();if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const P=null===(w=m.redirectUser)||void 0===w?void 0:w._redirectEventId,z=null==A?void 0:A._redirectEventId,te=yield m.tryRedirectSignIn(p);(!P||P===z)&&(null==te?void 0:te.user)&&(A=te.user)}return A?A._redirectEventId?(ie(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===A._redirectEventId?m.directlySetCurrentUser(A):m.reloadAndSetCurrentUserOrClear(A)):m.reloadAndSetCurrentUserOrClear(A):m.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var m=this;return(0,c.Z)(function*(){let w=null;try{w=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch(A){yield m._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,c.Z)(function*(){try{yield Tr(p)}catch(w){if("auth/network-request-failed"!==w.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Ke(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,c.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,c.Z)(function*(){const w=p?(0,k.m9)(p):null;return w&&ie(w.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(w&&w._clone(m))})()}_updateCurrentUser(p){var m=this;return(0,c.Z)(function*(){if(!m._deleted)return p&&ie(m.tenantId===p.tenantId,m,"tenant-id-mismatch"),m.queue((0,c.Z)(function*(){yield m.directlySetCurrentUser(p),m.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,c.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var m=this;return this.queue((0,c.Z)(function*(){yield m.assertedPersistence.setPersistence(re(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new k.LL("auth","Firebase",p())}onAuthStateChanged(p,m,w){return this.registerStateListener(this.authStateSubscription,p,m,w)}onIdTokenChanged(p,m,w){return this.registerStateListener(this.idTokenSubscription,p,m,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var w=this;return(0,c.Z)(function*(){const A=yield w.getOrInitRedirectPersistenceManager(m);return null===p?A.removeCurrentUser():A.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,c.Z)(function*(){if(!m.redirectPersistenceManager){const w=p&&re(p)||m._popupRedirectResolver;ie(w,m,"argument-error"),m.redirectPersistenceManager=yield Q.create(m,[re(w._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,c.Z)(function*(){var w,A;return m._isInitialized&&(yield m.queue((0,c.Z)(function*(){}))),(null===(w=m._currentUser)||void 0===w?void 0:w._redirectEventId)===p?m._currentUser:(null===(A=m.redirectUser)||void 0===A?void 0:A._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,c.Z)(function*(){if(p===m.currentUser)return m.queue((0,c.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,w,A){if(this._deleted)return()=>{};const P="function"==typeof m?m:m.next.bind(m),z=this._isInitialized?Promise.resolve():this._initializationPromise;return ie(z,this,"internal-error"),z.then(()=>P(this.currentUser)),"function"==typeof m?p.addObserver(m,w,A):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,c.Z)(function*(){m.currentUser&&m.currentUser!==p&&(m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh()),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Ua(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,c.Z)(function*(){var m;const w={"X-Client-Version":p.clientVersion};p.app.options.appId&&(w["X-Firebase-gmpid"]=p.app.options.appId);const A=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return A&&(w["X-Firebase-Client"]=A),w})()}}function Fe(y){return(0,k.m9)(y)}class Vt{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,k.ne)(m=>this.observer=m)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Sr(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function Qn(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class mn{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return Je("not implemented")}_getIdTokenResponse(p){return Je("not implemented")}_linkToIdToken(p,m){return Je("not implemented")}_getReauthenticationResolver(p){return Je("not implemented")}}function jn(y,p){return qs.apply(this,arguments)}function qs(){return(qs=(0,c.Z)(function*(y,p){return Yt(y,"POST","/v1/accounts:resetPassword",nn(y,p))})).apply(this,arguments)}function kt(y,p){return ta.apply(this,arguments)}function ta(){return(ta=(0,c.Z)(function*(y,p){return Yt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function To(y,p){return ja.apply(this,arguments)}function ja(){return(ja=(0,c.Z)(function*(y,p){return Yt(y,"POST","/v1/accounts:update",nn(y,p))})).apply(this,arguments)}function On(){return(On=(0,c.Z)(function*(y,p){return Jr(y,"POST","/v1/accounts:signInWithPassword",nn(y,p))})).apply(this,arguments)}function _s(y,p){return ys.apply(this,arguments)}function ys(){return(ys=(0,c.Z)(function*(y,p){return Yt(y,"POST","/v1/accounts:sendOobCode",nn(y,p))})).apply(this,arguments)}function Hn(y,p){return _n.apply(this,arguments)}function _n(){return(_n=(0,c.Z)(function*(y,p){return _s(y,p)})).apply(this,arguments)}function Ll(y,p){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,c.Z)(function*(y,p){return _s(y,p)})).apply(this,arguments)}function Hi(y,p){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,c.Z)(function*(y,p){return _s(y,p)})).apply(this,arguments)}function $d(y,p){return zs.apply(this,arguments)}function zs(){return(zs=(0,c.Z)(function*(y,p){return _s(y,p)})).apply(this,arguments)}function ci(){return(ci=(0,c.Z)(function*(y,p){return Jr(y,"POST","/v1/accounts:signInWithEmailLink",nn(y,p))})).apply(this,arguments)}function na(){return(na=(0,c.Z)(function*(y,p){return Jr(y,"POST","/v1/accounts:signInWithEmailLink",nn(y,p))})).apply(this,arguments)}class Ul extends mn{constructor(p,m,w,A=null){super("password",w),this._email=p,this._password=m,this._tenantId=A}static _fromEmailAndPassword(p,m){return new Ul(p,m,"password")}static _fromEmailAndCode(p,m,w=null){return new Ul(p,m,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,c.Z)(function*(){switch(m.signInMethod){case"password":return function Zs(y,p){return On.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Bl(y,p){return ci.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:Se(p,"internal-error")}})()}_linkToIdToken(p,m){var w=this;return(0,c.Z)(function*(){switch(w.signInMethod){case"password":return kt(p,{idToken:m,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Hf(y,p){return na.apply(this,arguments)}(p,{idToken:m,email:w._email,oobCode:w._password});default:Se(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Jn(y,p){return Gd.apply(this,arguments)}function Gd(){return(Gd=(0,c.Z)(function*(y,p){return Jr(y,"POST","/v1/accounts:signInWithIdp",nn(y,p))})).apply(this,arguments)}class vs extends mn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new vs(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):Se("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:A}=m,P=(0,ee._T)(m,["providerId","signInMethod"]);if(!w||!A)return null;const z=new vs(w,A);return z.idToken=P.idToken||void 0,z.accessToken=P.accessToken||void 0,z.secret=P.secret,z.nonce=P.nonce,z.pendingToken=P.pendingToken||null,z}_getIdTokenResponse(p){return Jn(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,Jn(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Jn(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,k.xO)(m)}return p}}function em(y,p){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,c.Z)(function*(y,p){return Yt(y,"POST","/v1/accounts:sendVerificationCode",nn(y,p))})).apply(this,arguments)}function Ws(){return(Ws=(0,c.Z)(function*(y,p){return Jr(y,"POST","/v1/accounts:signInWithPhoneNumber",nn(y,p))})).apply(this,arguments)}function Wc(){return(Wc=(0,c.Z)(function*(y,p){const m=yield Jr(y,"POST","/v1/accounts:signInWithPhoneNumber",nn(y,p));if(m.temporaryProof)throw gs(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const nm={USER_NOT_FOUND:"user-not-found"};function qd(){return(qd=(0,c.Z)(function*(y,p){return Jr(y,"POST","/v1/accounts:signInWithPhoneNumber",nn(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),nm)})).apply(this,arguments)}class ra extends mn{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new ra({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new ra({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function zc(y,p){return Ws.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function tm(y,p){return Wc.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function rm(y,p){return qd.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:w,verificationCode:A}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:w,code:A}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:w,phoneNumber:A,temporaryProof:P}=p;return w||m||A||P?new ra({verificationId:m,verificationCode:w,phoneNumber:A,temporaryProof:P}):null}}class So{constructor(p){var m,w,A,P,z,te;const je=(0,k.zd)((0,k.pd)(p)),ot=null!==(m=je.apiKey)&&void 0!==m?m:null,vt=null!==(w=je.oobCode)&&void 0!==w?w:null,mt=function ev(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=je.mode)&&void 0!==A?A:null);ie(ot&&vt&&mt,"argument-error"),this.apiKey=ot,this.operation=mt,this.code=vt,this.continueUrl=null!==(P=je.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(z=je.languageCode)&&void 0!==z?z:null,this.tenantId=null!==(te=je.tenantId)&&void 0!==te?te:null}static parseLink(p){const m=function jl(y){const p=(0,k.zd)((0,k.pd)(y)).link,m=p?(0,k.zd)((0,k.pd)(p)).deep_link_id:null,w=(0,k.zd)((0,k.pd)(y)).deep_link_id;return(w?(0,k.zd)((0,k.pd)(w)).link:null)||w||m||p||y}(p);try{return new So(m)}catch(w){return null}}}let Kc=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,w){return Ul._fromEmailAndPassword(m,w)}static credentialWithLink(m,w){const A=So.parseLink(w);return ie(A,"argument-error"),Ul._fromEmailAndCode(m,A.code,A.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Ks{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class ui extends Ks{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Ys extends ui{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return ie("providerId"in m&&"signInMethod"in m,"argument-error"),vs._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return ie(p.idToken||p.accessToken,"argument-error"),vs._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Ys.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Ys.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:w,oauthTokenSecret:A,pendingToken:P,nonce:z,providerId:te}=p;if(!w&&!A&&!m&&!P||!te)return null;try{return new Ys(te)._credential({idToken:m,accessToken:w,nonce:z,pendingToken:P})}catch(je){return null}}}let Io=(()=>{class y extends ui{constructor(){super("facebook.com")}static credential(m){return vs._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch(w){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Ha=(()=>{class y extends ui{constructor(){super("google.com"),this.addScope("profile")}static credential(m,w){return vs._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:w})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:w,oauthAccessToken:A}=m;if(!w&&!A)return null;try{return y.credential(w,A)}catch(P){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Zd=(()=>{class y extends ui{constructor(){super("github.com")}static credential(m){return vs._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch(w){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class sr extends mn{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return Jn(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,Jn(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Jn(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:A,pendingToken:P}=m;return w&&A&&P&&w===A?new sr(w,P):null}static _create(p,m){return new sr(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class xi extends Ks{constructor(p){ie(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return xi.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return xi.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=sr.fromJSON(p);return ie(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:w}=p;if(!m||!w)return null;try{return sr._create(w,m)}catch(A){return null}}}let Hl=(()=>{class y extends ui{constructor(){super("twitter.com")}static credential(m,w){return vs._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:w})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:w,oauthTokenSecret:A}=m;if(!w||!A)return null;try{return y.credential(w,A)}catch(P){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function $l(y,p){return ei.apply(this,arguments)}function ei(){return(ei=(0,c.Z)(function*(y,p){return Jr(y,"POST","/v1/accounts:signUp",nn(y,p))})).apply(this,arguments)}class Ir{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,w,A=!1){return(0,c.Z)(function*(){const P=yield H._fromIdTokenResponse(p,w,A),z=Gf(w);return new Ir({user:P,providerId:z,_tokenResponse:w,operationType:m})})()}static _forOperation(p,m,w){return(0,c.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const A=Gf(w);return new Ir({user:p,providerId:A,_tokenResponse:w,operationType:m})})()}}function Gf(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function zd(){return(zd=(0,c.Z)(function*(y){var p;const m=Fe(y);if(yield m._initializationPromise,null===(p=m.currentUser)||void 0===p?void 0:p.isAnonymous)return new Ir({user:m.currentUser,providerId:null,operationType:"signIn"});const w=yield $l(m,{returnSecureToken:!0}),A=yield Ir._fromIdTokenResponse(m,"signIn",w,!0);return yield m._updateCurrentUser(A.user),A})).apply(this,arguments)}class ql extends k.ZR{constructor(p,m,w,A){var P;super(m.code,m.message),this.operationType=w,this.user=A,Object.setPrototypeOf(this,ql.prototype),this.customData={appName:p.name,tenantId:null!==(P=p.tenantId)&&void 0!==P?P:void 0,_serverResponse:m.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,m,w,A){return new ql(p,m,w,A)}}function Zl(y,p,m,w){return("reauthenticate"===p?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?ql._fromErrorAndOperation(y,P,p,w):P})}function bs(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function Yc(){return(Yc=(0,c.Z)(function*(y,p){const m=(0,k.m9)(y);yield Js(!0,m,p);const{providerUserInfo:w}=yield fr(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),A=bs(w||[]);return m.providerData=m.providerData.filter(P=>A.has(P.providerId)),A.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function En(y,p){return ia.apply(this,arguments)}function ia(){return(ia=(0,c.Z)(function*(y,p,m=!1){const w=yield Er(y,p._linkToIdToken(y.auth,yield y.getIdToken()),m);return Ir._forOperation(y,"link",w)})).apply(this,arguments)}function Js(y,p,m){return yn.apply(this,arguments)}function yn(){return(yn=(0,c.Z)(function*(y,p,m){yield Tr(p);const A=!1===y?"provider-already-linked":"no-such-provider";ie(bs(p.providerData).has(m)===y,p.auth,A)})).apply(this,arguments)}function Wd(y,p){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,c.Z)(function*(y,p,m=!1){const{auth:w}=y,A="reauthenticate";try{const P=yield Er(y,Zl(w,A,p,y),m);ie(P.idToken,w,"internal-error");const z=ht(P.idToken);ie(z,w,"internal-error");const{sub:te}=z;return ie(y.uid===te,w,"user-mismatch"),Ir._forOperation(y,A,P)}catch(P){throw"auth/user-not-found"===(null==P?void 0:P.code)&&Se(w,"user-mismatch"),P}})).apply(this,arguments)}function No(y,p){return $r.apply(this,arguments)}function $r(){return($r=(0,c.Z)(function*(y,p,m=!1){const w="signIn",A=yield Zl(y,w,p),P=yield Ir._fromIdTokenResponse(y,w,A);return m||(yield y._updateCurrentUser(P.user)),P})).apply(this,arguments)}function $n(y,p){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,c.Z)(function*(y,p){return No(Fe(y),p)})).apply(this,arguments)}function $i(y,p){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,c.Z)(function*(y,p){const m=(0,k.m9)(y);return yield Js(!1,m,p.providerId),En(m,p)})).apply(this,arguments)}function Xs(y,p){return ws.apply(this,arguments)}function ws(){return(ws=(0,c.Z)(function*(y,p){return Wd((0,k.m9)(y),p)})).apply(this,arguments)}function zl(y,p){return di.apply(this,arguments)}function di(){return(di=(0,c.Z)(function*(y,p){return Jr(y,"POST","/v1/accounts:signInWithCustomToken",nn(y,p))})).apply(this,arguments)}function to(){return(to=(0,c.Z)(function*(y,p){const m=Fe(y),w=yield zl(m,{token:p,returnSecureToken:!0}),A=yield Ir._fromIdTokenResponse(m,"signIn",w);return yield m._updateCurrentUser(A.user),A})).apply(this,arguments)}class Ct{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?Wl._fromServerResponse(p,m):Se(p,"internal-error")}}class Wl extends Ct{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new Wl(m)}}function qa(y,p,m){var w;ie((null===(w=m.url)||void 0===w?void 0:w.length)>0,y,"invalid-continue-uri"),ie(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(ie(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(ie(m.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function Yl(){return(Yl=(0,c.Z)(function*(y,p,m){const w=(0,k.m9)(y),A={requestType:"PASSWORD_RESET",email:p};m&&qa(w,A,m),yield Ll(w,A)})).apply(this,arguments)}function Qc(){return(Qc=(0,c.Z)(function*(y,p,m){yield jn((0,k.m9)(y),{oobCode:p,newPassword:m})})).apply(this,arguments)}function De(){return(De=(0,c.Z)(function*(y,p){yield To((0,k.m9)(y),{oobCode:p})})).apply(this,arguments)}function jt(y,p){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,c.Z)(function*(y,p){const m=(0,k.m9)(y),w=yield jn(m,{oobCode:p}),A=w.requestType;switch(ie(A,m,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ie(w.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ie(w.mfaInfo,m,"internal-error");default:ie(w.email,m,"internal-error")}let P=null;return w.mfaInfo&&(P=Ct._fromServerResponse(Fe(m),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:P},operation:A}})).apply(this,arguments)}function sa(){return(sa=(0,c.Z)(function*(y,p){const{data:m}=yield jt((0,k.m9)(y),p);return m.email})).apply(this,arguments)}function hi(){return(hi=(0,c.Z)(function*(y,p,m){const w=Fe(y),A=yield $l(w,{returnSecureToken:!0,email:p,password:m}),P=yield Ir._fromIdTokenResponse(w,"signIn",A);return yield w._updateCurrentUser(P.user),P})).apply(this,arguments)}function Kd(){return(Kd=(0,c.Z)(function*(y,p,m){const w=(0,k.m9)(y),A={requestType:"EMAIL_SIGNIN",email:p};ie(m.handleCodeInApp,w,"argument-error"),m&&qa(w,A,m),yield Hi(w,A)})).apply(this,arguments)}function no(){return(no=(0,c.Z)(function*(y,p,m){const w=(0,k.m9)(y),A=Kc.credentialWithLink(p,m||Be());return ie(A._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),$n(w,A)})).apply(this,arguments)}function Ar(y,p){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,c.Z)(function*(y,p){return Yt(y,"POST","/v1/accounts:createAuthUri",nn(y,p))})).apply(this,arguments)}function ro(){return(ro=(0,c.Z)(function*(y,p){const w={identifier:p,continueUri:Rt()?Be():"http://localhost"},{signinMethods:A}=yield Ar((0,k.m9)(y),w);return A||[]})).apply(this,arguments)}function ru(){return(ru=(0,c.Z)(function*(y,p){const m=(0,k.m9)(y),A={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&qa(m.auth,A,p);const{email:P}=yield Hn(m.auth,A);P!==y.email&&(yield y.reload())})).apply(this,arguments)}function tc(){return(tc=(0,c.Z)(function*(y,p,m){const w=(0,k.m9)(y),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};m&&qa(w.auth,P,m);const{email:z}=yield $d(w.auth,P);z!==y.email&&(yield y.reload())})).apply(this,arguments)}function iu(y,p){return Za.apply(this,arguments)}function Za(){return(Za=(0,c.Z)(function*(y,p){return Yt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function su(){return(su=(0,c.Z)(function*(y,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const w=(0,k.m9)(y),P={idToken:yield w.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},z=yield Er(w,iu(w.auth,P));w.displayName=z.displayName||null,w.photoURL=z.photoUrl||null;const te=w.providerData.find(({providerId:je})=>"password"===je);te&&(te.displayName=w.displayName,te.photoURL=w.photoURL),yield w._updateTokensIfNecessary(z)})).apply(this,arguments)}function nc(y,p,m){return io.apply(this,arguments)}function io(){return(io=(0,c.Z)(function*(y,p,m){const{auth:w}=y,P={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(P.email=p),m&&(P.password=m);const z=yield Er(y,kt(w,P));yield y._updateTokensIfNecessary(z,!0)})).apply(this,arguments)}class Mo{constructor(p,m,w={}){this.isNewUser=p,this.providerId=m,this.profile=w}}class Jd extends Mo{constructor(p,m,w,A){super(p,m,w),this.username=A}}class Xd extends Mo{constructor(p,m){super(p,"facebook.com",m)}}class Oo extends Jd{constructor(p,m){super(p,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class so extends Mo{constructor(p,m){super(p,"google.com",m)}}class au extends Jd{constructor(p,m,w){super(p,"twitter.com",m,w)}}function qr(y){const{user:p,_tokenResponse:m}=y;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Qd(y){var p,m;if(!y)return null;const{providerId:w}=y,A=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},P=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!w&&(null==y?void 0:y.idToken)){const z=null===(m=null===(p=ht(y.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(z)return new Mo(P,"anonymous"!==z&&"custom"!==z?z:null)}if(!w)return null;switch(w){case"facebook.com":return new Xd(P,A);case"github.com":return new Oo(P,A);case"google.com":return new so(P,A);case"twitter.com":return new au(P,A,y.screenName||null);case"custom":case"anonymous":return new Mo(P,null);default:return new Mo(P,w,A)}}(m)}class Cs{constructor(p,m){this.type=p,this.credential=m}static _fromIdtoken(p){return new Cs("enroll",p)}static _fromMfaPendingCredential(p){return new Cs("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,w;if(null==p?void 0:p.multiFactorSession){if(null===(m=p.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return Cs._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(w=p.multiFactorSession)||void 0===w?void 0:w.idToken)return Cs._fromIdtoken(p.multiFactorSession.idToken)}return null}}class za{constructor(p,m,w){this.session=p,this.hints=m,this.signInResolver=w}static _fromError(p,m){const w=Fe(p),A=m.customData._serverResponse,P=(A.mfaInfo||[]).map(te=>Ct._fromServerResponse(w,te));ie(A.mfaPendingCredential,w,"internal-error");const z=Cs._fromMfaPendingCredential(A.mfaPendingCredential);return new za(z,P,function(){var te=(0,c.Z)(function*(je){const ot=yield je._process(w,z);delete A.mfaInfo,delete A.mfaPendingCredential;const vt=Object.assign(Object.assign({},A),{idToken:ot.idToken,refreshToken:ot.refreshToken});switch(m.operationType){case"signIn":const mt=yield Ir._fromIdTokenResponse(w,m.operationType,vt);return yield w._updateCurrentUser(mt.user),mt;case"reauthenticate":return ie(m.user,w,"internal-error"),Ir._forOperation(m.user,m.operationType,vt);default:Se(w,"internal-error")}});return function(je){return te.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,c.Z)(function*(){return m.signInResolver(p)})()}}function Xn(y,p){return Yt(y,"POST","/v2/accounts/mfaEnrollment:start",nn(y,p))}class Ds{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(w=>Ct._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new Ds(p)}getSession(){var p=this;return(0,c.Z)(function*(){return Cs._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,m){var w=this;return(0,c.Z)(function*(){const A=p,P=yield w.getSession(),z=yield Er(w.user,A._process(w.user.auth,P,m));return yield w.user._updateTokensIfNecessary(z),w.user.reload()})()}unenroll(p){var m=this;return(0,c.Z)(function*(){const w="string"==typeof p?p:p.uid,A=yield m.user.getIdToken(),P=yield Er(m.user,function sm(y,p){return Yt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",nn(y,p))}(m.user.auth,{idToken:A,mfaEnrollmentId:w}));m.enrolledFactors=m.enrolledFactors.filter(({uid:z})=>z!==w),yield m.user._updateTokensIfNecessary(P);try{yield m.user.reload()}catch(z){if("auth/user-token-expired"!==z.code)throw z}})()}}const la=new WeakMap,uu="__sak";class xo{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(uu,"1"),this.storage.removeItem(uu),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const qt=(()=>{class y extends xo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,w)=>this.onStorageEvent(m,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function nh(){const y=(0,k.z$)();return rn(y)||gr(y)}()&&function ir(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=ms(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const w of Object.keys(this.listeners)){const A=this.storage.getItem(w),P=this.localCache[w];A!==P&&m(w,P,A)}}onStorageEvent(m,w=!1){if(!m.key)return void this.forAllChangedKeys((te,je,ot)=>{this.notifyListeners(te,ot)});const A=m.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const te=this.storage.getItem(A);if(m.newValue!==te)null!==m.newValue?this.storage.setItem(A,m.newValue):this.storage.removeItem(A);else if(this.localCache[A]===m.newValue&&!w)return}const P=()=>{const te=this.storage.getItem(A);!w&&this.localCache[A]===te||this.notifyListeners(A,te)},z=this.storage.getItem(A);!function Ba(){return(0,k.w1)()&&10===document.documentMode}()||z===m.newValue||m.newValue===m.oldValue?P():setTimeout(P,10)}notifyListeners(m,w){this.localCache[m]=w;const A=this.listeners[m];if(A)for(const P of Array.from(A))P(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,w,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:w,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,w){var A=()=>super._set,P=this;return(0,c.Z)(function*(){yield A().call(P,m,w),P.localCache[m]=JSON.stringify(w)})()}_get(m){var w=()=>super._get,A=this;return(0,c.Z)(function*(){const P=yield w().call(A,m);return A.localCache[m]=JSON.stringify(P),P})()}_remove(m){var w=()=>super._remove,A=this;return(0,c.Z)(function*(){yield w().call(A,m),delete A.localCache[m]})()}}return y.type="LOCAL",y})(),Xt=(()=>{class y extends xo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,w){}_removeListener(m,w){}}return y.type="SESSION",y})();let Gn=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const w=this.receivers.find(P=>P.isListeningto(m));if(w)return w;const A=new y(m);return this.receivers.push(A),A}isListeningto(m){return this.eventTarget===m}handleEvent(m){var w=this;return(0,c.Z)(function*(){const A=m,{eventId:P,eventType:z,data:te}=A.data,je=w.handlersMap[z];if(!(null==je?void 0:je.size))return;A.ports[0].postMessage({status:"ack",eventId:P,eventType:z});const ot=Array.from(je).map(function(){var mt=(0,c.Z)(function*(Vn){return Vn(A.origin,te)});return function(Vn){return mt.apply(this,arguments)}}()),vt=yield function gt(y){return Promise.all(y.map(function(){var p=(0,c.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(w){return{fulfilled:!1,reason:w}}});return function(m){return p.apply(this,arguments)}}()))}(ot);A.ports[0].postMessage({status:"done",eventId:P,eventType:z,response:vt})})()}_subscribe(m,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(w)}_unsubscribe(m,w){this.handlersMap[m]&&w&&this.handlersMap[m].delete(w),(!w||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function ca(y="",p=10){let m="";for(let w=0;w<p;w++)m+=Math.floor(10*Math.random());return y+m}class Wa{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,w=50){var A=this;return(0,c.Z)(function*(){const P="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let z,te;return new Promise((je,ot)=>{const vt=ca("",20);P.port1.start();const mt=setTimeout(()=>{ot(new Error("unsupported_event"))},w);te={messageChannel:P,onMessage(Vn){const wi=Vn;if(wi.data.eventId===vt)switch(wi.data.status){case"ack":clearTimeout(mt),z=setTimeout(()=>{ot(new Error("timeout"))},3e3);break;case"done":clearTimeout(z),je(wi.data.response);break;default:clearTimeout(mt),clearTimeout(z),ot(new Error("invalid_response"))}}},A.handlers.add(te),P.port1.addEventListener("message",te.onMessage),A.target.postMessage({eventType:p,eventId:vt,data:m},[P.port2])}).finally(()=>{te&&A.removeMessageHandler(te)})})()}}function Zt(){return window}function cn(){return void 0!==Zt().WorkerGlobalScope&&"function"==typeof Zt().importScripts}function pt(){return(pt=(0,c.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const du="firebaseLocalStorageDb",ua="firebaseLocalStorage",Es="fbase_key";class An{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Ln(y,p){return y.transaction([ua],p?"readwrite":"readonly").objectStore(ua)}function ao(){const y=indexedDB.open(du,1);return new Promise((p,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const w=y.result;try{w.createObjectStore(ua,{keyPath:Es})}catch(A){m(A)}}),y.addEventListener("success",(0,c.Z)(function*(){const w=y.result;w.objectStoreNames.contains(ua)?p(w):(w.close(),yield function pi(){const y=indexedDB.deleteDatabase(du);return new An(y).toPromise()}(),p(yield ao()))}))})}function hu(y,p,m){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,c.Z)(function*(y,p,m){const w=Ln(y,!0).put({[Es]:p,value:m});return new An(w).toPromise()})).apply(this,arguments)}function ti(){return(ti=(0,c.Z)(function*(y,p){const m=Ln(y,!1).get(p),w=yield new An(m).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function lo(y,p){const m=Ln(y,!0).delete(p);return new An(m).toPromise()}const gi=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,c.Z)(function*(){return m.db||(m.db=yield ao()),m.db})()}_withRetries(m){var w=this;return(0,c.Z)(function*(){let A=0;for(;;)try{const P=yield w._openDb();return yield m(P)}catch(P){if(A++>3)throw P;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,c.Z)(function*(){return cn()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,c.Z)(function*(){m.receiver=Gn._getInstance(function rh(){return cn()?self:null}()),m.receiver._subscribe("keyChanged",function(){var w=(0,c.Z)(function*(A,P){return{keyProcessed:(yield m._poll()).includes(P.key)}});return function(A,P){return w.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var w=(0,c.Z)(function*(A,P){return["keyChanged"]});return function(A,P){return w.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,c.Z)(function*(){var w,A;if(m.activeServiceWorker=yield function xn(){return pt.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Wa(m.activeServiceWorker);const P=yield m.sender._send("ping",{},800);!P||(null===(w=P[0])||void 0===w?void 0:w.fulfilled)&&(null===(A=P[0])||void 0===A?void 0:A.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var w=this;return(0,c.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function am(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:m},w.serviceWorkerReceiverAvailable?800:50)}catch(A){}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const m=yield ao();return yield hu(m,uu,"1"),yield lo(m,uu),!0}catch(m){}return!1})()}_withPendingWrite(m){var w=this;return(0,c.Z)(function*(){w.pendingWrites++;try{yield m()}finally{w.pendingWrites--}})()}_set(m,w){var A=this;return(0,c.Z)(function*(){return A._withPendingWrite((0,c.Z)(function*(){return yield A._withRetries(P=>hu(P,m,w)),A.localCache[m]=w,A.notifyServiceWorker(m)}))})()}_get(m){var w=this;return(0,c.Z)(function*(){const A=yield w._withRetries(P=>function Ts(y,p){return ti.apply(this,arguments)}(P,m));return w.localCache[m]=A,A})()}_remove(m){var w=this;return(0,c.Z)(function*(){return w._withPendingWrite((0,c.Z)(function*(){return yield w._withRetries(A=>lo(A,m)),delete w.localCache[m],w.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,c.Z)(function*(){const w=yield m._withRetries(z=>{const te=Ln(z,!1).getAll();return new An(te).toPromise()});if(!w)return[];if(0!==m.pendingWrites)return[];const A=[],P=new Set;for(const{fbase_key:z,value:te}of w)P.add(z),JSON.stringify(m.localCache[z])!==JSON.stringify(te)&&(m.notifyListeners(z,te),A.push(z));for(const z of Object.keys(m.localCache))m.localCache[z]&&!P.has(z)&&(m.notifyListeners(z,null),A.push(z));return A})()}notifyListeners(m,w){this.localCache[m]=w;const A=this.listeners[m];if(A)for(const P of Array.from(A))P(w)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function zf(y,p){return Yt(y,"POST","/v2/accounts/mfaSignIn:start",nn(y,p))}function ki(){return(ki=(0,c.Z)(function*(y){return(yield Yt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ya(y){return new Promise((p,m)=>{const w=document.createElement("script");w.setAttribute("src",y),w.onload=p,w.onerror=A=>{const P=ve("internal-error");P.customData=A,m(P)},w.type="text/javascript",w.charset="UTF-8",function Wf(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(w)})}function sc(y){return`__${y}${Math.floor(1e6*Math.random())}`}const is=1e12;class lm{constructor(p){this.auth=p,this.counter=is,this._widgets=new Map}render(p,m){const w=this.counter;return this._widgets.set(w,new oh(p,this.auth.name,m||{})),this.counter++,w}reset(p){var m;const w=p||is;null===(m=this._widgets.get(w))||void 0===m||m.delete(),this._widgets.delete(w)}getResponse(p){var m;return(null===(m=this._widgets.get(p||is))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,c.Z)(function*(){var w;return null===(w=m._widgets.get(p||is))||void 0===w||w.execute(),""})()}}class oh{constructor(p,m,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof p?document.getElementById(p):p;ie(A,"argument-error",{appName:m}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ja(y){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<y;w++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch(w){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(w){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const pu=sc("rcb"),nv=new Kt(3e4,6e4);class ye{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Zt().grecaptcha}load(p,m=""){return ie(function Ss(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Zt().grecaptcha):new Promise((w,A)=>{const P=Zt().setTimeout(()=>{A(ve(p,"network-request-failed"))},nv.get());Zt()[pu]=()=>{Zt().clearTimeout(P),delete Zt()[pu];const te=Zt().grecaptcha;if(!te)return void A(ve(p,"internal-error"));const je=te.render;te.render=(ot,vt)=>{const mt=je(ot,vt);return this.counter++,mt},this.hostLanguage=m,w(te)},Ya(`https://www.google.com/recaptcha/api.js??${(0,k.xO)({onload:pu,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(P),A(ve(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!Zt().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Xa{load(p){return(0,c.Z)(function*(){return new lm(p)})()}clearedOneInstance(){}}const Tt="recaptcha",uo={theme:"light",type:"image"};class Kf{constructor(p,m=Object.assign({},uo),w){this.parameters=m,this.type=Tt,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Fe(w),this.isInvisible="invisible"===this.parameters.size,ie("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof p?document.getElementById(p):p;ie(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Xa:new ye,this.validateStartingState()}verify(){var p=this;return(0,c.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(m)||new Promise(P=>{const z=te=>{!te||(p.tokenChangeListeners.delete(z),P(te))};p.tokenChangeListeners.add(z),p.isInvisible&&w.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){ie(!this.parameters.sitekey,this.auth,"argument-error"),ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ie("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(w=>w(m)),"function"==typeof p)p(m);else if("string"==typeof p){const w=Zt()[p];"function"==typeof w&&w(m)}}}assertNotDestroyed(){ie(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,c.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const w=document.createElement("div");m.appendChild(w),m=w}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,c.Z)(function*(){ie(Rt()&&!cn(),p.auth,"internal-error"),yield function cm(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function sh(y){return ki.apply(this,arguments)}(p.auth);ie(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Po{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=ra._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function ln(){return(ln=(0,c.Z)(function*(y,p,m){const w=Fe(y),A=yield Nr(w,p,(0,k.m9)(m));return new Po(A,P=>$n(w,P))})).apply(this,arguments)}function ho(){return(ho=(0,c.Z)(function*(y,p,m){const w=(0,k.m9)(y);yield Js(!1,w,"phone");const A=yield Nr(w.auth,p,(0,k.m9)(m));return new Po(A,P=>$i(w,P))})).apply(this,arguments)}function gu(){return(gu=(0,c.Z)(function*(y,p,m){const w=(0,k.m9)(y),A=yield Nr(w.auth,p,(0,k.m9)(m));return new Po(A,P=>Xs(w,P))})).apply(this,arguments)}function Nr(y,p,m){return mi.apply(this,arguments)}function mi(){return(mi=(0,c.Z)(function*(y,p,m){var w;const A=yield m.verify();try{let P;if(ie("string"==typeof A,y,"argument-error"),ie(m.type===Tt,y,"argument-error"),P="string"==typeof p?{phoneNumber:p}:p,"session"in P){const z=P.session;if("phoneNumber"in P)return ie("enroll"===z.type,y,"internal-error"),(yield Xn(y,{idToken:z.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{ie("signin"===z.type,y,"internal-error");const te=(null===(w=P.multiFactorHint)||void 0===w?void 0:w.uid)||P.multiFactorUid;return ie(te,y,"missing-multi-factor-info"),(yield zf(y,{mfaPendingCredential:z.credential,mfaEnrollmentId:te,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:z}=yield em(y,{phoneNumber:P.phoneNumber,recaptchaToken:A});return z}}finally{m._reset()}})).apply(this,arguments)}function fo(){return(fo=(0,c.Z)(function*(y,p){yield En((0,k.m9)(y),p)})).apply(this,arguments)}let qi=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=Fe(m)}verifyPhoneNumber(m,w){return Nr(this.auth,m,(0,k.m9)(w))}static credential(m,w){return ra._fromVerification(m,w)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:w,temporaryProof:A}=m;return w&&A?ra._fromTokenResponse(w,A):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function ss(y,p){return p?re(p):(ie(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class er extends mn{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Jn(p,this._buildIdpRequest())}_linkToIdToken(p,m){return Jn(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return Jn(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function ha(y){return No(y.auth,new er(y),y.bypassAuthState)}function mu(y){const{auth:p,user:m}=y;return ie(m,p,"internal-error"),Wd(m,new er(y),y.bypassAuthState)}function lh(y){return el.apply(this,arguments)}function el(){return(el=(0,c.Z)(function*(y){const{auth:p,user:m}=y;return ie(m,p,"internal-error"),En(m,new er(y),y.bypassAuthState)})).apply(this,arguments)}class Mr{constructor(p,m,w,A,P=!1){this.auth=p,this.resolver=w,this.user=A,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,c.Z)(function*(w,A){p.pendingPromise={resolve:w,reject:A};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(P){p.reject(P)}});return function(w,A){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,c.Z)(function*(){const{urlResponse:w,sessionId:A,postBody:P,tenantId:z,error:te,type:je}=p;if(te)return void m.reject(te);const ot={auth:m.auth,requestUri:w,sessionId:A,tenantId:z||void 0,postBody:P||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(je)(ot))}catch(vt){m.reject(vt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return ha;case"linkViaPopup":case"linkViaRedirect":return lh;case"reauthViaPopup":case"reauthViaRedirect":return mu;default:Se(this.auth,"internal-error")}}resolve(p){X(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){X(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const oc=new Kt(2e3,1e4);function ch(){return(ch=(0,c.Z)(function*(y,p,m){const w=Fe(y);We(y,p,Ks);const A=ss(w,m);return new _i(w,"signInViaPopup",p,A).executeNotNull()})).apply(this,arguments)}function ac(){return(ac=(0,c.Z)(function*(y,p,m){const w=(0,k.m9)(y);We(w.auth,p,Ks);const A=ss(w.auth,m);return new _i(w.auth,"reauthViaPopup",p,A,w).executeNotNull()})).apply(this,arguments)}function _u(){return(_u=(0,c.Z)(function*(y,p,m){const w=(0,k.m9)(y);We(w.auth,p,Ks);const A=ss(w.auth,m);return new _i(w.auth,"linkViaPopup",p,A,w).executeNotNull()})).apply(this,arguments)}let _i=(()=>{class y extends Mr{constructor(m,w,A,P,z){super(m,w,P,z),this.provider=A,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,c.Z)(function*(){const w=yield m.execute();return ie(w,m.auth,"internal-error"),w})()}onExecution(){var m=this;return(0,c.Z)(function*(){X(1===m.filter.length,"Popup operations only handle one event");const w=ca();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],w),m.authWindow.associatedEvent=w,m.resolver._originValidation(m.auth).catch(A=>{m.reject(A)}),m.resolver._isIframeWebStorageSupported(m.auth,A=>{A||m.reject(ve(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(ve(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var w,A;this.pollId=(null===(A=null===(w=this.authWindow)||void 0===w?void 0:w.window)||void 0===A?void 0:A.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(ve(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,oc.get())};m()}}return y.currentPopupAction=null,y})();const ni=new Map;class lc extends Mr{constructor(p,m,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,c.Z)(function*(){let w=ni.get(m.auth._key());if(!w){try{const P=(yield function yu(y,p){return vu.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;w=()=>Promise.resolve(P)}catch(A){w=()=>Promise.reject(A)}ni.set(m.auth._key(),w)}return m.bypassAuthState||ni.set(m.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,w=this;return(0,c.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(w,p);if("unknown"!==p.type){if(p.eventId){const A=yield w.auth._redirectUserForId(p.eventId);if(A)return w.user=A,m().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function vu(){return(vu=(0,c.Z)(function*(y,p){const m=S(p),w=E(y);if(!(yield w._isAvailable()))return!1;const A="true"===(yield w._get(m));return yield w._remove(m),A})).apply(this,arguments)}function ko(y,p){return tl.apply(this,arguments)}function tl(){return(tl=(0,c.Z)(function*(y,p){return E(y)._set(S(p),"true")})).apply(this,arguments)}function E(y){return re(y._redirectPersistence)}function S(y){return de("pendingRedirect",y.config.apiKey,y.name)}function W(){return(W=(0,c.Z)(function*(y,p,m){const w=Fe(y);We(y,p,Ks);const A=ss(w,m);return yield ko(A,w),A._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function nt(){return(nt=(0,c.Z)(function*(y,p,m){const w=(0,k.m9)(y);We(w.auth,p,Ks);const A=ss(w.auth,m);yield ko(A,w.auth);const P=yield uc(w);return A._openRedirect(w.auth,p,"reauthViaRedirect",P)})).apply(this,arguments)}function zt(){return(zt=(0,c.Z)(function*(y,p,m){const w=(0,k.m9)(y);We(w.auth,p,Ks);const A=ss(w.auth,m);yield Js(!1,w,p.providerId),yield ko(A,w.auth);const P=yield uc(w);return A._openRedirect(w.auth,p,"linkViaRedirect",P)})).apply(this,arguments)}function Zn(){return(Zn=(0,c.Z)(function*(y,p){return yield Fe(y)._initializationPromise,zn(y,p,!1)})).apply(this,arguments)}function zn(y,p){return fa.apply(this,arguments)}function fa(){return(fa=(0,c.Z)(function*(y,p,m=!1){const w=Fe(y),A=ss(w,p),z=yield new lc(w,A,m).execute();return z&&!m&&(delete z.user._redirectEventId,yield w._persistUserIfCurrent(z.user),yield w._setRedirectUser(null,p)),z})).apply(this,arguments)}function uc(y){return yi.apply(this,arguments)}function yi(){return(yi=(0,c.Z)(function*(y){const p=ca(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class os{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(m=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function dm(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qf(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var w;if(p.error&&!Qf(p)){const A=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";m.onError(ve(this.auth,A))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const w=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Is(p))}saveEventToCache(p){this.cachedEventUids.add(Is(p)),this.lastProcessedEventTime=Date.now()}}function Is(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function Qf({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===(null==p?void 0:p.code)}function bu(y){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,c.Z)(function*(y,p={}){return Yt(y,"GET","/v1/projects",p)})).apply(this,arguments)}const hm=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rv=/^https?/;function pa(){return(pa=(0,c.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield bu(y);for(const m of p)try{if(wu(m))return}catch(w){}Se(y,"unauthorized-domain")})).apply(this,arguments)}function wu(y){const p=Be(),{protocol:m,hostname:w}=new URL(p);if(y.startsWith("chrome-extension://")){const z=new URL(y);return""===z.hostname&&""===w?"chrome-extension:"===m&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&z.hostname===w}if(!rv.test(m))return!1;if(hm.test(y))return w===y;const A=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(w)}const sv=new Kt(3e4,6e4);function ov(){const y=Zt().___jsl;if(null==y?void 0:y.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let dh=null;function qw(y){return dh=dh||function fm(y){return new Promise((p,m)=>{var w,A,P;function z(){ov(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{ov(),m(ve(y,"network-request-failed"))},timeout:sv.get()})}if(null===(A=null===(w=Zt().gapi)||void 0===w?void 0:w.iframes)||void 0===A?void 0:A.Iframe)p(gapi.iframes.getContext());else{if(!(null===(P=Zt().gapi)||void 0===P?void 0:P.load)){const te=sc("iframefcb");return Zt()[te]=()=>{gapi.load?z():m(ve(y,"network-request-failed"))},Ya(`https://apis.google.com/js/api.js?onload=${te}`).catch(je=>m(je))}z()}}).catch(p=>{throw dh=null,p})}(y),dh}const hh=new Kt(5e3,15e3),dc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Jf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hc(y){const p=y.config;ie(p.authDomain,y,"auth-domain-config-required");const m=p.emulator?hr(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,w={apiKey:p.apiKey,appName:y.name,v:ae.SDK_VERSION},A=Jf.get(y.config.apiHost);A&&(w.eid=A);const P=y._getFrameworks();return P.length&&(w.fw=P.join(",")),`${m}?${(0,k.xO)(w).slice(1)}`}function fh(){return fh=(0,c.Z)(function*(y){const p=yield qw(y),m=Zt().gapi;return ie(m,y,"internal-error"),p.open({where:document.body,url:hc(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dc,dontclear:!0},w=>new Promise(function(){var A=(0,c.Z)(function*(P,z){yield w.restyle({setHideOnLeave:!1});const te=ve(y,"network-request-failed"),je=Zt().setTimeout(()=>{z(te)},hh.get());function ot(){Zt().clearTimeout(je),P(w)}w.ping(ot).then(ot,()=>{z(te)})});return function(P,z){return A.apply(this,arguments)}}()))}),fh.apply(this,arguments)}const lv={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ep{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function np(y,p,m,w,A,P){ie(y.config.authDomain,y,"auth-domain-config-required"),ie(y.config.apiKey,y,"invalid-api-key");const z={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:w,v:ae.SDK_VERSION,eventId:A};if(p instanceof Ks){p.setDefaultLanguage(y.languageCode),z.providerId=p.providerId||"",(0,k.xb)(p.getCustomParameters())||(z.customParameters=JSON.stringify(p.getCustomParameters()));for(const[je,ot]of Object.entries(P||{}))z[je]=ot}if(p instanceof ui){const je=p.getScopes().filter(ot=>""!==ot);je.length>0&&(z.scopes=je.join(","))}y.tenantId&&(z.tid=y.tenantId);const te=z;for(const je of Object.keys(te))void 0===te[je]&&delete te[je];return`${function mm({config:y}){return y.emulator?hr(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,k.xO)(te).slice(1)}`}const go="webStorageSupport";class dv extends class rp{constructor(p){this.factorId=p}_process(p,m,w){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,w);case"signin":return this._finalizeSignIn(p,m.credential);default:return Je("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new dv(p)}_finalizeEnroll(p,m,w){return function eh(y,p){return Yt(y,"POST","/v2/accounts/mfaEnrollment:finalize",nn(y,p))}(p,{idToken:m,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function fu(y,p){return Yt(y,"POST","/v2/accounts/mfaSignIn:finalize",nn(y,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let _m=(()=>{class y{constructor(){}static assertion(m){return dv._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var Ww="@firebase/auth",hv="0.19.12";class fv{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,c.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(w=>{var A;p((null===(A=w)||void 0===A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function pc(){return window}function Du(){return(Du=(0,c.Z)(function*(y,p,m){var w;const{BuildInfo:A}=pc();X(p.sessionId,"AuthEvent did not contain a session ID");const P=yield _v(p.sessionId),z={};return gr()?z.ibi=A.packageName:kn()?z.apn=A.packageName:Se(y,"operation-not-supported-in-this-environment"),A.displayName&&(z.appDisplayName=A.displayName),z.sessionId=P,np(y,m,p.type,void 0,null!==(w=p.eventId)&&void 0!==w?w:void 0,z)})).apply(this,arguments)}function As(){return(As=(0,c.Z)(function*(y){const{BuildInfo:p}=pc(),m={};gr()?m.iosBundleId=p.packageName:kn()?m.androidPackageName=p.packageName:Se(y,"operation-not-supported-in-this-environment"),yield bu(y,m)})).apply(this,arguments)}function yh(){return(yh=(0,c.Z)(function*(y,p,m){const{cordova:w}=pc();let A=()=>{};try{yield new Promise((P,z)=>{let te=null;function je(){var mt;P();const Vn=null===(mt=w.plugins.browsertab)||void 0===mt?void 0:mt.close;"function"==typeof Vn&&Vn(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function ot(){te||(te=window.setTimeout(()=>{z(ve(y,"redirect-cancelled-by-user"))},2e3))}function vt(){"visible"===(null==document?void 0:document.visibilityState)&&ot()}p.addPassiveListener(je),document.addEventListener("resume",ot,!1),kn()&&document.addEventListener("visibilitychange",vt,!1),A=()=>{p.removePassiveListener(je),document.removeEventListener("resume",ot,!1),document.removeEventListener("visibilitychange",vt,!1),te&&window.clearTimeout(te)}})}finally{A()}})).apply(this,arguments)}function _v(y){return sp.apply(this,arguments)}function sp(){return(sp=(0,c.Z)(function*(y){const p=yv(y),m=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(m)).map(A=>A.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function yv(y){if(X(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),m=new Uint8Array(p);for(let w=0;w<y.length;w++)m[w]=y.charCodeAt(w);return m}!function gv(y){(0,ae._registerComponent)(new oe.wA("auth",(p,{options:m})=>{const w=p.getProvider("app").getImmediate(),A=p.getProvider("heartbeat"),{apiKey:P,authDomain:z}=w.options;return((te,je)=>{ie(P&&!P.includes(":"),"invalid-api-key",{appName:te.name}),ie(!(null==z?void 0:z.includes(":")),"argument-error",{appName:te.name});const ot={apiKey:P,authDomain:z,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ua(y)},vt=new Mi(te,je,ot);return function me(y,p){const m=(null==p?void 0:p.persistence)||[],w=(Array.isArray(m)?m:[m]).map(re);(null==p?void 0:p.errorMap)&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(w,null==p?void 0:p.popupRedirectResolver)}(vt,m),vt})(w,A)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,w)=>{p.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new oe.wA("auth-internal",p=>{const m=Fe(p.getProvider("auth").getImmediate());return new fv(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(Ww,hv,function pv(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ae.registerVersion)(Ww,hv,"esm2017")}("Browser");class bh extends os{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(p)),super.onEvent(p)}initialized(){var p=this;return(0,c.Z)(function*(){yield p.initPromise})()}}function vv(y){return nl.apply(this,arguments)}function nl(){return(nl=(0,c.Z)(function*(y){const p=yield rl()._get(Lo(y));return p&&(yield rl()._remove(Lo(y))),p})).apply(this,arguments)}function bv(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const w=Math.floor(Math.random()*p.length);y.push(p.charAt(w))}return y.join("")}function rl(){return re(qt)}function Lo(y){return de("authEvent",y.config.apiKey,y.name)}function ga(y){if(!(null==y?void 0:y.includes("?")))return{};const[p,...m]=y.split("?");return(0,k.zd)(m.join("?"))}function op(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ve("no-auth-event")}}function Ot(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function Sh(y=(0,k.z$)()){return!("file:"!==Ot()&&"ionic:"!==Ot()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function ri(){try{const y=self.localStorage,p=ca();if(y)return y.setItem(p,"1"),y.removeItem(p),!function Su(y=(0,k.z$)()){return function Qw(){return(0,k.w1)()&&11===(null==document?void 0:document.documentMode)}()||function ym(y=(0,k.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,k.hl)()}catch(y){return Iu()&&(0,k.hl)()}return!1}function Iu(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function or(){return(function Th(){return"http:"===Ot()||"https:"===Ot()}()||(0,k.ru)()||Sh())&&!function Tu(){return(0,k.b$)()||(0,k.UG)()}()&&ri()&&!Iu()}function mc(){return Sh()&&"undefined"!=typeof document}function Fi(){return(Fi=(0,c.Z)(function*(){return!!mc()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const Zi={LOCAL:"local",NONE:"none",SESSION:"session"},_c=ie,Ih="persistence";function Au(y){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,c.Z)(function*(y){yield y._initializationPromise;const p=cp(),m=de(Ih,y.config.apiKey,y.name);p&&p.setItem(m,y._getPersistence())})).apply(this,arguments)}function cp(){var y;try{return(null===(y=function lp(){return"undefined"!=typeof window?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch(p){return null}}const bi=ie;class as{constructor(){this.browserResolver=re(class fc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xt,this._completeRedirectFn=zn}_openPopup(p,m,w,A){var P=this;return(0,c.Z)(function*(){var z;X(null===(z=P.eventManagers[p._key()])||void 0===z?void 0:z.manager,"_initialize() not called before _openPopup()");const te=np(p,m,w,Be(),A);return function uv(y,p,m,w=500,A=600){const P=Math.max((window.screen.availHeight-A)/2,0).toString(),z=Math.max((window.screen.availWidth-w)/2,0).toString();let te="";const je=Object.assign(Object.assign({},lv),{width:w.toString(),height:A.toString(),top:P,left:z}),ot=(0,k.z$)().toLowerCase();m&&(te=Hr(ot)?"_blank":m),Et(ot)&&(p=p||"http://localhost",je.scrollbars="yes");const vt=Object.entries(je).reduce((Vn,[wi,ma])=>`${Vn}${wi}=${ma},`,"");if(function Fl(y=(0,k.z$)()){var p;return gr(y)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(ot)&&"_self"!==te)return function Zw(y,p){const m=document.createElement("a");m.href=y,m.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(w)}(p||"",te),new ep(null);const mt=window.open(p||"",te,vt);ie(mt,y,"popup-blocked");try{mt.focus()}catch(Vn){}return new ep(mt)}(p,te,ca())})()}_openRedirect(p,m,w,A){var P=this;return(0,c.Z)(function*(){return yield P._originValidation(p),function mr(y){Zt().location.href=y}(np(p,m,w,Be(),A)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:A,promise:P}=this.eventManagers[m];return A?Promise.resolve(A):(X(P,"If manager is not set, promise should be"),P)}const w=this.initAndGetManager(p);return this.eventManagers[m]={promise:w},w.catch(()=>{delete this.eventManagers[m]}),w}initAndGetManager(p){var m=this;return(0,c.Z)(function*(){const w=yield function av(y){return fh.apply(this,arguments)}(p),A=new os(p);return w.register("authEvent",P=>(ie(null==P?void 0:P.authEvent,p,"invalid-auth-event"),{status:A.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:A},m.iframes[p._key()]=w,A})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(go,{type:go},A=>{var P;const z=null===(P=null==A?void 0:A[0])||void 0===P?void 0:P[go];void 0!==z&&m(!!z),Se(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function iv(y){return pa.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return ms()||rn()||gr()}}),this.cordovaResolver=re(class wv{constructor(){this._redirectPersistence=Xt,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=zn}_initialize(p){var m=this;return(0,c.Z)(function*(){const w=p._key();let A=m.eventManagers.get(w);return A||(A=new bh(p),m.eventManagers.set(w,A),m.attachCallbackListeners(p,A)),A})()}_openPopup(p){Se(p,"operation-not-supported-in-this-environment")}_openRedirect(p,m,w,A){var P=this;return(0,c.Z)(function*(){!function ip(y){var p,m,w,A,P,z,te,je,ot,vt;const mt=pc();ie("function"==typeof(null===(p=null==mt?void 0:mt.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ie(void 0!==(null===(m=null==mt?void 0:mt.BuildInfo)||void 0===m?void 0:m.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ie("function"==typeof(null===(P=null===(A=null===(w=null==mt?void 0:mt.cordova)||void 0===w?void 0:w.plugins)||void 0===A?void 0:A.browsertab)||void 0===P?void 0:P.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ie("function"==typeof(null===(je=null===(te=null===(z=null==mt?void 0:mt.cordova)||void 0===z?void 0:z.plugins)||void 0===te?void 0:te.browsertab)||void 0===je?void 0:je.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ie("function"==typeof(null===(vt=null===(ot=null==mt?void 0:mt.cordova)||void 0===ot?void 0:ot.InAppBrowser)||void 0===vt?void 0:vt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const z=yield P._initialize(p);yield z.initialized(),z.resetRedirect(),function cc(){ni.clear()}(),yield P._originValidation(p);const te=function wh(y,p,m=null){return{type:p,eventId:m,urlResponse:null,sessionId:bv(),postBody:null,tenantId:y.tenantId,error:ve(y,"no-auth-event")}}(p,w,A);yield function Eu(y,p){return rl()._set(Lo(y),p)}(p,te);const je=yield function Yw(y,p,m){return Du.apply(this,arguments)}(p,te,m),ot=yield function mh(y){const{cordova:p}=pc();return new Promise(m=>{p.plugins.browsertab.isAvailable(w=>{let A=null;w?p.plugins.browsertab.openUrl(y):A=p.InAppBrowser.open(y,function Eo(y=(0,k.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),m(A)})})}(je);return function _h(y,p,m){return yh.apply(this,arguments)}(p,z,ot)})()}_isIframeWebStorageSupported(p,m){throw new Error("Method not implemented.")}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function mv(y){return As.apply(this,arguments)}(p)),this.originValidationPromises[m]}attachCallbackListeners(p,m){const{universalLinks:w,handleOpenURL:A,BuildInfo:P}=pc(),z=setTimeout((0,c.Z)(function*(){yield vv(p),m.onEvent(op())}),500),te=function(){var vt=(0,c.Z)(function*(mt){clearTimeout(z);const Vn=yield vv(p);let wi=null;Vn&&(null==mt?void 0:mt.url)&&(wi=function Ch(y,p){var m,w;const A=function Eh(y){const p=ga(y),m=p.link?decodeURIComponent(p.link):void 0,w=ga(m).link,A=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return ga(A).link||A||w||m||y}(p);if(A.includes("/__/auth/callback")){const P=ga(A),z=P.firebaseError?function Dh(y){try{return JSON.parse(y)}catch(p){return null}}(decodeURIComponent(P.firebaseError)):null,te=null===(w=null===(m=null==z?void 0:z.code)||void 0===m?void 0:m.split("auth/"))||void 0===w?void 0:w[1],je=te?ve(te):null;return je?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:je,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:A,postBody:null}}return null}(Vn,mt.url)),m.onEvent(wi||op())});return function(Vn){return vt.apply(this,arguments)}}();void 0!==w&&"function"==typeof w.subscribe&&w.subscribe(null,te);const je=A,ot=`${P.packageName.toLowerCase()}://`;pc().handleOpenURL=function(){var vt=(0,c.Z)(function*(mt){if(mt.toLowerCase().startsWith(ot)&&te({url:mt}),"function"==typeof je)try{je(mt)}catch(Vn){console.error(Vn)}});return function(mt){return vt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Xt,this._completeRedirectFn=zn}_initialize(p){var m=this;return(0,c.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,m,w,A){var P=this;return(0,c.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openPopup(p,m,w,A)})()}_openRedirect(p,m,w,A){var P=this;return(0,c.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openRedirect(p,m,w,A)})()}_isIframeWebStorageSupported(p,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,m)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return mc()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return bi(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,c.Z)(function*(){if(p.underlyingResolver)return;const m=yield function un(){return Fi.apply(this,arguments)}();p.underlyingResolver=m?p.cordovaResolver:p.browserResolver})()}}function ii(y){return y.unwrap()}function Ah(y){return dp(y)}function dp(y){const{_tokenResponse:p}=y instanceof k.ZR?y.customData:y;if(!p)return null;if(!(y instanceof k.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return qi.credentialFromResult(y);const m=p.providerId;if(!m||"password"===m)return null;let w;switch(m){case"google.com":w=Ha;break;case"facebook.com":w=Io;break;case"github.com":w=Zd;break;case"twitter.com":w=Hl;break;default:const{oauthIdToken:A,oauthAccessToken:P,oauthTokenSecret:z,pendingToken:te,nonce:je}=p;return P||z||A||te?te?m.startsWith("saml.")?sr._create(m,te):vs._fromParams({providerId:m,signInMethod:m,pendingToken:te,idToken:A,accessToken:P}):new Ys(m).credential({idToken:A,accessToken:P,rawNonce:je}):null}return y instanceof k.ZR?w.credentialFromError(y):w.credentialFromResult(y)}function Or(y,p){return p.catch(m=>{throw m instanceof k.ZR&&function up(y,p){var m;const w=null===(m=p.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===p.code)p.resolver=new Ev(y,function rc(y,p){var m;const w=(0,k.m9)(y),A=p;return ie(p.customData.operationType,w,"argument-error"),ie(null===(m=A.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,w,"argument-error"),za._fromError(w,A)}(y,p));else if(w){const A=dp(p),P=p;A&&(P.credential=A,P.tenantId=w.tenantId||void 0,P.email=w.email||void 0,P.phoneNumber=w.phoneNumber||void 0)}}(y,m),m}).then(m=>{const A=m.user;return{operationType:m.operationType,credential:Ah(m),additionalUserInfo:qr(m),user:Vo.getOrCreate(A)}})}function Nh(y,p){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,c.Z)(function*(y,p){const m=yield p;return{verificationId:m.verificationId,confirm:w=>Or(y,m.confirm(w))}})).apply(this,arguments)}class Ev{constructor(p,m){this.resolver=m,this.auth=function vm(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Or(ii(this.auth),this.resolver.resolveSignIn(p))}}class Vo{constructor(p){this._delegate=p,this.multiFactor=function th(y){const p=(0,k.m9)(y);return la.has(p)||la.set(p,Ds._fromUser(p)),la.get(p)}(p)}static getOrCreate(p){return Vo.USER_MAP.has(p)||Vo.USER_MAP.set(p,new Vo(p)),Vo.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var m=this;return(0,c.Z)(function*(){return Or(m.auth,$i(m._delegate,p))})()}linkWithPhoneNumber(p,m){var w=this;return(0,c.Z)(function*(){return Nh(w.auth,function da(y,p,m){return ho.apply(this,arguments)}(w._delegate,p,m))})()}linkWithPopup(p){var m=this;return(0,c.Z)(function*(){return Or(m.auth,function Yf(y,p,m){return _u.apply(this,arguments)}(m._delegate,p,as))})()}linkWithRedirect(p){var m=this;return(0,c.Z)(function*(){return yield Au(Fe(m.auth)),function ct(y,p,m){return function It(y,p,m){return zt.apply(this,arguments)}(y,p,m)}(m._delegate,p,as)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var m=this;return(0,c.Z)(function*(){return Or(m.auth,Xs(m._delegate,p))})()}reauthenticateWithPhoneNumber(p,m){return Nh(this.auth,function um(y,p,m){return gu.apply(this,arguments)}(this._delegate,p,m))}reauthenticateWithPopup(p){return Or(this.auth,function Ro(y,p,m){return ac.apply(this,arguments)}(this._delegate,p,as))}reauthenticateWithRedirect(p){var m=this;return(0,c.Z)(function*(){return yield Au(Fe(m.auth)),function ne(y,p,m){return function xe(y,p,m){return nt.apply(this,arguments)}(y,p,m)}(m._delegate,p,as)})()}sendEmailVerification(p){return function Gi(y,p){return ru.apply(this,arguments)}(this._delegate,p)}unlink(p){var m=this;return(0,c.Z)(function*(){return yield function $a(y,p){return Yc.apply(this,arguments)}(m._delegate,p),m})()}updateEmail(p){return function ou(y,p){return nc((0,k.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function Yd(y,p){return nc((0,k.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function ah(y,p){return fo.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function aa(y,p){return su.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,m){return function ec(y,p,m){return tc.apply(this,arguments)}(this._delegate,p,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Vo.USER_MAP=new WeakMap;const mo=ie;let Mh=(()=>{class y{constructor(m,w){if(this.app=m,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:A}=m.options;mo(A,"invalid-api-key",{appName:m.name}),mo(A,"invalid-api-key",{appName:m.name});const P="undefined"!=typeof window?as:void 0;this._delegate=w.initialize({options:{persistence:bm(A,m.name),popupRedirectResolver:P}}),this._delegate._updateErrorMap(ke),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Vo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,w){!function Cn(y,p,m){const w=Fe(y);ie(w._canInitEmulator,w,"emulator-config-failed"),ie(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const A=!!(null==m?void 0:m.disableWarnings),P=Sr(p),{host:z,port:te}=function Gs(y){const p=Sr(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!m)return{host:"",port:null};const w=m[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(w);if(A){const P=A[1];return{host:P,port:Qn(w.substr(P.length+1))}}{const[P,z]=w.split(":");return{host:P,port:Qn(z)}}}(p);w.config.emulator={url:`${P}//${z}${null===te?"":`:${te}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:z,port:te,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function ns(){function y(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,m,w)}applyActionCode(m){return function Jc(y,p){return De.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return jt(this._delegate,m)}confirmPasswordReset(m,w){return function Ql(y,p,m){return Qc.apply(this,arguments)}(this._delegate,m,w)}createUserWithEmailAndPassword(m,w){var A=this;return(0,c.Z)(function*(){return Or(A._delegate,function oa(y,p,m){return hi.apply(this,arguments)}(A._delegate,m,w))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Xl(y,p){return ro.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function nu(y,p){const m=So.parseLink(p);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,c.Z)(function*(){mo(or(),m._delegate,"operation-not-supported-in-this-environment");const w=yield function Pt(y,p){return Zn.apply(this,arguments)}(m._delegate,as);return w?Or(m._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function Cv(y,p){Fe(y)._logFramework(p)}(this._delegate,m)}onAuthStateChanged(m,w,A){const{next:P,error:z,complete:te}=Oh(m,w,A);return this._delegate.onAuthStateChanged(P,z,te)}onIdTokenChanged(m,w,A){const{next:P,error:z,complete:te}=Oh(m,w,A);return this._delegate.onIdTokenChanged(P,z,te)}sendSignInLinkToEmail(m,w){return function tu(y,p,m){return Kd.apply(this,arguments)}(this._delegate,m,w)}sendPasswordResetEmail(m,w){return function Kl(y,p,m){return Yl.apply(this,arguments)}(this._delegate,m,w||void 0)}setPersistence(m){var w=this;return(0,c.Z)(function*(){let A;switch(function Dv(y,p){_c(Object.values(Zi).includes(p),y,"invalid-persistence-type"),(0,k.b$)()?_c(p!==Zi.SESSION,y,"unsupported-persistence-type"):(0,k.UG)()?_c(p===Zi.NONE,y,"unsupported-persistence-type"):Iu()?_c(p===Zi.NONE||p===Zi.LOCAL&&(0,k.hl)(),y,"unsupported-persistence-type"):_c(p===Zi.NONE||ri(),y,"unsupported-persistence-type")}(w._delegate,m),m){case Zi.SESSION:A=Xt;break;case Zi.LOCAL:A=(yield re(gi)._isAvailable())?gi:qt;break;case Zi.NONE:A=q;break;default:return Se("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(A)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Or(this._delegate,function Gl(y){return zd.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Or(this._delegate,$n(this._delegate,m))}signInWithCustomToken(m){return Or(this._delegate,function eo(y,p){return to.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,w){return Or(this._delegate,function eu(y,p,m){return $n((0,k.m9)(y),Kc.credential(p,m))}(this._delegate,m,w))}signInWithEmailLink(m,w){return Or(this._delegate,function Jl(y,p,m){return no.apply(this,arguments)}(this._delegate,m,w))}signInWithPhoneNumber(m,w){return Nh(this._delegate,function _r(y,p,m){return ln.apply(this,arguments)}(this._delegate,m,w))}signInWithPopup(m){var w=this;return(0,c.Z)(function*(){return mo(or(),w._delegate,"operation-not-supported-in-this-environment"),Or(w._delegate,function po(y,p,m){return ch.apply(this,arguments)}(w._delegate,m,as))})()}signInWithRedirect(m){var w=this;return(0,c.Z)(function*(){return mo(or(),w._delegate,"operation-not-supported-in-this-environment"),yield Au(w._delegate),function O(y,p,m){return function V(y,p,m){return W.apply(this,arguments)}(y,p,m)}(w._delegate,m,as)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function In(y,p){return sa.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Zi,y})();function Oh(y,p,m){let w=y;"function"!=typeof y&&({next:w,error:p,complete:m}=y);const A=w;return{next:z=>A(z&&Vo.getOrCreate(z)),error:p,complete:m}}function bm(y,p){const m=function Mu(y,p){const m=cp();if(!m)return[];const w=de(Ih,y,p);switch(m.getItem(w)){case Zi.NONE:return[q];case Zi.LOCAL:return[gi,Xt];case Zi.SESSION:return[Xt];default:return[]}}(y,p);if("undefined"!=typeof self&&!m.includes(gi)&&m.push(gi),"undefined"!=typeof window)for(const w of[qt,Xt])m.includes(w)||m.push(w);return m.includes(q)||m.push(q),m}class hp{constructor(){this.providerId="phone",this._delegate=new qi(ii(Y.Z.auth()))}static credential(p,m){return qi.credential(p,m)}verifyPhoneNumber(p,m){return this._delegate.verifyPhoneNumber(p,m)}unwrap(){return this._delegate}}hp.PHONE_SIGN_IN_METHOD=qi.PHONE_SIGN_IN_METHOD,hp.PROVIDER_ID=qi.PROVIDER_ID;const wm=ie;class xh{constructor(p,m,w=Y.Z.app()){var A;wm(null===(A=w.options)||void 0===A?void 0:A.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new Kf(p,m,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function fp(y){y.INTERNAL.registerComponent(new oe.wA("auth-compat",p=>{const m=p.getProvider("app-compat").getImmediate(),w=p.getProvider("auth");return new Mh(m,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Kc,FacebookAuthProvider:Io,GithubAuthProvider:Zd,GoogleAuthProvider:Ha,OAuthProvider:Ys,SAMLAuthProvider:xi,PhoneAuthProvider:hp,PhoneMultiFactorGenerator:_m,RecaptchaVerifier:xh,TwitterAuthProvider:Hl,Auth:Mh,AuthCredential:mn,Error:k.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.12")}(Y.Z)},8306:(ft,Ee,R)=>{R.d(Ee,{y:()=>$});var c=R(930),Y=R(727),k=R(8822),ae=R(4671);var oe=R(2416),he=R(576),ue=R(2806);let $=(()=>{class Ne{constructor(Ue){Ue&&(this._subscribe=Ue)}lift(Ue){const fe=new Ne;return fe.source=this,fe.operator=Ue,fe}subscribe(Ue,fe,we){const st=function Ye(Ne){return Ne&&Ne instanceof c.Lv||function J(Ne){return Ne&&(0,he.m)(Ne.next)&&(0,he.m)(Ne.error)&&(0,he.m)(Ne.complete)}(Ne)&&(0,Y.Nn)(Ne)}(Ue)?Ue:new c.Hp(Ue,fe,we);return(0,ue.x)(()=>{const{operator:et,source:Se}=this;st.add(et?et.call(st,Se):Se?this._subscribe(st):this._trySubscribe(st))}),st}_trySubscribe(Ue){try{return this._subscribe(Ue)}catch(fe){Ue.error(fe)}}forEach(Ue,fe){return new(fe=G(fe))((we,st)=>{const et=new c.Hp({next:Se=>{try{Ue(Se)}catch(ve){st(ve),et.unsubscribe()}},error:st,complete:we});this.subscribe(et)})}_subscribe(Ue){var fe;return null===(fe=this.source)||void 0===fe?void 0:fe.subscribe(Ue)}[k.L](){return this}pipe(...Ue){return function ge(Ne){return 0===Ne.length?ae.y:1===Ne.length?Ne[0]:function(Ue){return Ne.reduce((fe,we)=>we(fe),Ue)}}(Ue)(this)}toPromise(Ue){return new(Ue=G(Ue))((fe,we)=>{let st;this.subscribe(et=>st=et,et=>we(et),()=>fe(st))})}}return Ne.create=ke=>new Ne(ke),Ne})();function G(Ne){var ke;return null!==(ke=null!=Ne?Ne:oe.v.Promise)&&void 0!==ke?ke:Promise}},7579:(ft,Ee,R)=>{R.d(Ee,{x:()=>oe});var c=R(8306),Y=R(727);const ae=(0,R(3888).d)(ue=>function(){ue(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ee=R(8737),ge=R(2806);let oe=(()=>{class ue extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const J=new he(this,this);return J.operator=G,J}_throwIfClosed(){if(this.closed)throw new ae}next(G){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const J of this.currentObservers)J.next(G)}})}error(G){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:J}=this;for(;J.length;)J.shift().error(G)}})}complete(){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:J,isStopped:Ye,observers:Ne}=this;return J||Ye?Y.Lc:(this.currentObservers=null,Ne.push(G),new Y.w0(()=>{this.currentObservers=null,(0,ee.P)(Ne,G)}))}_checkFinalizedStatuses(G){const{hasError:J,thrownError:Ye,isStopped:Ne}=this;J?G.error(Ye):Ne&&G.complete()}asObservable(){const G=new c.y;return G.source=this,G}}return ue.create=($,G)=>new he($,G),ue})();class he extends oe{constructor($,G){super(),this.destination=$,this.source=G}next($){var G,J;null===(J=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===J||J.call(G,$)}error($){var G,J;null===(J=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===J||J.call(G,$)}complete(){var $,G;null===(G=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===G||G.call($)}_subscribe($){var G,J;return null!==(J=null===(G=this.source)||void 0===G?void 0:G.subscribe($))&&void 0!==J?J:Y.Lc}}},930:(ft,Ee,R)=>{R.d(Ee,{Hp:()=>Ue,Lv:()=>J});var c=R(576),Y=R(727),k=R(2416),ae=R(7849),ee=R(5032);const ge=ue("C",void 0,void 0);function ue(Se,ve,be){return{kind:Se,value:ve,error:be}}var $=R(3410),G=R(2806);class J extends Y.w0{constructor(ve){super(),this.isStopped=!1,ve?(this.destination=ve,(0,Y.Nn)(ve)&&ve.add(this)):this.destination=et}static create(ve,be,We){return new Ue(ve,be,We)}next(ve){this.isStopped?st(function he(Se){return ue("N",Se,void 0)}(ve),this):this._next(ve)}error(ve){this.isStopped?st(function oe(Se){return ue("E",void 0,Se)}(ve),this):(this.isStopped=!0,this._error(ve))}complete(){this.isStopped?st(ge,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ve){this.destination.next(ve)}_error(ve){try{this.destination.error(ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ye=Function.prototype.bind;function Ne(Se,ve){return Ye.call(Se,ve)}class ke{constructor(ve){this.partialObserver=ve}next(ve){const{partialObserver:be}=this;if(be.next)try{be.next(ve)}catch(We){fe(We)}}error(ve){const{partialObserver:be}=this;if(be.error)try{be.error(ve)}catch(We){fe(We)}else fe(ve)}complete(){const{partialObserver:ve}=this;if(ve.complete)try{ve.complete()}catch(be){fe(be)}}}class Ue extends J{constructor(ve,be,We){let qe;if(super(),(0,c.m)(ve)||!ve)qe={next:null!=ve?ve:void 0,error:null!=be?be:void 0,complete:null!=We?We:void 0};else{let ie;this&&k.v.useDeprecatedNextContext?(ie=Object.create(ve),ie.unsubscribe=()=>this.unsubscribe(),qe={next:ve.next&&Ne(ve.next,ie),error:ve.error&&Ne(ve.error,ie),complete:ve.complete&&Ne(ve.complete,ie)}):qe=ve}this.destination=new ke(qe)}}function fe(Se){k.v.useDeprecatedSynchronousErrorHandling?(0,G.O)(Se):(0,ae.h)(Se)}function st(Se,ve){const{onStoppedNotification:be}=k.v;be&&$.z.setTimeout(()=>be(Se,ve))}const et={closed:!0,next:ee.Z,error:function we(Se){throw Se},complete:ee.Z}},727:(ft,Ee,R)=>{R.d(Ee,{Lc:()=>ge,w0:()=>ee,Nn:()=>oe});var c=R(576);const k=(0,R(3888).d)(ue=>function(G){ue(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((J,Ye)=>`${Ye+1}) ${J.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var ae=R(8737);class ee{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const Ne of G)Ne.remove(this);else G.remove(this);const{initialTeardown:J}=this;if((0,c.m)(J))try{J()}catch(Ne){$=Ne instanceof k?Ne.errors:[Ne]}const{_finalizers:Ye}=this;if(Ye){this._finalizers=null;for(const Ne of Ye)try{he(Ne)}catch(ke){$=null!=$?$:[],ke instanceof k?$=[...$,...ke.errors]:$.push(ke)}}if($)throw new k($)}}add($){var G;if($&&$!==this)if(this.closed)he($);else{if($ instanceof ee){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._finalizers=null!==(G=this._finalizers)&&void 0!==G?G:[]).push($)}}_hasParent($){const{_parentage:G}=this;return G===$||Array.isArray(G)&&G.includes($)}_addParent($){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push($),G):G?[G,$]:$}_removeParent($){const{_parentage:G}=this;G===$?this._parentage=null:Array.isArray(G)&&(0,ae.P)(G,$)}remove($){const{_finalizers:G}=this;G&&(0,ae.P)(G,$),$ instanceof ee&&$._removeParent(this)}}ee.EMPTY=(()=>{const ue=new ee;return ue.closed=!0,ue})();const ge=ee.EMPTY;function oe(ue){return ue instanceof ee||ue&&"closed"in ue&&(0,c.m)(ue.remove)&&(0,c.m)(ue.add)&&(0,c.m)(ue.unsubscribe)}function he(ue){(0,c.m)(ue)?ue():ue.unsubscribe()}},2416:(ft,Ee,R)=>{R.d(Ee,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ft,Ee,R)=>{R.d(Ee,{E:()=>Y});const Y=new(R(8306).y)(ee=>ee.complete())},8996:(ft,Ee,R)=>{R.d(Ee,{D:()=>ve});var c=R(8421),Y=R(5363),k=R(9468),ge=R(8306),he=R(2202),ue=R(576),$=R(9672);function J(be,We){if(!be)throw new Error("Iterable cannot be null");return new ge.y(qe=>{(0,$.f)(qe,We,()=>{const ie=be[Symbol.asyncIterator]();(0,$.f)(qe,We,()=>{ie.next().then(Je=>{Je.done?qe.complete():qe.next(Je.value)})},0,!0)})})}var Ye=R(3670),Ne=R(8239),ke=R(1144),Ue=R(6495),fe=R(2206),we=R(4532),st=R(3260);function ve(be,We){return We?function Se(be,We){if(null!=be){if((0,Ye.c)(be))return function ae(be,We){return(0,c.Xf)(be).pipe((0,k.R)(We),(0,Y.Q)(We))}(be,We);if((0,ke.z)(be))return function oe(be,We){return new ge.y(qe=>{let ie=0;return We.schedule(function(){ie===be.length?qe.complete():(qe.next(be[ie++]),qe.closed||this.schedule())})})}(be,We);if((0,Ne.t)(be))return function ee(be,We){return(0,c.Xf)(be).pipe((0,k.R)(We),(0,Y.Q)(We))}(be,We);if((0,fe.D)(be))return J(be,We);if((0,Ue.T)(be))return function G(be,We){return new ge.y(qe=>{let ie;return(0,$.f)(qe,We,()=>{ie=be[he.h](),(0,$.f)(qe,We,()=>{let Je,X;try{({value:Je,done:X}=ie.next())}catch(le){return void qe.error(le)}X?qe.complete():qe.next(Je)},0,!0)}),()=>(0,ue.m)(null==ie?void 0:ie.return)&&ie.return()})}(be,We);if((0,st.L)(be))return function et(be,We){return J((0,st.Q)(be),We)}(be,We)}throw(0,we.z)(be)}(be,We):(0,c.Xf)(be)}},8421:(ft,Ee,R)=>{R.d(Ee,{Xf:()=>Ye});var c=R(655),Y=R(1144),k=R(8239),ae=R(8306),ee=R(3670),ge=R(2206),oe=R(4532),he=R(6495),ue=R(3260),$=R(576),G=R(7849),J=R(8822);function Ye(Se){if(Se instanceof ae.y)return Se;if(null!=Se){if((0,ee.c)(Se))return function Ne(Se){return new ae.y(ve=>{const be=Se[J.L]();if((0,$.m)(be.subscribe))return be.subscribe(ve);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Se);if((0,Y.z)(Se))return function ke(Se){return new ae.y(ve=>{for(let be=0;be<Se.length&&!ve.closed;be++)ve.next(Se[be]);ve.complete()})}(Se);if((0,k.t)(Se))return function Ue(Se){return new ae.y(ve=>{Se.then(be=>{ve.closed||(ve.next(be),ve.complete())},be=>ve.error(be)).then(null,G.h)})}(Se);if((0,ge.D)(Se))return we(Se);if((0,he.T)(Se))return function fe(Se){return new ae.y(ve=>{for(const be of Se)if(ve.next(be),ve.closed)return;ve.complete()})}(Se);if((0,ue.L)(Se))return function st(Se){return we((0,ue.Q)(Se))}(Se)}throw(0,oe.z)(Se)}function we(Se){return new ae.y(ve=>{(function et(Se,ve){var be,We,qe,ie;return(0,c.mG)(this,void 0,void 0,function*(){try{for(be=(0,c.KL)(Se);!(We=yield be.next()).done;)if(ve.next(We.value),ve.closed)return}catch(Je){qe={error:Je}}finally{try{We&&!We.done&&(ie=be.return)&&(yield ie.call(be))}finally{if(qe)throw qe.error}}ve.complete()})})(Se,ve).catch(be=>ve.error(be))})}},6451:(ft,Ee,R)=>{R.d(Ee,{T:()=>ge});var c=R(8189),Y=R(8421),k=R(515),ae=R(3269),ee=R(8996);function ge(...oe){const he=(0,ae.yG)(oe),ue=(0,ae._6)(oe,1/0),$=oe;return $.length?1===$.length?(0,Y.Xf)($[0]):(0,c.J)(ue)((0,ee.D)($,he)):k.E}},5403:(ft,Ee,R)=>{R.d(Ee,{x:()=>Y});var c=R(930);function Y(ae,ee,ge,oe,he){return new k(ae,ee,ge,oe,he)}class k extends c.Lv{constructor(ee,ge,oe,he,ue,$){super(ee),this.onFinalize=ue,this.shouldUnsubscribe=$,this._next=ge?function(G){try{ge(G)}catch(J){ee.error(J)}}:super._next,this._error=he?function(G){try{he(G)}catch(J){ee.error(J)}finally{this.unsubscribe()}}:super._error,this._complete=oe?function(){try{oe()}catch(G){ee.error(G)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ee;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ge}=this;super.unsubscribe(),!ge&&(null===(ee=this.onFinalize)||void 0===ee||ee.call(this))}}}},4004:(ft,Ee,R)=>{R.d(Ee,{U:()=>k});var c=R(4482),Y=R(5403);function k(ae,ee){return(0,c.e)((ge,oe)=>{let he=0;ge.subscribe((0,Y.x)(oe,ue=>{oe.next(ae.call(ee,ue,he++))}))})}},8189:(ft,Ee,R)=>{R.d(Ee,{J:()=>k});var c=R(5577),Y=R(4671);function k(ae=1/0){return(0,c.z)(Y.y,ae)}},5577:(ft,Ee,R)=>{R.d(Ee,{z:()=>he});var c=R(4004),Y=R(8421),k=R(4482),ae=R(9672),ee=R(5403),oe=R(576);function he(ue,$,G=1/0){return(0,oe.m)($)?he((J,Ye)=>(0,c.U)((Ne,ke)=>$(J,Ne,Ye,ke))((0,Y.Xf)(ue(J,Ye))),G):("number"==typeof $&&(G=$),(0,k.e)((J,Ye)=>function ge(ue,$,G,J,Ye,Ne,ke,Ue){const fe=[];let we=0,st=0,et=!1;const Se=()=>{et&&!fe.length&&!we&&$.complete()},ve=We=>we<J?be(We):fe.push(We),be=We=>{Ne&&$.next(We),we++;let qe=!1;(0,Y.Xf)(G(We,st++)).subscribe((0,ee.x)($,ie=>{null==Ye||Ye(ie),Ne?ve(ie):$.next(ie)},()=>{qe=!0},void 0,()=>{if(qe)try{for(we--;fe.length&&we<J;){const ie=fe.shift();ke?(0,ae.f)($,ke,()=>be(ie)):be(ie)}Se()}catch(ie){$.error(ie)}}))};return ue.subscribe((0,ee.x)($,ve,()=>{et=!0,Se()})),()=>{null==Ue||Ue()}}(J,Ye,ue,G)))}},5363:(ft,Ee,R)=>{R.d(Ee,{Q:()=>ae});var c=R(9672),Y=R(4482),k=R(5403);function ae(ee,ge=0){return(0,Y.e)((oe,he)=>{oe.subscribe((0,k.x)(he,ue=>(0,c.f)(he,ee,()=>he.next(ue),ge),()=>(0,c.f)(he,ee,()=>he.complete(),ge),ue=>(0,c.f)(he,ee,()=>he.error(ue),ge)))})}},3099:(ft,Ee,R)=>{R.d(Ee,{B:()=>ge});var c=R(8996),Y=R(5698),k=R(7579),ae=R(930),ee=R(4482);function ge(he={}){const{connector:ue=(()=>new k.x),resetOnError:$=!0,resetOnComplete:G=!0,resetOnRefCountZero:J=!0}=he;return Ye=>{let Ne=null,ke=null,Ue=null,fe=0,we=!1,st=!1;const et=()=>{null==ke||ke.unsubscribe(),ke=null},Se=()=>{et(),Ne=Ue=null,we=st=!1},ve=()=>{const be=Ne;Se(),null==be||be.unsubscribe()};return(0,ee.e)((be,We)=>{fe++,!st&&!we&&et();const qe=Ue=null!=Ue?Ue:ue();We.add(()=>{fe--,0===fe&&!st&&!we&&(ke=oe(ve,J))}),qe.subscribe(We),Ne||(Ne=new ae.Hp({next:ie=>qe.next(ie),error:ie=>{st=!0,et(),ke=oe(Se,$,ie),qe.error(ie)},complete:()=>{we=!0,et(),ke=oe(Se,G),qe.complete()}}),(0,c.D)(be).subscribe(Ne))})(Ye)}}function oe(he,ue,...$){return!0===ue?(he(),null):!1===ue?null:ue(...$).pipe((0,Y.q)(1)).subscribe(()=>he())}},9468:(ft,Ee,R)=>{R.d(Ee,{R:()=>Y});var c=R(4482);function Y(k,ae=0){return(0,c.e)((ee,ge)=>{ge.add(k.schedule(()=>ee.subscribe(ge),ae))})}},5698:(ft,Ee,R)=>{R.d(Ee,{q:()=>ae});var c=R(515),Y=R(4482),k=R(5403);function ae(ee){return ee<=0?()=>c.E:(0,Y.e)((ge,oe)=>{let he=0;ge.subscribe((0,k.x)(oe,ue=>{++he<=ee&&(oe.next(ue),ee<=he&&oe.complete())}))})}},8505:(ft,Ee,R)=>{R.d(Ee,{b:()=>ee});var c=R(576),Y=R(4482),k=R(5403),ae=R(4671);function ee(ge,oe,he){const ue=(0,c.m)(ge)||oe||he?{next:ge,error:oe,complete:he}:ge;return ue?(0,Y.e)(($,G)=>{var J;null===(J=ue.subscribe)||void 0===J||J.call(ue);let Ye=!0;$.subscribe((0,k.x)(G,Ne=>{var ke;null===(ke=ue.next)||void 0===ke||ke.call(ue,Ne),G.next(Ne)},()=>{var Ne;Ye=!1,null===(Ne=ue.complete)||void 0===Ne||Ne.call(ue),G.complete()},Ne=>{var ke;Ye=!1,null===(ke=ue.error)||void 0===ke||ke.call(ue,Ne),G.error(Ne)},()=>{var Ne,ke;Ye&&(null===(Ne=ue.unsubscribe)||void 0===Ne||Ne.call(ue)),null===(ke=ue.finalize)||void 0===ke||ke.call(ue)}))}):ae.y}},4408:(ft,Ee,R)=>{R.d(Ee,{o:()=>ee});var c=R(727);class Y extends c.w0{constructor(oe,he){super()}schedule(oe,he=0){return this}}const k={setInterval(ge,oe,...he){const{delegate:ue}=k;return(null==ue?void 0:ue.setInterval)?ue.setInterval(ge,oe,...he):setInterval(ge,oe,...he)},clearInterval(ge){const{delegate:oe}=k;return((null==oe?void 0:oe.clearInterval)||clearInterval)(ge)},delegate:void 0};var ae=R(8737);class ee extends Y{constructor(oe,he){super(oe,he),this.scheduler=oe,this.work=he,this.pending=!1}schedule(oe,he=0){if(this.closed)return this;this.state=oe;const ue=this.id,$=this.scheduler;return null!=ue&&(this.id=this.recycleAsyncId($,ue,he)),this.pending=!0,this.delay=he,this.id=this.id||this.requestAsyncId($,this.id,he),this}requestAsyncId(oe,he,ue=0){return k.setInterval(oe.flush.bind(oe,this),ue)}recycleAsyncId(oe,he,ue=0){if(null!=ue&&this.delay===ue&&!1===this.pending)return he;k.clearInterval(he)}execute(oe,he){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ue=this._execute(oe,he);if(ue)return ue;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(oe,he){let $,ue=!1;try{this.work(oe)}catch(G){ue=!0,$=G||new Error("Scheduled action threw falsy error")}if(ue)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:oe,scheduler:he}=this,{actions:ue}=he;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(ue,this),null!=oe&&(this.id=this.recycleAsyncId(he,oe,null)),this.delay=null,super.unsubscribe()}}}},7565:(ft,Ee,R)=>{R.d(Ee,{v:()=>k});var c=R(6063);class Y{constructor(ee,ge=Y.now){this.schedulerActionCtor=ee,this.now=ge}schedule(ee,ge=0,oe){return new this.schedulerActionCtor(this,ee).schedule(oe,ge)}}Y.now=c.l.now;class k extends Y{constructor(ee,ge=Y.now){super(ee,ge),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ee){const{actions:ge}=this;if(this._active)return void ge.push(ee);let oe;this._active=!0;do{if(oe=ee.execute(ee.state,ee.delay))break}while(ee=ge.shift());if(this._active=!1,oe){for(;ee=ge.shift();)ee.unsubscribe();throw oe}}}},4986:(ft,Ee,R)=>{R.d(Ee,{P:()=>ae,z:()=>k});var c=R(4408);const k=new(R(7565).v)(c.o),ae=k},6063:(ft,Ee,R)=>{R.d(Ee,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(ft,Ee,R)=>{R.d(Ee,{z:()=>c});const c={setTimeout(Y,k,...ae){const{delegate:ee}=c;return(null==ee?void 0:ee.setTimeout)?ee.setTimeout(Y,k,...ae):setTimeout(Y,k,...ae)},clearTimeout(Y){const{delegate:k}=c;return((null==k?void 0:k.clearTimeout)||clearTimeout)(Y)},delegate:void 0}},2202:(ft,Ee,R)=>{R.d(Ee,{h:()=>Y});const Y=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ft,Ee,R)=>{R.d(Ee,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(ft,Ee,R)=>{R.d(Ee,{_6:()=>ge,jO:()=>ae,yG:()=>ee});var c=R(576),Y=R(3532);function k(oe){return oe[oe.length-1]}function ae(oe){return(0,c.m)(k(oe))?oe.pop():void 0}function ee(oe){return(0,Y.K)(k(oe))?oe.pop():void 0}function ge(oe,he){return"number"==typeof k(oe)?oe.pop():he}},8737:(ft,Ee,R)=>{function c(Y,k){if(Y){const ae=Y.indexOf(k);0<=ae&&Y.splice(ae,1)}}R.d(Ee,{P:()=>c})},3888:(ft,Ee,R)=>{function c(Y){const ae=Y(ee=>{Error.call(ee),ee.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}R.d(Ee,{d:()=>c})},2806:(ft,Ee,R)=>{R.d(Ee,{O:()=>ae,x:()=>k});var c=R(2416);let Y=null;function k(ee){if(c.v.useDeprecatedSynchronousErrorHandling){const ge=!Y;if(ge&&(Y={errorThrown:!1,error:null}),ee(),ge){const{errorThrown:oe,error:he}=Y;if(Y=null,oe)throw he}}else ee()}function ae(ee){c.v.useDeprecatedSynchronousErrorHandling&&Y&&(Y.errorThrown=!0,Y.error=ee)}},9672:(ft,Ee,R)=>{function c(Y,k,ae,ee=0,ge=!1){const oe=k.schedule(function(){ae(),ge?Y.add(this.schedule(null,ee)):this.unsubscribe()},ee);if(Y.add(oe),!ge)return oe}R.d(Ee,{f:()=>c})},4671:(ft,Ee,R)=>{function c(Y){return Y}R.d(Ee,{y:()=>c})},1144:(ft,Ee,R)=>{R.d(Ee,{z:()=>c});const c=Y=>Y&&"number"==typeof Y.length&&"function"!=typeof Y},2206:(ft,Ee,R)=>{R.d(Ee,{D:()=>Y});var c=R(576);function Y(k){return Symbol.asyncIterator&&(0,c.m)(null==k?void 0:k[Symbol.asyncIterator])}},576:(ft,Ee,R)=>{function c(Y){return"function"==typeof Y}R.d(Ee,{m:()=>c})},3670:(ft,Ee,R)=>{R.d(Ee,{c:()=>k});var c=R(8822),Y=R(576);function k(ae){return(0,Y.m)(ae[c.L])}},6495:(ft,Ee,R)=>{R.d(Ee,{T:()=>k});var c=R(2202),Y=R(576);function k(ae){return(0,Y.m)(null==ae?void 0:ae[c.h])}},8239:(ft,Ee,R)=>{R.d(Ee,{t:()=>Y});var c=R(576);function Y(k){return(0,c.m)(null==k?void 0:k.then)}},3260:(ft,Ee,R)=>{R.d(Ee,{L:()=>ae,Q:()=>k});var c=R(655),Y=R(576);function k(ee){return(0,c.FC)(this,arguments,function*(){const oe=ee.getReader();try{for(;;){const{value:he,done:ue}=yield(0,c.qq)(oe.read());if(ue)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(he)}}finally{oe.releaseLock()}})}function ae(ee){return(0,Y.m)(null==ee?void 0:ee.getReader)}},3532:(ft,Ee,R)=>{R.d(Ee,{K:()=>Y});var c=R(576);function Y(k){return k&&(0,c.m)(k.schedule)}},4482:(ft,Ee,R)=>{R.d(Ee,{A:()=>Y,e:()=>k});var c=R(576);function Y(ae){return(0,c.m)(null==ae?void 0:ae.lift)}function k(ae){return ee=>{if(Y(ee))return ee.lift(function(ge){try{return ae(ge,this)}catch(oe){this.error(oe)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ft,Ee,R)=>{function c(){}R.d(Ee,{Z:()=>c})},7849:(ft,Ee,R)=>{R.d(Ee,{h:()=>k});var c=R(2416),Y=R(3410);function k(ae){Y.z.setTimeout(()=>{const{onUnhandledError:ee}=c.v;if(!ee)throw ae;ee(ae)})}},4532:(ft,Ee,R)=>{function c(Y){return new TypeError(`You provided ${null!==Y&&"object"==typeof Y?"an invalid object":`'${Y}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(Ee,{z:()=>c})},655:(ft,Ee,R)=>{function ae(X,le){var re={};for(var Ce in X)Object.prototype.hasOwnProperty.call(X,Ce)&&le.indexOf(Ce)<0&&(re[Ce]=X[Ce]);if(null!=X&&"function"==typeof Object.getOwnPropertySymbols){var me=0;for(Ce=Object.getOwnPropertySymbols(X);me<Ce.length;me++)le.indexOf(Ce[me])<0&&Object.prototype.propertyIsEnumerable.call(X,Ce[me])&&(re[Ce[me]]=X[Ce[me]])}return re}function he(X,le,re,Ce){return new(re||(re=Promise))(function(Be,Rt){function en(Kt){try{Ke(Ce.next(Kt))}catch(hr){Rt(hr)}}function gn(Kt){try{Ke(Ce.throw(Kt))}catch(hr){Rt(hr)}}function Ke(Kt){Kt.done?Be(Kt.value):function me(Be){return Be instanceof re?Be:new re(function(Rt){Rt(Be)})}(Kt.value).then(en,gn)}Ke((Ce=Ce.apply(X,le||[])).next())})}function fe(X){return this instanceof fe?(this.v=X,this):new fe(X)}function we(X,le,re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,Ce=re.apply(X,le||[]),Be=[];return me={},Rt("next"),Rt("throw"),Rt("return"),me[Symbol.asyncIterator]=function(){return this},me;function Rt(Rn){Ce[Rn]&&(me[Rn]=function(an){return new Promise(function(ji,nn){Be.push([Rn,an,ji,nn])>1||en(Rn,an)})})}function en(Rn,an){try{!function gn(Rn){Rn.value instanceof fe?Promise.resolve(Rn.value.v).then(Ke,Kt):hr(Be[0][2],Rn)}(Ce[Rn](an))}catch(ji){hr(Be[0][3],ji)}}function Ke(Rn){en("next",Rn)}function Kt(Rn){en("throw",Rn)}function hr(Rn,an){Rn(an),Be.shift(),Be.length&&en(Be[0][0],Be[0][1])}}function et(X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var re,le=X[Symbol.asyncIterator];return le?le.call(X):(X=function J(X){var le="function"==typeof Symbol&&Symbol.iterator,re=le&&X[le],Ce=0;if(re)return re.call(X);if(X&&"number"==typeof X.length)return{next:function(){return X&&Ce>=X.length&&(X=void 0),{value:X&&X[Ce++],done:!X}}};throw new TypeError(le?"Object is not iterable.":"Symbol.iterator is not defined.")}(X),re={},Ce("next"),Ce("throw"),Ce("return"),re[Symbol.asyncIterator]=function(){return this},re);function Ce(Be){re[Be]=X[Be]&&function(Rt){return new Promise(function(en,gn){!function me(Be,Rt,en,gn){Promise.resolve(gn).then(function(Ke){Be({value:Ke,done:en})},Rt)}(en,gn,(Rt=X[Be](Rt)).done,Rt.value)})}}}R.d(Ee,{FC:()=>we,KL:()=>et,_T:()=>ae,mG:()=>he,qq:()=>fe})},5e3:(ft,Ee,R)=>{R.d(Ee,{$8M:()=>sc,$Z:()=>Nc,AFp:()=>Ub,ALo:()=>Dd,AaK:()=>he,CHM:()=>Xc,CRH:()=>sy,CZH:()=>Bb,CqO:()=>Pn,EJc:()=>Bn,EpF:()=>cr,F$t:()=>tC,F4k:()=>si,FYo:()=>eD,FiY:()=>vi,G48:()=>BD,Gf:()=>pD,GfV:()=>G_,Gpc:()=>G,Hsn:()=>vn,Ikx:()=>S_,JOm:()=>te,Jf7:()=>Ph,LFG:()=>ct,LSH:()=>Ns,Lbi:()=>by,MAs:()=>f0,MGl:()=>sd,NdJ:()=>y_,OlP:()=>qn,Oqu:()=>P0,PXZ:()=>Ad,Q6J:()=>p_,QGY:()=>nf,Qsj:()=>bS,QtT:()=>WC,R0b:()=>Wo,RDi:()=>bs,Rgc:()=>ug,SBq:()=>_d,SDv:()=>zC,Sil:()=>wy,Suo:()=>iy,TTD:()=>Io,TgZ:()=>Mc,Tol:()=>M0,Udp:()=>ad,VKq:()=>K_,VLi:()=>QS,W1O:()=>oy,WLB:()=>sD,X6Q:()=>Gb,XFs:()=>yt,Xpm:()=>Ut,Y36:()=>ml,YKP:()=>z_,YNc:()=>h0,Yjl:()=>Hr,Yz7:()=>an,ZZ4:()=>Af,_Bn:()=>H_,_UZ:()=>w0,_Vd:()=>og,_c5:()=>cI,_uU:()=>gC,aQg:()=>Oa,c2e:()=>TD,cJS:()=>nn,cg1:()=>Xp,dDg:()=>OD,deG:()=>ye,dqk:()=>Gt,eFA:()=>RD,ekj:()=>Yp,g9A:()=>jb,h0i:()=>Cf,hGG:()=>uI,hij:()=>b_,iGM:()=>ry,ifc:()=>Qt,ip1:()=>ED,kEZ:()=>Y_,kL8:()=>F0,lG2:()=>rn,lcZ:()=>Ed,n5z:()=>Wf,oAB:()=>Q,oxw:()=>rf,pQV:()=>tb,q4F:()=>yd,qLn:()=>Or,qOj:()=>r_,qZA:()=>tf,s9C:()=>C0,sBO:()=>Zb,sIi:()=>Ku,s_b:()=>hg,soG:()=>Hb,tBr:()=>yi,tb:()=>sn,tp0:()=>Is,uIk:()=>dl,vHH:()=>ke,vpe:()=>Aa,wAp:()=>St,xp6:()=>o1,z2F:()=>Ty,zSh:()=>t0,zs3:()=>Ca});var c=R(7579),Y=R(727),k=R(8306),ae=R(6451),ee=R(3099);function ge(s){for(let o in s)if(s[o]===ge)return o;throw Error("Could not find renamed property on target object.")}function oe(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function he(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(he).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function ue(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const $=ge({__forward_ref__:ge});function G(s){return s.__forward_ref__=G,s.toString=function(){return he(this())},s}function J(s){return Ye(s)?s():s}function Ye(s){return"function"==typeof s&&s.hasOwnProperty($)&&s.__forward_ref__===G}class ke extends Error{constructor(o,l){super(function Ue(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,l)),this.code=o}}function fe(s){return"string"==typeof s?s:null==s?"":String(s)}function we(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():fe(s)}function ve(s,o){const l=o?` in ${o}`:"";throw new ke(-201,`No provider for ${we(s)} found${l}`)}function Ke(s,o,l,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${l} ${d} ${o} <=Actual]`))}function an(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function nn(s){return{providers:s.providers||[],imports:s.imports||[]}}function Yt(s){return Dr(s,es)||Dr(s,ps)}function Dr(s,o){return s.hasOwnProperty(o)?s[o]:null}function Jr(s){return s&&(s.hasOwnProperty(Xr)||s.hasOwnProperty(gs))?s[Xr]:null}const es=ge({\u0275prov:ge}),Xr=ge({\u0275inj:ge}),ps=ge({ngInjectableDef:ge}),gs=ge({ngInjectorDef:ge});var yt=(()=>((yt=yt||{})[yt.Default=0]="Default",yt[yt.Host=1]="Host",yt[yt.Self=2]="Self",yt[yt.SkipSelf=4]="SkipSelf",yt[yt.Optional=8]="Optional",yt))();let li;function rr(s){const o=li;return li=s,o}function Ni(s,o,l){const d=Yt(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&yt.Optional?null:void 0!==o?o:void ve(he(s),"Injector")}function Sn(s){return{toString:s}.toString()}var pr=(()=>((pr=pr||{})[pr.OnPush=0]="OnPush",pr[pr.Default=1]="Default",pr))(),Qt=(()=>{return(s=Qt||(Qt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Qt;var s})();const ht="undefined"!=typeof globalThis&&globalThis,Nt="undefined"!=typeof window&&window,Er="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Gt=ht||"undefined"!=typeof global&&global||Nt||Er,Tr={},bt=[],jr=ge({\u0275cmp:ge}),Ht=ge({\u0275dir:ge}),tt=ge({\u0275pipe:ge}),Ie=ge({\u0275mod:ge}),it=ge({\u0275fac:ge}),wt=ge({__NG_ELEMENT_ID__:ge});let $t=0;function Ut(s){return Sn(()=>{const l={},d={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===pr.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||bt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Qt.Emulated,id:"c",styles:s.styles||bt,_:null,setInput:null,schemas:s.schemas||null,tView:null},h=s.directives,g=s.features,v=s.pipes;return d.id+=$t++,d.inputs=Et(s.inputs,l),d.outputs=Et(s.outputs),g&&g.forEach(C=>C(d)),d.directiveDefs=h?()=>("function"==typeof h?h():h).map(B):null,d.pipeDefs=v?()=>("function"==typeof v?v():v).map(q):null,d})}function B(s){return Jt(s)||function kn(s){return s[Ht]||null}(s)}function q(s){return function Lt(s){return s[tt]||null}(s)}const de={};function Q(s){return Sn(()=>{const o={type:s.type,bootstrap:s.bootstrap||bt,declarations:s.declarations||bt,imports:s.imports||bt,exports:s.exports||bt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(de[s.id]=s.type),o})}function Et(s,o){if(null==s)return Tr;const l={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),l[h]=d,o&&(o[h]=g)}return l}const rn=Ut;function Hr(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function Jt(s){return s[jr]||null}function wn(s,o){const l=s[Ie]||null;if(!l&&!0===o)throw new Error(`Type ${he(s)} does not have '\u0275mod' property.`);return l}function Hi(s){return Array.isArray(s)&&"object"==typeof s[1]}function Oi(s){return Array.isArray(s)&&!0===s[1]}function $d(s){return 0!=(8&s.flags)}function zs(s){return 2==(2&s.flags)}function Bl(s){return 1==(1&s.flags)}function ci(s){return null!==s.template}function Hf(s){return 0!=(512&s[2])}function ui(s,o){return s.hasOwnProperty(it)?s[it]:null}class Ys{constructor(o,l,d){this.previousValue=o,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function Io(){return Ha}function Ha(s){return s.type.prototype.ngOnChanges&&(s.setInput=im),Zd}function Zd(){const s=Qs(this),o=null==s?void 0:s.current;if(o){const l=s.previous;if(l===Tr)s.previous=o;else for(let d in o)l[d]=o[d];s.current=null,this.ngOnChanges(o)}}function im(s,o,l,d){const h=Qs(s)||function xi(s,o){return s[sr]=o}(s,{previous:Tr,current:null}),g=h.current||(h.current={}),v=h.previous,C=this.declaredInputs[l],D=v[C];g[C]=new Ys(D&&D.currentValue,o,v===Tr),s[d]=o}Io.ngInherit=!0;const sr="__ngSimpleChanges__";function Qs(s){return s[sr]||null}let Zl;function bs(s){Zl=s}function $a(){return void 0!==Zl?Zl:"undefined"!=typeof document?document:void 0}function En(s){return!!s.listen}const ia={createRenderer:(s,o)=>$a()};function yn(s){for(;Array.isArray(s);)s=s[0];return s}function No(s,o){return yn(o[s])}function $r(s,o){return yn(o[s.index])}function Ga(s,o){return s.data[o]}function $i(s,o){return s[o]}function Gr(s,o){const l=o[s];return Hi(l)?l:l[0]}function Xs(s){return 4==(4&s[2])}function ws(s){return 128==(128&s[2])}function di(s,o){return null==o?null:s[o]}function eo(s){s[18]=0}function to(s,o){s[5]+=o;let l=s,d=s[3];for(;null!==d&&(1===o&&1===l[5]||-1===o&&0===l[5]);)d[5]+=o,l=d,d=d[3]}const Ct={lFrame:Mo(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ql(){return Ct.bindingsEnabled}function De(){return Ct.lFrame.lView}function jt(){return Ct.lFrame.tView}function Xc(s){return Ct.lFrame.contextLView=s,s[8]}function In(){let s=sa();for(;null!==s&&64===s.type;)s=s.parent;return s}function sa(){return Ct.lFrame.currentTNode}function oa(){const s=Ct.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}function hi(s,o){const l=Ct.lFrame;l.currentTNode=s,l.isParent=o}function eu(){return Ct.lFrame.isParent}function tu(){Ct.lFrame.isParent=!1}function Jl(){return Ct.isInCheckNoChangesMode}function no(s){Ct.isInCheckNoChangesMode=s}function Ar(){const s=Ct.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function ro(){return Ct.lFrame.bindingIndex++}function Gi(s){const o=Ct.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}function ec(s){Ct.lFrame.inI18n=s}function tc(s,o){const l=Ct.lFrame;l.bindingIndex=l.bindingRootIndex=s,Za(o)}function Za(s){Ct.lFrame.currentDirectiveIndex=s}function su(){return Ct.lFrame.currentQueryIndex}function ou(s){Ct.lFrame.currentQueryIndex=s}function Yd(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function nc(s,o,l){if(l&yt.SkipSelf){let h=o,g=s;for(;!(h=h.parent,null!==h||l&yt.Host||(h=Yd(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;o=h,s=g}const d=Ct.lFrame=Qd();return d.currentTNode=o,d.lView=s,!0}function io(s){const o=Qd(),l=s[1];Ct.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function Qd(){const s=Ct.lFrame,o=null===s?null:s.child;return null===o?Mo(s):o}function Mo(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Jd(){const s=Ct.lFrame;return Ct.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Xd=Jd;function Oo(){const s=Jd();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function qr(){return Ct.lFrame.selectedIndex}function oo(s){Ct.lFrame.selectedIndex=s}function Fn(){const s=Ct.lFrame;return Ga(s.tView,s.selectedIndex)}function Cs(s,o){for(let l=o.directiveStart,d=o.directiveEnd;l<d;l++){const g=s.data[l].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:C,ngAfterViewInit:D,ngAfterViewChecked:N,ngOnDestroy:M}=g;v&&(s.contentHooks||(s.contentHooks=[])).push(-l,v),C&&((s.contentHooks||(s.contentHooks=[])).push(l,C),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,C)),D&&(s.viewHooks||(s.viewHooks=[])).push(-l,D),N&&((s.viewHooks||(s.viewHooks=[])).push(l,N),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,N)),null!=M&&(s.destroyHooks||(s.destroyHooks=[])).push(l,M)}}function za(s,o,l){eh(s,o,3,l)}function rc(s,o,l,d){(3&s[2])===l&&eh(s,o,l,d)}function Xn(s,o){let l=s[2];(3&l)===o&&(l&=2047,l+=1,s[2]=l)}function eh(s,o,l,d){const g=null!=d?d:-1,v=o.length-1;let C=0;for(let D=void 0!==d?65535&s[18]:0;D<v;D++)if("number"==typeof o[D+1]){if(C=o[D],null!=d&&C>=d)break}else o[D]<0&&(s[18]+=65536),(C<g||-1==g)&&(sm(s,l,o,D),s[18]=(4294901760&s[18])+D+2),D++}function sm(s,o,l,d){const h=l[d]<0,g=l[d+1],C=s[h?-l[d]:l[d]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{g.call(C)}finally{}}}else try{g.call(C)}finally{}}class la{constructor(o,l,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function rs(s,o,l){const d=En(s);let h=0;for(;h<l.length;){const g=l[h];if("number"==typeof g){if(0!==g)break;h++;const v=l[h++],C=l[h++],D=l[h++];d?s.setAttribute(o,C,D,v):o.setAttributeNS(v,C,D)}else{const v=g,C=l[++h];gt(v)?d&&s.setProperty(o,v,C):d?s.setAttribute(o,v,C):o.setAttribute(v,C),h++}}return h}function Xt(s){return 3===s||4===s||6===s}function gt(s){return 64===s.charCodeAt(0)}function Gn(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let d=0;d<o.length;d++){const h=o[d];"number"==typeof h?l=h:0===l||ca(s,l,h,null,-1===l||2===l?o[++d]:null)}}return s}function ca(s,o,l,d,h){let g=0,v=s.length;if(-1===o)v=-1;else for(;g<s.length;){const C=s[g++];if("number"==typeof C){if(C===o){v=-1;break}if(C>o){v=g-1;break}}}for(;g<s.length;){const C=s[g];if("number"==typeof C)break;if(C===l){if(null===d)return void(null!==h&&(s[g+1]=h));if(d===s[g+1])return void(s[g+2]=h)}g++,null!==d&&g++,null!==h&&g++}-1!==v&&(s.splice(v,0,o),g=v+1),s.splice(g++,0,l),null!==d&&s.splice(g++,0,d),null!==h&&s.splice(g++,0,h)}function Wa(s){return-1!==s}function Zt(s){return 32767&s}function cn(s,o){let l=function mr(s){return s>>16}(s),d=o;for(;l>0;)d=d[15],l--;return d}let xn=!0;function pt(s){const o=xn;return xn=s,o}let ih=0;function Es(s,o){const l=Ln(s,o);if(-1!==l)return l;const d=o[1];d.firstCreatePass&&(s.injectorIndex=o.length,An(d.data,s),An(o,null),An(d.blueprint,null));const h=pi(s,o),g=s.injectorIndex;if(Wa(h)){const v=Zt(h),C=cn(h,o),D=C[1].data;for(let N=0;N<8;N++)o[g+N]=C[v+N]|D[v+N]}return o[g+8]=h,g}function An(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Ln(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function pi(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,d=null,h=o;for(;null!==h;){const g=h[1],v=g.type;if(d=2===v?g.declTNode:1===v?h[6]:null,null===d)return-1;if(l++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return-1}function ao(s,o,l){!function ua(s,o,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(wt)&&(d=l[wt]),null==d&&(d=l[wt]=ih++);const h=255&d;o.data[s+(h>>5)]|=1<<h}(s,o,l)}function Ri(s,o,l){if(l&yt.Optional)return s;ve(o,"NodeInjector")}function Ts(s,o,l,d){if(l&yt.Optional&&void 0===d&&(d=null),0==(l&(yt.Self|yt.Host))){const h=s[9],g=rr(void 0);try{return h?h.get(o,d,l&yt.Optional):Ni(o,d,l&yt.Optional)}finally{rr(g)}}return Ri(d,o,l)}function ti(s,o,l,d=yt.Default,h){if(null!==s){const g=function zf(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(wt)?s[wt]:void 0;return"number"==typeof o?o>=0?255&o:Ka:o}(l);if("function"==typeof g){if(!nc(o,s,d))return d&yt.Host?Ri(h,l,d):Ts(o,l,d,h);try{const v=g(d);if(null!=v||d&yt.Optional)return v;ve(l)}finally{Xd()}}else if("number"==typeof g){let v=null,C=Ln(s,o),D=-1,N=d&yt.Host?o[16][6]:null;for((-1===C||d&yt.SkipSelf)&&(D=-1===C?pi(s,o):o[C+8],-1!==D&&sh(d,!1)?(v=o[1],C=Zt(D),o=cn(D,o)):C=-1);-1!==C;){const M=o[1];if(fu(g,C,M.data)){const L=Mn(C,o,l,v,d,N);if(L!==lo)return L}D=o[C+8],-1!==D&&sh(d,o[1].data[C+8]===N)&&fu(g,C,o)?(v=M,C=Zt(D),o=cn(D,o)):C=-1}}}return Ts(o,l,d,h)}const lo={};function Ka(){return new ki(In(),De())}function Mn(s,o,l,d,h,g){const v=o[1],C=v.data[s+8],M=ic(C,v,l,null==d?zs(C)&&xn:d!=v&&0!=(3&C.type),h&yt.Host&&g===C);return null!==M?gi(o,v,M,C):lo}function ic(s,o,l,d,h){const g=s.providerIndexes,v=o.data,C=1048575&g,D=s.directiveStart,M=g>>20,j=h?C+M:s.directiveEnd;for(let K=d?C:C+M;K<j;K++){const _e=v[K];if(K<D&&l===_e||K>=D&&_e.type===l)return K}if(h){const K=v[D];if(K&&ci(K)&&K.type===l)return D}return null}function gi(s,o,l,d){let h=s[l];const g=o.data;if(function th(s){return s instanceof la}(h)){const v=h;v.resolving&&function st(s,o){const l=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new ke(-200,`Circular dependency in DI detected for ${s}${l}`)}(we(g[l]));const C=pt(v.canSeeViewProviders);v.resolving=!0;const D=v.injectImpl?rr(v.injectImpl):null;nc(s,d,yt.Default);try{h=s[l]=v.factory(void 0,g,s,d),o.firstCreatePass&&l>=d.directiveStart&&function cu(s,o,l){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:g}=o.type.prototype;if(d){const v=Ha(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,v),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,v)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,h),g&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,g),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,g))}(l,g[l],o)}finally{null!==D&&rr(D),pt(C),v.resolving=!1,Xd()}}return h}function fu(s,o,l){return!!(l[o+(s>>5)]&1<<s)}function sh(s,o){return!(s&yt.Self||s&yt.Host&&o)}class ki{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,d){return ti(this._tNode,this._lView,o,d,l)}}function Wf(s){return Sn(()=>{const o=s.prototype.constructor,l=o[it]||Ya(o),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const g=h[it]||Ya(h);if(g&&g!==l)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function Ya(s){return Ye(s)?()=>{const o=Ya(J(s));return o&&o()}:ui(s)}function sc(s){return function hu(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const d=l.length;let h=0;for(;h<d;){const g=l[h];if(Xt(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<d&&"string"==typeof l[h];)h++;else{if(g===o)return l[h+1];h+=2}}}return null}(In(),s)}const Qa="__parameters__";function Ja(s,o,l){return Sn(()=>{const d=function oh(s){return function(...l){if(s){const d=s(...l);for(const h in d)this[h]=d[h]}}}(o);function h(...g){if(this instanceof h)return d.apply(this,g),this;const v=new h(...g);return C.annotation=v,C;function C(D,N,M){const L=D.hasOwnProperty(Qa)?D[Qa]:Object.defineProperty(D,Qa,{value:[]})[Qa];for(;L.length<=M;)L.push(null);return(L[M]=L[M]||[]).push(v),D}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class qn{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=an({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ye=new qn("AnalyzeForEntryComponents");function Nr(s,o){void 0===o&&(o=s);for(let l=0;l<s.length;l++){let d=s[l];Array.isArray(d)?(o===s&&(o=s.slice(0,l)),Nr(d,o)):o!==s&&o.push(d)}return o}function mi(s,o){s.forEach(l=>Array.isArray(l)?mi(l,o):o(l))}function ah(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function fo(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function qi(s,o){const l=[];for(let d=0;d<s;d++)l.push(o);return l}function Mr(s,o,l){let d=po(s,o);return d>=0?s[1|d]=l:(d=~d,function ha(s,o,l,d){let h=s.length;if(h==o)s.push(l,d);else if(1===h)s.push(d,s[0]),s[0]=l;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=l,s[o+1]=d}}(s,d,o,l)),d}function oc(s,o){const l=po(s,o);if(l>=0)return s[1|l]}function po(s,o){return function Ro(s,o,l){let d=0,h=s.length>>l;for(;h!==d;){const g=d+(h-d>>1),v=s[g<<l];if(o===v)return g<<l;v>o?h=g:d=g+1}return~(h<<l)}(s,o,1)}const ko={},tl="__NG_DI_FLAG__",cc="ngTempTokenPath",S=/\n/gm,V="__source",W=ge({provide:String,useValue:ge});let ne;function xe(s){const o=ne;return ne=s,o}function nt(s,o=yt.Default){if(void 0===ne)throw new ke(203,"");return null===ne?Ni(s,void 0,o):ne.get(s,o&yt.Optional?null:void 0,o)}function ct(s,o=yt.Default){return(function fr(){return li}()||nt)(J(s),o)}const zt=ct;function Pt(s){const o=[];for(let l=0;l<s.length;l++){const d=J(s[l]);if(Array.isArray(d)){if(0===d.length)throw new ke(900,"");let h,g=yt.Default;for(let v=0;v<d.length;v++){const C=d[v],D=zn(C);"number"==typeof D?-1===D?h=C.token:g|=D:h=C}o.push(ct(h,g))}else o.push(ct(d))}return o}function Zn(s,o){return s[tl]=o,s.prototype[tl]=o,s}function zn(s){return s[tl]}const yi=Zn(Ja("Inject",s=>({token:s})),-1),vi=Zn(Ja("Optional"),8),Is=Zn(Ja("SkipSelf"),4);let dc;function hc(s){var o;return(null===(o=function Jf(){if(void 0===dc&&(dc=null,Gt.trustedTypes))try{dc=Gt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return dc}())||void 0===o?void 0:o.createHTML(s))||s}class uv{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function go(s){return s instanceof uv?s.changingThisBreaksApplicationSecurity:s}class pv{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const l=(new window.DOMParser).parseFromString(hc(o),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(o):(l.removeChild(l.firstChild),l)}catch(l){return null}}}class gv{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const d=this.inertDocument.createElement("body");l.appendChild(d)}}getInertBodyElement(o){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=hc(o),l;const d=this.inertDocument.createElement("body");return d.innerHTML=hc(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(o){const l=o.attributes;for(let h=l.length-1;0<h;h--){const v=l.item(h).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&o.removeAttribute(v)}let d=o.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const pc=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Yw=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Du(s){return(s=String(s)).match(pc)||s.match(Yw)?s:"unsafe:"+s}function mv(s){return(s=String(s)).split(",").map(o=>Du(o.trim())).join(", ")}function As(s){const o={};for(const l of s.split(","))o[l]=!0;return o}function mh(...s){const o={};for(const l of s)for(const d in l)l.hasOwnProperty(d)&&(o[d]=!0);return o}const _h=As("area,br,col,hr,img,wbr"),yh=As("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ip=As("rp,rt"),vh=mh(_h,mh(yh,As("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),mh(ip,As("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),mh(ip,yh)),bh=As("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),wh=As("srcset"),nl=mh(bh,wh,As("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),As("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var yr=(()=>((yr=yr||{})[yr.NONE=0]="NONE",yr[yr.HTML=1]="HTML",yr[yr.STYLE=2]="STYLE",yr[yr.SCRIPT=3]="SCRIPT",yr[yr.URL=4]="URL",yr[yr.RESOURCE_URL=5]="RESOURCE_URL",yr))();function Ns(s){const o=function Su(){const s=De();return s&&s[12]}();return o?o.sanitize(yr.URL,s)||"":function fc(s,o){const l=function gh(s){return s instanceof uv&&s.getTypeName()||null}(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===o}(s,"URL")?go(s):Du(fe(s))}const mc="__ngContext__";function un(s,o){s[mc]=o}function lp(s){const o=function Fi(s){return s[mc]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function Ah(s){return s.ngOriginalError}function dp(s,...o){s.error(...o)}class Or{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o),d=function up(s){return s&&s.ngErrorLogger||dp}(o);d(this._console,"ERROR",o),l&&d(this._console,"ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&Ah(o);for(;l&&Ah(l);)l=Ah(l);return l||null}}const Ev=/^>|^->|<!--|-->|--!>|<!-$/g,Vo=/(<|>)/;const xh=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Gt))();function Ph(s){return s.ownerDocument.defaultView}function m(s){return s instanceof Function?s():s}var te=(()=>((te=te||{})[te.Important=1]="Important",te[te.DashCase=2]="DashCase",te))();let je;function ot(s,o){return je(s,o)}function Vn(s){const o=s[3];return Oi(o)?o[3]:o}function yc(s){return xu(s[13])}function il(s){return xu(s[4])}function xu(s){for(;null!==s&&!Oi(s);)s=s[4];return s}function Bo(s,o,l,d,h){if(null!=d){let g,v=!1;Oi(d)?g=d:Hi(d)&&(v=!0,d=d[0]);const C=yn(d);0===s&&null!==l?null==h?Cm(o,l,C):ku(o,l,C,h||null,!0):1===s&&null!==l?ku(o,l,C,h||null,!0):2===s?xv(o,C,v):3===s&&o.destroyNode(C),null!=g&&function hT(s,o,l,d,h){const g=l[7];g!==yn(l)&&Bo(o,s,d,g,h);for(let C=10;C<l.length;C++){const D=l[C];wp(D[1],D,s,o,d,g)}}(o,s,g,l,h)}}function Pu(s,o){return En(s)?s.createText(o):s.createTextNode(o)}function gp(s,o,l){En(s)?s.setValue(o,l):o.textContent=l}function Rh(s,o){return s.createComment(function Mh(s){return s.replace(Ev,o=>o.replace(Vo,"\u200b$1\u200b"))}(o))}function Ru(s,o,l){if(En(s))return s.createElement(o,l);{const d=null!==l?function ql(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(l):null;return null===d?s.createElement(o):s.createElementNS(d,o)}}function Zr(s,o){const l=s[9],d=l.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,to(h,-1)),l.splice(d,1)}function zr(s,o){if(s.length<=10)return;const l=10+o,d=s[l];if(d){const h=d[17];null!==h&&h!==s&&Zr(h,d),o>0&&(s[l-1][4]=d[4]);const g=fo(s,10+o);!function mp(s,o){wp(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(d[1],d);const v=g[19];null!==v&&v.detachView(g[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function _p(s,o){if(!(256&o[2])){const l=o[11];En(l)&&l.destroyNode&&wp(s,o,l,3,null,null),function Sv(s){let o=s[13];if(!o)return yp(s[1],s);for(;o;){let l=null;if(Hi(o))l=o[13];else{const d=o[10];d&&(l=d)}if(!l){for(;o&&!o[4]&&o!==s;)Hi(o)&&yp(o[1],o),o=o[3];null===o&&(o=s),Hi(o)&&yp(o[1],o),l=o&&o[4]}o=l}}(o)}}function yp(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function cT(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let d=0;d<l.length;d+=2){const h=o[l[d]];if(!(h instanceof la)){const g=l[d+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const C=h[g[v]],D=g[v+1];try{D.call(C)}finally{}}else try{g.call(h)}finally{}}}}(s,o),function lT(s,o){const l=s.cleanup,d=o[7];let h=-1;if(null!==l)for(let g=0;g<l.length-1;g+=2)if("string"==typeof l[g]){const v=l[g+1],C="function"==typeof v?v(o):yn(o[v]),D=d[h=l[g+2]],N=l[g+3];"boolean"==typeof N?C.removeEventListener(l[g],D,N):N>=0?d[h=N]():d[h=-N].unsubscribe(),g+=2}else{const v=d[h=l[g+1]];l[g].call(v)}if(null!==d){for(let g=h+1;g<d.length;g++)d[g]();o[7]=null}}(s,o),1===o[1].type&&En(o[11])&&o[11].destroy();const l=o[17];if(null!==l&&Oi(o[3])){l!==o[3]&&Zr(l,o);const d=o[19];null!==d&&d.detachView(s)}}}function Nv(s,o,l){return Jw(s,o.parent,l)}function Jw(s,o,l){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return l[0];if(2&d.flags){const h=s.data[d.directiveStart].encapsulation;if(h===Qt.None||h===Qt.Emulated)return null}return $r(d,l)}function ku(s,o,l,d,h){En(s)?s.insertBefore(o,l,d,h):o.insertBefore(l,d,h)}function Cm(s,o,l){En(s)?s.appendChild(o,l):o.appendChild(l)}function Dm(s,o,l,d,h){null!==d?ku(s,o,l,d,h):Cm(s,o,l)}function Fh(s,o){return En(s)?s.parentNode(o):o.parentNode}function e1(s,o,l){return Em(s,o,l)}function vp(s,o,l){return 40&s.type?$r(s,l):null}let bp,Em=vp;function Mv(s,o){Em=s,bp=o}function Tm(s,o,l,d){const h=Nv(s,d,o),g=o[11],C=e1(d.parent||o[6],d,o);if(null!=h)if(Array.isArray(l))for(let D=0;D<l.length;D++)Dm(g,h,l[D],C,!1);else Dm(g,h,l,C,!1);void 0!==bp&&bp(g,d,o,l,h)}function vc(s,o){if(null!==o){const l=o.type;if(3&l)return $r(o,s);if(4&l)return Sm(-1,s[o.index]);if(8&l){const d=o.child;if(null!==d)return vc(s,d);{const h=s[o.index];return Oi(h)?Sm(-1,h):yn(h)}}if(32&l)return ot(o,s)()||yn(s[o.index]);{const d=Ov(s,o);return null!==d?Array.isArray(d)?d[0]:vc(Vn(s[16]),d):vc(s,o.next)}}return null}function Ov(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Sm(s,o){const l=10+s+1;if(l<o.length){const d=o[l],h=d[1].firstChild;if(null!==h)return vc(d,h)}return o[7]}function xv(s,o,l){const d=Fh(s,o);d&&function uT(s,o,l,d){En(s)?s.removeChild(o,l,d):o.removeChild(l)}(s,d,o,l)}function Lh(s,o,l,d,h,g,v){for(;null!=l;){const C=d[l.index],D=l.type;if(v&&0===o&&(C&&un(yn(C),d),l.flags|=4),64!=(64&l.flags))if(8&D)Lh(s,o,l.child,d,h,g,!1),Bo(o,s,h,C,g);else if(32&D){const N=ot(l,d);let M;for(;M=N();)Bo(o,s,h,M,g);Bo(o,s,h,C,g)}else 16&D?Fu(s,o,d,l,h,g):Bo(o,s,h,C,g);l=v?l.projectionNext:l.next}}function wp(s,o,l,d,h,g){Lh(l,d,s.firstChild,o,h,g,!1)}function Fu(s,o,l,d,h,g){const v=l[16],D=v[6].projection[d.projection];if(Array.isArray(D))for(let N=0;N<D.length;N++)Bo(o,s,h,D[N],g);else Lh(s,o,D,v[3],h,g,!0)}function bc(s,o,l){En(s)?s.setAttribute(o,"style",l):o.style.cssText=l}function Im(s,o,l){En(s)?""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l):o.className=l}function Cp(s,o,l){let d=s.length;for(;;){const h=s.indexOf(o,l);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const g=o.length;if(h+g===d||s.charCodeAt(h+g)<=32)return h}l=h+1}}const Vh="ng-template";function t1(s,o,l){let d=0;for(;d<s.length;){let h=s[d++];if(l&&"class"===h){if(h=s[d],-1!==Cp(h.toLowerCase(),o,0))return!0}else if(1===h){for(;d<s.length&&"string"==typeof(h=s[d++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function Li(s){return 4===s.type&&s.value!==Vh}function n1(s,o,l){return o===(4!==s.type||l?s.value:Vh)}function Dp(s,o,l){let d=4;const h=s.attrs||[],g=function s1(s){for(let o=0;o<s.length;o++)if(Xt(s[o]))return o;return s.length}(h);let v=!1;for(let C=0;C<o.length;C++){const D=o[C];if("number"!=typeof D){if(!v)if(4&d){if(d=2|1&d,""!==D&&!n1(s,D,l)||""===D&&1===o.length){if(ls(d))return!1;v=!0}}else{const N=8&d?D:o[++C];if(8&d&&null!==s.attrs){if(!t1(s.attrs,N,l)){if(ls(d))return!1;v=!0}continue}const L=r1(8&d?"class":D,h,Li(s),l);if(-1===L){if(ls(d))return!1;v=!0;continue}if(""!==N){let j;j=L>g?"":h[L+1].toLowerCase();const K=8&d?j:null;if(K&&-1!==Cp(K,N,0)||2&d&&N!==j){if(ls(d))return!1;v=!0}}}}else{if(!v&&!ls(d)&&!ls(D))return!1;if(v&&ls(D))continue;v=!1,d=D|1&d}}return ls(d)||v}function ls(s){return 0==(1&s)}function r1(s,o,l,d){if(null===o)return-1;let h=0;if(d||!l){let g=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)g=!0;else{if(1===v||2===v){let C=o[++h];for(;"string"==typeof C;)C=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=g?1:2}return-1}return function Ep(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const d=s[l];if("number"==typeof d)return-1;if(d===o)return l;l++}return-1}(o,s)}function Am(s,o,l=!1){for(let d=0;d<o.length;d++)if(Dp(s,o[d],l))return!0;return!1}function Pv(s,o){e:for(let l=0;l<o.length;l++){const d=o[l];if(s.length===d.length){for(let h=0;h<s.length;h++)if(s[h]!==d[h])continue e;return!0}}return!1}function Nm(s,o){return s?":not("+o.trim()+")":o}function Rv(s){let o=s[0],l=1,d=2,h="",g=!1;for(;l<s.length;){let v=s[l];if("string"==typeof v)if(2&d){const C=s[++l];h+="["+v+(C.length>0?'="'+C+'"':"")+"]"}else 8&d?h+="."+v:4&d&&(h+=" "+v);else""!==h&&!ls(v)&&(o+=Nm(g,h),h=""),d=v,g=g||!ls(d);l++}return""!==h&&(o+=Nm(g,h)),o}const Ft={};function o1(s){Om(jt(),De(),qr()+s,Jl())}function Om(s,o,l,d){if(!d)if(3==(3&o[2])){const g=s.preOrderCheckHooks;null!==g&&za(o,g,l)}else{const g=s.preOrderHooks;null!==g&&rc(o,g,0,l)}oo(l)}function Bh(s,o){return s<<17|o<<2}function _o(s){return s>>17&32767}function Fv(s){return 2|s}function Ms(s){return(131068&s)>>2}function xm(s,o){return-131069&s|o<<2}function Lu(s){return 1|s}function p1(s,o){const l=s.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const h=l[d],g=l[d+1];if(-1!==g){const v=s.data[g];ou(h),v.contentQueries(2,o[g],g)}}}function Cc(s,o,l,d,h,g,v,C,D,N){const M=o.blueprint.slice();return M[0]=h,M[2]=140|d,eo(M),M[3]=M[15]=s,M[8]=l,M[10]=v||s&&s[10],M[11]=C||s&&s[11],M[12]=D||s&&s[12]||null,M[9]=N||s&&s[9]||null,M[6]=g,M[16]=2==o.type?s[16]:M,M}function ya(s,o,l,d,h){let g=s.data[o];if(null===g)g=Hh(s,o,l,d,h),function ru(){return Ct.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=l,g.value=d,g.attrs=h;const v=oa();g.injectorIndex=null===v?-1:v.injectorIndex}return hi(g,!0),g}function Hh(s,o,l,d,h){const g=sa(),v=eu(),D=s.data[o]=function _1(s,o,l,d,h,g){return{type:l,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,l,o,d,h);return null===s.firstChild&&(s.firstChild=D),null!==g&&(v?null==g.child&&null!==D.parent&&(g.child=D):null===g.next&&(g.next=D)),D}function Dc(s,o,l,d){if(0===l)return-1;const h=o.length;for(let g=0;g<l;g++)o.push(d),s.blueprint.push(d),s.data.push(null);return h}function $h(s,o,l){io(o);try{const d=s.viewQuery;null!==d&&wa(1,d,l);const h=s.template;null!==h&&g1(s,o,h,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&p1(s,o),s.staticViewQueries&&wa(2,s.viewQuery,l);const g=s.components;null!==g&&function wT(s,o){for(let l=0;l<o.length;l++)Qv(s,o[l])}(o,g)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[2]&=-5,Oo()}}function va(s,o,l,d){const h=o[2];if(256==(256&h))return;io(o);const g=Jl();try{eo(o),function Xl(s){return Ct.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&g1(s,o,l,2,d);const v=3==(3&h);if(!g)if(v){const N=s.preOrderCheckHooks;null!==N&&za(o,N,null)}else{const N=s.preOrderHooks;null!==N&&rc(o,N,0,null),Xn(o,0)}if(function Gh(s){for(let o=yc(s);null!==o;o=il(o)){if(!o[2])continue;const l=o[9];for(let d=0;d<l.length;d++){const h=l[d],g=h[3];0==(1024&h[2])&&to(g,1),h[2]|=1024}}}(o),function I1(s){for(let o=yc(s);null!==o;o=il(o))for(let l=10;l<o.length;l++){const d=o[l],h=d[1];ws(d)&&va(h,d,h.template,d[8])}}(o),null!==s.contentQueries&&p1(s,o),!g)if(v){const N=s.contentCheckHooks;null!==N&&za(o,N)}else{const N=s.contentHooks;null!==N&&rc(o,N,1),Xn(o,1)}!function Vv(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let d=0;d<l.length;d++){const h=l[d];if(h<0)oo(~h);else{const g=h,v=l[++d],C=l[++d];tc(v,g),C(2,o[g])}}}finally{oo(-1)}}(s,o);const C=s.components;null!==C&&function bT(s,o){for(let l=0;l<o.length;l++)TT(s,o[l])}(o,C);const D=s.viewQuery;if(null!==D&&wa(2,D,d),!g)if(v){const N=s.viewCheckHooks;null!==N&&za(o,N)}else{const N=s.viewHooks;null!==N&&rc(o,N,2),Xn(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),g||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,to(o[3],-1))}finally{Oo()}}function Op(s,o,l,d){const h=o[10],g=!Jl(),v=Xs(o);try{g&&!v&&h.begin&&h.begin(),v&&$h(s,o,d),va(s,o,l,d)}finally{g&&!v&&h.end&&h.end()}}function g1(s,o,l,d,h){const g=qr(),v=2&d;try{oo(-1),v&&o.length>20&&Om(s,o,20,Jl()),l(d,h)}finally{oo(g)}}function Hm(s,o,l){!Ql()||(function C1(s,o,l,d){const h=l.directiveStart,g=l.directiveEnd;s.firstCreatePass||Es(l,o),un(d,o);const v=l.initialInputs;for(let C=h;C<g;C++){const D=s.data[C],N=ci(D);N&&T1(o,l,D);const M=gi(o,s,C,l);un(M,o),null!==v&&S1(0,C-h,M,D,0,v),N&&(Gr(l.index,o)[8]=M)}}(s,o,l,$r(l,o)),128==(128&l.flags)&&function D1(s,o,l){const d=l.directiveStart,h=l.directiveEnd,v=l.index,C=function iu(){return Ct.lFrame.currentDirectiveIndex}();try{oo(v);for(let D=d;D<h;D++){const N=s.data[D],M=o[D];Za(D),(null!==N.hostBindings||0!==N.hostVars||null!==N.hostAttrs)&&qm(N,M)}}finally{oo(-1),Za(C)}}(s,o,l))}function Bv(s,o,l=$r){const d=o.localNames;if(null!==d){let h=o.index+1;for(let g=0;g<d.length;g+=2){const v=d[g+1],C=-1===v?l(o,s):s[v];s[h++]=C}}}function m1(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=$m(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function $m(s,o,l,d,h,g,v,C,D,N){const M=20+d,L=M+h,j=function CT(s,o){const l=[];for(let d=0;d<o;d++)l.push(d<s?null:Ft);return l}(M,L),K="function"==typeof N?N():N;return j[1]={type:s,blueprint:j,template:l,queries:null,viewQuery:C,declTNode:o,data:j.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:D,consts:K,incompleteFirstPass:!1}}function xp(s,o,l,d){const h=Le(o);null===l?h.push(d):(h.push(l),s.firstCreatePass&&br(s).push(d,h.length-1))}function ba(s,o,l){for(let d in s)if(s.hasOwnProperty(d)){const h=s[d];(l=null===l?{}:l).hasOwnProperty(d)?l[d].push(o,h):l[d]=[o,h]}return l}function zi(s,o,l,d,h,g,v,C){const D=$r(o,l);let M,N=o.inputs;!C&&null!=N&&(M=N[d])?(lt(s,l,M,d,h),zs(o)&&function Pp(s,o){const l=Gr(o,s);16&l[2]||(l[2]|=64)}(l,o.index)):3&o.type&&(d=function ET(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=v?v(h,o.value||"",d):h,En(g)?g.setProperty(D,d,h):gt(d)||(D.setProperty?D.setProperty(d,h):D[d]=h))}function Gv(s,o,l,d){let h=!1;if(Ql()){const g=function Zv(s,o,l){const d=s.directiveRegistry;let h=null;if(d)for(let g=0;g<d.length;g++){const v=d[g];Am(l,v.selectors,!1)&&(h||(h=[]),ao(Es(l,o),s,v.type),ci(v)?(zv(s,l),h.unshift(v)):h.push(v))}return h}(s,o,l),v=null===d?null:{"":-1};if(null!==g){h=!0,Wv(l,s.data.length,g.length);for(let M=0;M<g.length;M++){const L=g[M];L.providersResolver&&L.providersResolver(L)}let C=!1,D=!1,N=Dc(s,o,g.length,null);for(let M=0;M<g.length;M++){const L=g[M];l.mergedAttrs=Gn(l.mergedAttrs,L.hostAttrs),Ec(s,l,o,N,L),E1(N,L,v),null!==L.contentQueries&&(l.flags|=8),(null!==L.hostBindings||null!==L.hostAttrs||0!==L.hostVars)&&(l.flags|=128);const j=L.type.prototype;!C&&(j.ngOnChanges||j.ngOnInit||j.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),C=!0),!D&&(j.ngOnChanges||j.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),D=!0),N++}!function y1(s,o){const d=o.directiveEnd,h=s.data,g=o.attrs,v=[];let C=null,D=null;for(let N=o.directiveStart;N<d;N++){const M=h[N],L=M.inputs,j=null===g||Li(o)?null:Wm(L,g);v.push(j),C=ba(L,N,C),D=ba(M.outputs,N,D)}null!==C&&(C.hasOwnProperty("class")&&(o.flags|=16),C.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=C,o.outputs=D}(s,l)}v&&function Zm(s,o,l){if(o){const d=s.localNames=[];for(let h=0;h<o.length;h+=2){const g=l[o[h+1]];if(null==g)throw new ke(-301,!1);d.push(o[h],g)}}}(l,d,v)}return l.mergedAttrs=Gn(l.mergedAttrs,l.attrs),h}function qv(s,o,l,d,h,g){const v=g.hostBindings;if(v){let C=s.hostBindingOpCodes;null===C&&(C=s.hostBindingOpCodes=[]);const D=~o.index;(function Rp(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(C)!=D&&C.push(D),C.push(d,h,v)}}function qm(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function zv(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function E1(s,o,l){if(l){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)l[o.exportAs[d]]=s;ci(o)&&(l[""]=s)}}function Wv(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}function Ec(s,o,l,d,h){s.data[d]=h;const g=h.factory||(h.factory=ui(h.type)),v=new la(g,ci(h),null);s.blueprint[d]=v,l[d]=v,qv(s,o,0,d,Dc(s,l,h.hostVars,Ft),h)}function T1(s,o,l){const d=$r(o,s),h=m1(l),g=s[10],v=Km(s,Cc(s,h,null,l.onPush?64:16,d,o,g,g.createRenderer(d,l),null,null));s[o.index]=v}function zm(s,o,l,d,h,g,v){if(null==g)En(s)?s.removeAttribute(o,h,l):o.removeAttribute(h);else{const C=null==v?fe(g):v(g,d||"",h);En(s)?s.setAttribute(o,h,C,l):l?o.setAttributeNS(l,h,C):o.setAttribute(h,C)}}function S1(s,o,l,d,h,g){const v=g[o];if(null!==v){const C=d.setInput;for(let D=0;D<v.length;){const N=v[D++],M=v[D++],L=v[D++];null!==C?d.setInput(l,L,N,M):l[M]=L}}}function Wm(s,o){let l=null,d=0;for(;d<o.length;){const h=o[d];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===l&&(l=[]),l.push(h,s[h],o[d+1])),d+=2}else d+=2;else d+=4}return l}function Kv(s,o,l,d){return new Array(s,!0,!1,o,null,0,d,l,null,null)}function TT(s,o){const l=Gr(o,s);if(ws(l)){const d=l[1];80&l[2]?va(d,l,d.template,l[8]):l[5]>0&&Yv(l)}}function Yv(s){for(let d=yc(s);null!==d;d=il(d))for(let h=10;h<d.length;h++){const g=d[h];if(1024&g[2]){const v=g[1];va(v,g,v.template,g[8])}else g[5]>0&&Yv(g)}const l=s[1].components;if(null!==l)for(let d=0;d<l.length;d++){const h=Gr(l[d],s);ws(h)&&h[5]>0&&Yv(h)}}function Qv(s,o){const l=Gr(o,s),d=l[1];(function ST(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])})(d,l),$h(d,l,l[8])}function Km(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Ym(s){for(;s;){s[2]|=64;const o=Vn(s);if(Hf(s)&&!o)return s;s=o}return null}function Jv(s,o,l){const d=o[10];d.begin&&d.begin();try{va(s,o,s.template,l)}catch(h){throw Qm(o,h),h}finally{d.end&&d.end()}}function Xv(s){!function qh(s){for(let o=0;o<s.components.length;o++){const l=s.components[o],d=lp(l),h=d[1];Op(h,d,h.template,l)}}(s[8])}function wa(s,o,l){ou(0),o(s,l)}const AT=(()=>Promise.resolve(null))();function Le(s){return s[7]||(s[7]=[])}function br(s){return s.cleanup||(s.cleanup=[])}function Qm(s,o){const l=s[9],d=l?l.get(Or,null):null;d&&d.handleError(o)}function lt(s,o,l,d,h){for(let g=0;g<l.length;){const v=l[g++],C=l[g++],D=o[v],N=s.data[v];null!==N.setInput?N.setInput(D,h,d,C):D[C]=h}}function Jm(s,o,l){let d=l?s.styles:null,h=l?s.classes:null,g=0;if(null!==o)for(let v=0;v<o.length;v++){const C=o[v];"number"==typeof C?g=C:1==g?h=ue(h,C):2==g&&(d=ue(d,C+": "+o[++v]+";"))}l?s.styles=d:s.stylesWithoutHost=d,l?s.classes=h:s.classesWithoutHost=h}const xr=new qn("INJECTOR",-1);class e0{get(o,l=ko){if(l===ko){const d=new Error(`NullInjectorError: No provider for ${he(o)}!`);throw d.name="NullInjectorError",d}return l}}const t0=new qn("Set Injector scope."),kp={},NT={};let n0;function N1(){return void 0===n0&&(n0=new e0),n0}function r0(s,o=null,l=null,d){const h=M1(s,o,l,d);return h._resolveInjectorDefTypes(),h}function M1(s,o=null,l=null,d){return new CN(s,l,o||N1(),d)}class CN{constructor(o,l,d,h=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];l&&mi(l,C=>this.processProvider(C,o,l)),mi([o],C=>this.processInjectorType(C,[],g)),this.records.set(xr,jo(void 0,this));const v=this.records.get(t0);this.scope=null!=v?v.value:null,this.source=h||("object"==typeof o?null:he(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,l=ko,d=yt.Default){this.assertNotDestroyed();const h=xe(this),g=rr(void 0);try{if(!(d&yt.SkipSelf)){let C=this.records.get(o);if(void 0===C){const D=function dn(s){return"function"==typeof s||"object"==typeof s&&s instanceof qn}(o)&&Yt(o);C=D&&this.injectableDefInScope(D)?jo(Wi(o),kp):null,this.records.set(o,C)}if(null!=C)return this.hydrate(o,C)}return(d&yt.Self?N1():this.parent).get(o,l=d&yt.Optional&&l===ko?null:l)}catch(v){if("NullInjectorError"===v.name){if((v[cc]=v[cc]||[]).unshift(he(o)),h)throw v;return function fa(s,o,l,d){const h=s[cc];throw o[V]&&h.unshift(o[V]),s.message=function uc(s,o,l,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let h=he(o);if(Array.isArray(o))h=o.map(he).join(" -> ");else if("object"==typeof o){let g=[];for(let v in o)if(o.hasOwnProperty(v)){let C=o[v];g.push(v+":"+("string"==typeof C?JSON.stringify(C):he(C)))}h=`{${g.join(", ")}}`}return`${l}${d?"("+d+")":""}[${h}]: ${s.replace(S,"\n  ")}`}("\n"+s.message,h,l,d),s.ngTokenPath=h,s[cc]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{rr(g),xe(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((d,h)=>o.push(he(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ke(205,!1)}processInjectorType(o,l,d){if(!(o=J(o)))return!1;let h=Jr(o);const g=null==h&&o.ngModule||void 0,v=void 0===g?o:g,C=-1!==d.indexOf(v);if(void 0!==g&&(h=Jr(g)),null==h)return!1;if(null!=h.imports&&!C){let M;d.push(v);try{mi(h.imports,L=>{this.processInjectorType(L,l,d)&&(void 0===M&&(M=[]),M.push(L))})}finally{}if(void 0!==M)for(let L=0;L<M.length;L++){const{ngModule:j,providers:K}=M[L];mi(K,_e=>this.processProvider(_e,j,K||bt))}}this.injectorDefTypes.add(v);const D=ui(v)||(()=>new v);this.records.set(v,jo(D,kp));const N=h.providers;if(null!=N&&!C){const M=o;mi(N,L=>this.processProvider(L,M,N))}return void 0!==g&&void 0!==o.providers}processProvider(o,l,d){let h=ju(o=J(o))?o:J(o&&o.provide);const g=function O1(s,o,l){return s0(s)?jo(void 0,s.useValue):jo(Bt(s),kp)}(o);if(ju(o)||!0!==o.multi)this.records.get(h);else{let v=this.records.get(h);v||(v=jo(void 0,kp,!0),v.factory=()=>Pt(v.multi),this.records.set(h,v)),h=o,v.multi.push(o)}this.records.set(h,g)}hydrate(o,l){return l.value===kp&&(l.value=NT,l.value=l.factory()),"object"==typeof l.value&&l.value&&function Fp(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this.onDestroy.add(l.value),l.value}injectableDefInScope(o){if(!o.providedIn)return!1;const l=J(o.providedIn);return"string"==typeof l?"any"===l||l===this.scope:this.injectorDefTypes.has(l)}}function Wi(s){const o=Yt(s),l=null!==o?o.factory:ui(s);if(null!==l)return l;if(s instanceof qn)throw new ke(204,!1);if(s instanceof Function)return function MT(s){const o=s.length;if(o>0)throw qi(o,"?"),new ke(204,!1);const l=function Ai(s){const o=s&&(s[es]||s[ps]);if(o){const l=function Hs(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),o}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new ke(204,!1)}function Bt(s,o,l){let d;if(ju(s)){const h=J(s);return ui(h)||Wi(h)}if(s0(s))d=()=>J(s.useValue);else if(function xt(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...Pt(s.deps||[]));else if(function wr(s){return!(!s||!s.useExisting)}(s))d=()=>ct(J(s.useExisting));else{const h=J(s&&(s.useClass||s.provide));if(!function x1(s){return!!s.deps}(s))return ui(h)||Wi(h);d=()=>new h(...Pt(s.deps))}return d}function jo(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function s0(s){return null!==s&&"object"==typeof s&&W in s}function ju(s){return"function"==typeof s}let Ca=(()=>{class s{static create(l,d){var h;if(Array.isArray(l))return r0({name:""},d,l,"");{const g=null!==(h=l.name)&&void 0!==h?h:"";return r0({name:g},l.parent,l.providers,g)}}}return s.THROW_IF_NOT_FOUND=ko,s.NULL=new e0,s.\u0275prov=an({token:s,providedIn:"any",factory:()=>ct(xr)}),s.__NG_ELEMENT_ID__=-1,s})();function c0(s,o){Cs(lp(s)[1],In())}function r_(s){let o=function u0(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const d=[s];for(;o;){let h;if(ci(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new ke(903,"");h=o.\u0275dir}if(h){if(l){d.push(h);const v=s;v.inputs=Wu(s.inputs),v.declaredInputs=Wu(s.declaredInputs),v.outputs=Wu(s.outputs);const C=h.hostBindings;C&&RT(s,C);const D=h.viewQuery,N=h.contentQueries;if(D&&L1(s,D),N&&PT(s,N),oe(s.inputs,h.inputs),oe(s.declaredInputs,h.declaredInputs),oe(s.outputs,h.outputs),ci(h)&&h.data.animation){const M=s.data;M.animation=(M.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let v=0;v<g.length;v++){const C=g[v];C&&C.ngInherit&&C(s),C===r_&&(l=!1)}}o=Object.getPrototypeOf(o)}!function i_(s){let o=0,l=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=o+=h.hostVars,h.hostAttrs=Gn(h.hostAttrs,l=Gn(l,h.hostAttrs))}}(d)}function Wu(s){return s===Tr?{}:s===bt?[]:s}function L1(s,o){const l=s.viewQuery;s.viewQuery=l?(d,h)=>{o(d,h),l(d,h)}:o}function PT(s,o){const l=s.contentQueries;s.contentQueries=l?(d,h,g)=>{o(d,h,g),l(d,h,g)}:o}function RT(s,o){const l=s.hostBindings;s.hostBindings=l?(d,h)=>{o(d,h),l(d,h)}:o}let Lp=null;function Dn(){if(!Lp){const s=Gt.Symbol;if(s&&s.iterator)Lp=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<o.length;++l){const d=o[l];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Lp=d)}}}return Lp}function Ku(s){return!!Qu(s)&&(Array.isArray(s)||!(s instanceof Map)&&Dn()in s)}function Qu(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Ho(s,o,l){return s[o]=l}function Kn(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function Ju(s,o,l,d){const h=Kn(s,o,l);return Kn(s,o+1,d)||h}function dl(s,o,l,d){const h=De();return Kn(h,ro(),o)&&(jt(),function Uo(s,o,l,d,h,g){const v=$r(s,o);zm(o[11],v,g,s.value,l,d,h)}(Fn(),h,s,o,l,d)),dl}function Da(s,o,l,d){return Kn(s,ro(),l)?o+fe(l)+d:Ft}function h0(s,o,l,d,h,g,v,C){const D=De(),N=jt(),M=s+20,L=N.firstCreatePass?function Z1(s,o,l,d,h,g,v,C,D){const N=o.consts,M=ya(o,s,4,v||null,di(N,C));Gv(o,l,M,di(N,D)),Cs(o,M);const L=M.tViews=$m(2,M,d,h,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,N);return null!==o.queries&&(o.queries.template(o,M),L.queries=o.queries.embeddedTView(M)),M}(M,N,D,o,l,d,h,g,v):N.data[M];hi(L,!1);const j=D[11].createComment("");Tm(N,D,j,L),un(j,D),Km(D,D[M]=Kv(j,D,j,L)),Bl(L)&&Hm(N,D,L),null!=v&&Bv(D,L,C)}function f0(s){return $i(function nu(){return Ct.lFrame.contextLView}(),20+s)}function ml(s,o=yt.Default){const l=De();return null===l?ct(s,o):ti(In(),l,J(s),o)}function Nc(){throw new Error("invalid")}function p_(s,o,l){const d=De();return Kn(d,ro(),o)&&zi(jt(),Fn(),d,s,o,d[11],l,!1),p_}function g_(s,o,l,d,h){const v=h?"class":"style";lt(s,l,o.inputs[v],v,d)}function Mc(s,o,l,d){const h=De(),g=jt(),v=20+s,C=h[11],D=h[v]=Ru(C,o,function tv(){return Ct.lFrame.currentNamespace}()),N=g.firstCreatePass?function X1(s,o,l,d,h,g,v){const C=o.consts,N=ya(o,s,2,h,di(C,g));return Gv(o,l,N,di(C,v)),null!==N.attrs&&Jm(N,N.attrs,!1),null!==N.mergedAttrs&&Jm(N,N.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,N),N}(v,g,h,0,o,l,d):g.data[v];hi(N,!0);const M=N.mergedAttrs;null!==M&&rs(C,D,M);const L=N.classes;null!==L&&Im(C,D,L);const j=N.styles;return null!==j&&bc(C,D,j),64!=(64&N.flags)&&Tm(g,h,D,N),0===function qa(){return Ct.lFrame.elementDepthCount}()&&un(D,h),function Kl(){Ct.lFrame.elementDepthCount++}(),Bl(N)&&(Hm(g,h,N),function vr(s,o,l){if($d(o)){const h=o.directiveEnd;for(let g=o.directiveStart;g<h;g++){const v=s.data[g];v.contentQueries&&v.contentQueries(1,l[g],g)}}}(g,N,h)),null!==d&&Bv(h,N),Mc}function tf(){let s=In();eu()?tu():(s=s.parent,hi(s,!1));const o=s;!function Yl(){Ct.lFrame.elementDepthCount--}();const l=jt();return l.firstCreatePass&&(Cs(l,s),$d(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Zf(s){return 0!=(16&s.flags)}(o)&&g_(l,o,De(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function om(s){return 0!=(32&s.flags)}(o)&&g_(l,o,De(),o.stylesWithoutHost,!1),tf}function w0(s,o,l,d){return Mc(s,o,l,d),tf(),w0}function cr(){return De()}function nf(s){return!!s&&"function"==typeof s.then}function si(s){return!!s&&"function"==typeof s.subscribe}const Pn=si;function y_(s,o,l,d){const h=De(),g=jt(),v=In();return function xs(s,o,l,d,h,g,v,C){const D=Bl(d),M=s.firstCreatePass&&br(s),L=o[8],j=Le(o);let K=!0;if(3&d.type||C){const Ze=$r(d,o),at=C?C(Ze):Ze,Te=j.length,_t=C?tn=>C(yn(tn[d.index])):d.index;if(En(l)){let tn=null;if(!C&&D&&(tn=function HT(s,o,l,d){const h=s.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const v=h[g];if(v===l&&h[g+1]===d){const C=o[7],D=h[g+2];return C.length>D?C[D]:null}"string"==typeof v&&(g+=2)}return null}(s,o,h,d.index)),null!==tn)(tn.__ngLastListenerFn__||tn).__ngNextListenerFn__=g,tn.__ngLastListenerFn__=g,K=!1;else{g=qp(d,o,L,g,!1);const bn=l.listen(at,h,g);j.push(g,bn),M&&M.push(h,_t,Te,Te+1)}}else g=qp(d,o,L,g,!0),at.addEventListener(h,g,v),j.push(g),M&&M.push(h,_t,Te,v)}else g=qp(d,o,L,g,!1);const _e=d.outputs;let Ve;if(K&&null!==_e&&(Ve=_e[h])){const Ze=Ve.length;if(Ze)for(let at=0;at<Ze;at+=2){const us=o[Ve[at]][Ve[at+1]].subscribe(g),Rs=j.length;j.push(g,us),M&&M.push(h,d.index,Rs,-(Rs+1))}}}(g,h,h[11],v,s,o,!!l,d),y_}function eC(s,o,l,d){try{return!1!==l(d)}catch(h){return Qm(s,h),!1}}function qp(s,o,l,d,h){return function g(v){if(v===Function)return d;const C=2&s.flags?Gr(s.index,o):o;0==(32&o[2])&&Ym(C);let D=eC(o,0,d,v),N=g.__ngNextListenerFn__;for(;N;)D=eC(o,0,N,v)&&D,N=N.__ngNextListenerFn__;return h&&!1===D&&(v.preventDefault(),v.returnValue=!1),D}}function rf(s=1){return function so(s){return(Ct.lFrame.contextLView=function au(s,o){for(;s>0;)o=o[15],s--;return o}(s,Ct.lFrame.contextLView))[8]}(s)}function $T(s,o){let l=null;const d=function i1(s){const o=s.attrs;if(null!=o){const l=o.indexOf(5);if(0==(1&l))return o[l+1]}return null}(s);for(let h=0;h<o.length;h++){const g=o[h];if("*"!==g){if(null===d?Am(s,g,!0):Pv(d,g))return h}else l=h}return l}function tC(s){const o=De()[16][6];if(!o.projection){const d=o.projection=qi(s?s.length:1,null),h=d.slice();let g=o.child;for(;null!==g;){const v=s?$T(g,s):0;null!==v&&(h[v]?h[v].projectionNext=g:d[v]=g,h[v]=g),g=g.next}}}function vn(s,o=0,l){const d=De(),h=jt(),g=ya(h,20+s,16,null,l||null);null===g.projection&&(g.projection=o),tu(),64!=(64&g.flags)&&function dT(s,o,l){Fu(o[11],0,o,l,Nv(s,l,o),e1(l.parent||o[6],l,o))}(h,d,g)}function C0(s,o,l){return sd(s,"",o,"",l),C0}function sd(s,o,l,d,h){const g=De(),v=Da(g,o,l,d);return v!==Ft&&zi(jt(),Fn(),g,s,v,g[11],h,!1),sd}function rC(s,o,l,d,h){const g=s[l+1],v=null===o;let C=d?_o(g):Ms(g),D=!1;for(;0!==C&&(!1===D||v);){const M=s[C+1];zp(s[C],o)&&(D=!0,s[C+1]=d?Lu(M):Fv(M)),C=d?_o(M):Ms(M)}D&&(s[l+1]=d?Fv(g):Lu(g))}function zp(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&po(s,o)>=0}const Fr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function iC(s){return s.substring(Fr.key,Fr.keyEnd)}function A0(s,o){const l=Fr.textEnd;return l===o?-1:(o=Fr.keyEnd=function Kp(s,o,l){for(;o<l&&s.charCodeAt(o)>32;)o++;return o}(s,Fr.key=o,l),od(s,o,l))}function od(s,o,l){for(;o<l&&s.charCodeAt(o)<=32;)o++;return o}function ad(s,o,l){return qo(s,o,l,!1),ad}function Yp(s,o){return qo(s,o,null,!0),Yp}function M0(s){!function bo(s,o,l,d){const h=jt(),g=Gi(2);h.firstUpdatePass&&uC(h,null,g,d);const v=De();if(l!==Ft&&Kn(v,g,l)){const C=h.data[qr()];if(pC(C,d)&&!cC(h,g)){let D=d?C.classesWithoutHost:C.stylesWithoutHost;null!==D&&(l=ue(D,l||"")),g_(h,C,v,l,d)}else!function hC(s,o,l,d,h,g,v,C){h===Ft&&(h=bt);let D=0,N=0,M=0<h.length?h[0]:null,L=0<g.length?g[0]:null;for(;null!==M||null!==L;){const j=D<h.length?h[D+1]:void 0,K=N<g.length?g[N+1]:void 0;let Ve,_e=null;M===L?(D+=2,N+=2,j!==K&&(_e=L,Ve=K)):null===L||null!==M&&M<L?(D+=2,_e=M):(N+=2,_e=L,Ve=K),null!==_e&&Zo(s,o,l,d,_e,Ve,v,C),M=D<h.length?h[D]:null,L=N<g.length?g[N]:null}}(h,C,v,v[11],v[g+1],v[g+1]=function Yi(s,o,l){if(null==l||""===l)return bt;const d=[],h=go(l);if(Array.isArray(h))for(let g=0;g<h.length;g++)s(d,h[g],!0);else if("object"==typeof h)for(const g in h)h.hasOwnProperty(g)&&s(d,g,h[g]);else"string"==typeof h&&o(d,h);return d}(s,o,l),d,g)}}(Mr,Go,s,!0)}function Go(s,o){for(let l=function I0(s){return function v_(s){Fr.key=0,Fr.keyEnd=0,Fr.value=0,Fr.valueEnd=0,Fr.textEnd=s.length}(s),A0(s,od(s,0,Fr.textEnd))}(o);l>=0;l=A0(o,l))Mr(s,iC(o),!0)}function qo(s,o,l,d){const h=De(),g=jt(),v=Gi(2);g.firstUpdatePass&&uC(g,s,v,d),o!==Ft&&Kn(h,v,o)&&Zo(g,g.data[qr()],h,h[11],s,h[v+1]=function fC(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=he(go(s)))),s}(o,l),d,v)}function cC(s,o){return o>=s.expandoStartIndex}function uC(s,o,l,d){const h=s.data;if(null===h[l+1]){const g=h[qr()],v=cC(s,l);pC(g,d)&&null===o&&!v&&(o=!1),o=function lf(s,o,l,d){const h=function aa(s){const o=Ct.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let g=d?o.residualClasses:o.residualStyles;if(null===h)0===(d?o.classBindings:o.styleBindings)&&(l=uf(l=O0(null,s,o,l,d),o.attrs,d),g=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==h)if(l=O0(h,s,o,l,d),null===g){let D=function cf(s,o,l){const d=l?o.classBindings:o.styleBindings;if(0!==Ms(d))return s[_o(d)]}(s,o,d);void 0!==D&&Array.isArray(D)&&(D=O0(null,s,o,D[1],d),D=uf(D,o.attrs,d),function zT(s,o,l,d){s[_o(l?o.classBindings:o.styleBindings)]=d}(s,o,d,D))}else g=function WT(s,o,l){let d;const h=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<h;g++)d=uf(d,s[g].hostAttrs,l);return uf(d,o.attrs,l)}(s,o,d)}return void 0!==g&&(d?o.residualClasses=g:o.residualStyles=g),l}(h,g,o,d),function qT(s,o,l,d,h,g){let v=g?o.classBindings:o.styleBindings,C=_o(v),D=Ms(v);s[d]=l;let M,N=!1;if(Array.isArray(l)){const L=l;M=L[1],(null===M||po(L,M)>0)&&(N=!0)}else M=l;if(h)if(0!==D){const j=_o(s[C+1]);s[d+1]=Bh(j,C),0!==j&&(s[j+1]=xm(s[j+1],d)),s[C+1]=function a1(s,o){return 131071&s|o<<17}(s[C+1],d)}else s[d+1]=Bh(C,0),0!==C&&(s[C+1]=xm(s[C+1],d)),C=d;else s[d+1]=Bh(D,0),0===C?C=d:s[D+1]=xm(s[D+1],d),D=d;N&&(s[d+1]=Fv(s[d+1])),rC(s,M,d,!0),rC(s,M,d,!1),function ZT(s,o,l,d,h){const g=h?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&po(g,o)>=0&&(l[d+1]=Lu(l[d+1]))}(o,M,s,d,g),v=Bh(C,D),g?o.classBindings=v:o.styleBindings=v}(h,g,o,l,v,d)}}function O0(s,o,l,d,h){let g=null;const v=l.directiveEnd;let C=l.directiveStylingLast;for(-1===C?C=l.directiveStart:C++;C<v&&(g=o[C],d=uf(d,g.hostAttrs,h),g!==s);)C++;return null!==s&&(l.directiveStylingLast=C),d}function uf(s,o,l){const d=l?1:2;let h=-1;if(null!==o)for(let g=0;g<o.length;g++){const v=o[g];"number"==typeof v?h=v:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Mr(s,v,!!l||o[++g]))}return void 0===s?null:s}function Zo(s,o,l,d,h,g,v,C){if(!(3&o.type))return;const D=s.data,N=D[C+1];ld(function Ip(s){return 1==(1&s)}(N)?x0(D,o,l,h,Ms(N),v):void 0)||(ld(g)||function kv(s){return 2==(2&s)}(N)&&(g=x0(D,null,l,h,C,v)),function fT(s,o,l,d,h){const g=En(s);if(o)h?g?s.addClass(l,d):l.classList.add(d):g?s.removeClass(l,d):l.classList.remove(d);else{let v=-1===d.indexOf("-")?void 0:te.DashCase;if(null==h)g?s.removeStyle(l,d,v):l.style.removeProperty(d);else{const C="string"==typeof h&&h.endsWith("!important");C&&(h=h.slice(0,-10),v|=te.Important),g?s.setStyle(l,d,h,v):l.style.setProperty(d,h,C?"important":"")}}}(d,v,No(qr(),l),h,g))}function x0(s,o,l,d,h,g){const v=null===o;let C;for(;h>0;){const D=s[h],N=Array.isArray(D),M=N?D[1]:D,L=null===M;let j=l[h+1];j===Ft&&(j=L?bt:void 0);let K=L?oc(j,d):M===d?j:void 0;if(N&&!ld(K)&&(K=oc(D,d)),ld(K)&&(C=K,v))return C;const _e=s[h+1];h=v?_o(_e):Ms(_e)}if(null!==o){let D=g?o.residualClasses:o.residualStyles;null!=D&&(C=oc(D,d))}return C}function ld(s){return void 0!==s}function pC(s,o){return 0!=(s.flags&(o?16:32))}function gC(s,o=""){const l=De(),d=jt(),h=s+20,g=d.firstCreatePass?ya(d,h,1,o,null):d.data[h],v=l[h]=Pu(l[11],o);Tm(d,l,v,g),hi(g,!1)}function P0(s){return b_("",s,""),P0}function b_(s,o,l){const d=De(),h=Da(d,s,o,l);return h!==Ft&&function Dt(s,o,l){const d=No(o,s);gp(s[11],d,l)}(d,qr(),h),b_}function S_(s,o,l){const d=De();return Kn(d,ro(),o)&&zi(jt(),Fn(),d,s,o,d[11],l,!0),S_}const Ps=void 0;var df=["en",[["a","p"],["AM","PM"],Ps],[["AM","PM"],Ps,Ps],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ps,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ps,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ps,"{1} 'at' {0}",Ps],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function dd(s){const l=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let Ta={};function Xp(s){const o=function L0(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=OC(o);if(l)return l;const d=o.split("-")[0];if(l=OC(d),l)return l;if("en"===d)return df;throw new Error(`Missing locale data for the locale "${s}".`)}function F0(s){return Xp(s)[St.PluralCase]}function OC(s){return s in Ta||(Ta[s]=Gt.ng&&Gt.ng.common&&Gt.ng.common.locales&&Gt.ng.common.locales[s]),Ta[s]}var St=(()=>((St=St||{})[St.LocaleId=0]="LocaleId",St[St.DayPeriodsFormat=1]="DayPeriodsFormat",St[St.DayPeriodsStandalone=2]="DayPeriodsStandalone",St[St.DaysFormat=3]="DaysFormat",St[St.DaysStandalone=4]="DaysStandalone",St[St.MonthsFormat=5]="MonthsFormat",St[St.MonthsStandalone=6]="MonthsStandalone",St[St.Eras=7]="Eras",St[St.FirstDayOfWeek=8]="FirstDayOfWeek",St[St.WeekendRange=9]="WeekendRange",St[St.DateFormat=10]="DateFormat",St[St.TimeFormat=11]="TimeFormat",St[St.DateTimeFormat=12]="DateTimeFormat",St[St.NumberSymbols=13]="NumberSymbols",St[St.NumberFormats=14]="NumberFormats",St[St.CurrencyCode=15]="CurrencyCode",St[St.CurrencySymbol=16]="CurrencySymbol",St[St.CurrencyName=17]="CurrencyName",St[St.Currencies=18]="Currencies",St[St.Directionality=19]="Directionality",St[St.PluralCase=20]="PluralCase",St[St.ExtraData=21]="ExtraData",St))();const eg=["zero","one","two","few","many"],I_="en-US",A_={marker:"element"},N_={marker:"ICU"};var ur=(()=>((ur=ur||{})[ur.SHIFT=2]="SHIFT",ur[ur.APPEND_EAGERLY=1]="APPEND_EAGERLY",ur[ur.COMMENT=2]="COMMENT",ur))();let vl=I_;function RC(s,o,l){const d=o.insertBeforeIndex,h=Array.isArray(d)?d[0]:d;return null===h?vp(s,0,l):yn(l[h])}function kC(s,o,l,d,h){const g=o.insertBeforeIndex;if(Array.isArray(g)){let v=d,C=null;if(3&o.type||(C=v,v=h),null!==v&&0==(2&o.flags))for(let D=1;D<g.length;D++)ku(s,v,l[g[D]],C,!1)}}function O_(s,o){if(s.push(o),s.length>1)for(let l=s.length-2;l>=0;l--){const d=s[l];pd(d)||iS(d,o)&&null===FC(d)&&tg(d,o.index)}}function pd(s){return!(64&s.type)}function iS(s,o){return pd(o)||s.index>o.index}function FC(s){const o=s.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function tg(s,o){const l=s.insertBeforeIndex;Array.isArray(l)?l[0]=o:(Mv(RC,kC),s.insertBeforeIndex=o)}function Oc(s,o){const l=s.data[o];return null===l||"string"==typeof l?null:l.hasOwnProperty("currentCaseLViewIndex")?l:l.value}function cs(s,o,l){const d=Hh(s,l,64,null,null);return O_(o,d),d}function ng(s,o){const l=o[s.currentCaseLViewIndex];return null===l?l:l<0?~l:l}function rg(s){return s>>>17}function P_(s){return(131070&s)>>>1}let Sa=0,hf=0;function B0(s,o,l,d){const h=l[11];let v,g=null;for(let C=0;C<o.length;C++){const D=o[C];if("string"==typeof D){const N=o[++C];null===l[N]&&(l[N]=Pu(h,D))}else if("number"==typeof D)switch(1&D){case 0:const N=rg(D);let M,L;if(null===g&&(g=N,v=Fh(h,d)),N===g?(M=d,L=v):(M=null,L=yn(l[N])),null!==L){const Ve=P_(D);ku(h,L,l[Ve],M,!1);const at=Oc(s,Ve);if(null!==at&&"object"==typeof at){const Te=ng(at,l);null!==Te&&B0(s,at.create[Te],l,l[at.anchorIdx])}}break;case 1:const K=o[++C],_e=o[++C];zm(h,No(D>>>1,l),null,null,K,_e,null)}else switch(D){case N_:const N=o[++C],M=o[++C];null===l[M]&&un(l[M]=Rh(h,N),l);break;case A_:const L=o[++C],j=o[++C];null===l[j]&&un(l[j]=Ru(h,L,null),l)}}}function bl(s,o,l,d,h){for(let g=0;g<l.length;g++){const v=l[g],C=l[++g];if(v&h){let D="";for(let N=g+1;N<=g+C;N++){const M=l[N];if("string"==typeof M)D+=M;else if("number"==typeof M)if(M<0)D+=fe(o[d-M]);else{const L=M>>>2;switch(3&M){case 1:const j=l[++N],K=l[++N],_e=s.data[L];"string"==typeof _e?zm(o[11],o[L],null,_e,j,D,K):zi(s,_e,o,j,D,o[11],K,!1);break;case 0:const Ve=o[L];null!==Ve&&gp(o[11],Ve,D);break;case 2:U0(s,Oc(s,L),o,D);break;case 3:Pc(s,Oc(s,L),d,o)}}}}else{const D=l[g+1];if(D>0&&3==(3&D)){const M=Oc(s,D>>>2);o[M.currentCaseLViewIndex]<0&&Pc(s,M,d,o)}}g+=C}}function Pc(s,o,l,d){let h=d[o.currentCaseLViewIndex];if(null!==h){let g=Sa;h<0&&(h=d[o.currentCaseLViewIndex]=~h,g=-1),bl(s,d,o.update[h],l,g)}}function U0(s,o,l,d){const h=function oS(s,o){let l=s.cases.indexOf(o);if(-1===l)switch(s.type){case 1:{const d=function hd(s,o){const l=F0(o)(parseInt(s,10)),d=eg[l];return void 0!==d?d:"other"}(o,function PC(){return vl}());l=s.cases.indexOf(d),-1===l&&"other"!==d&&(l=s.cases.indexOf("other"));break}case 0:l=s.cases.indexOf("other")}return-1===l?null:l}(o,d);if(ng(o,l)!==h&&(j0(s,o,l),l[o.currentCaseLViewIndex]=null===h?null:~h,null!==h)){const v=l[o.anchorIdx];v&&B0(s,o.create[h],l,v)}}function j0(s,o,l){let d=ng(o,l);if(null!==d){const h=o.remove[d];for(let g=0;g<h.length;g++){const v=h[g];if(v>0){const C=No(v,l);null!==C&&xv(l[11],C)}else j0(s,Oc(s,~v),l)}}}function aS(){const s=[];let l,d,o=-1;function g(C,D){o=0;const N=ng(C,D);d=null!==N?C.remove[N]:bt}function v(){if(o<d.length){const C=d[o++];return C>0?l[C]:(s.push(o,d),g(l[1].data[~C],l),v())}return 0===s.length?null:(d=s.pop(),o=s.pop(),v())}return function h(C,D){for(l=D;s.length;)s.pop();return g(C.value,D),v}}const R_=/\ufffd(\d+):?\d*\ufffd/gi,md=/\ufffd(\d+)\ufffd/,pf=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,UC=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,cS=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,jC=/\uE500/g;function mf(s,o,l,d,h,g,v){const C=Dc(s,d,1,null);let D=C<<ur.SHIFT,N=oa();o===N&&(N=null),null===N&&(D|=ur.APPEND_EAGERLY),v&&(D|=ur.COMMENT,function vt(s){void 0===je&&(je=s())}(aS)),h.push(D,null===g?"":g);const M=Hh(s,C,v?32:1,null===g?"":g,null);O_(l,M);const L=M.index;return hi(M,!1),null!==N&&o!==N&&function LC(s,o){let l=s.insertBeforeIndex;null===l?(Mv(RC,kC),l=s.insertBeforeIndex=[null,o]):(function Je(s,o,l){s!=o&&Ke(l,s,o,"==")}(Array.isArray(l),!0,"Expecting array here"),l.push(o))}(N,L),M}function k_(s,o,l,d,h,g,v){const C=v.match(R_),D=mf(s,o,l,g,d,C?null:v,!1);C&&_f(h,v,D.index,null,0,null)}function _f(s,o,l,d,h,g){const v=s.length,C=v+1;s.push(null,null);const D=v+2,N=o.split(R_);let M=0;for(let L=0;L<N.length;L++){const j=N[L];if(1&L){const K=h+parseInt(j,10);s.push(-1-K),M|=z0(K)}else""!==j&&s.push(j)}return s.push(l<<2|(d?1:0)),d&&s.push(d,g),s[v]=M,s[C]=s.length-D,M}function z0(s){return 1<<Math.min(s,31)}function W0(s){let o,g,l="",d=0,h=!1;for(;null!==(o=UC.exec(s));)h?o[0]===`\ufffd/*${g}\ufffd`&&(d=o.index,h=!1):(l+=s.substring(d,o.index+o[0].length),g=o[1],h=!0);return l+=s.substr(d),l}function F_(s,o,l,d,h,g){let v=0;const C={type:h.type,currentCaseLViewIndex:Dc(s,o,1,null),anchorIdx:g,cases:[],create:[],remove:[],update:[]};(function vf(s,o,l){s.push(z0(o.mainBinding),2,-1-o.mainBinding,l<<2|2)})(l,h,g),function x_(s,o,l){const d=s.data[o];null===d?s.data[o]=l:d.value=l}(s,g,C);const D=h.values;for(let N=0;N<D.length;N++){const M=D[N],L=[];for(let j=0;j<M.length;j++){const K=M[j];if("string"!=typeof K){const _e=L.push(K)-1;M[j]=`\x3c!--\ufffd${_e}\ufffd--\x3e`}}v=hS(s,C,o,l,d,h.cases[N],M.join(""),L)|v}v&&function Y0(s,o,l){s.push(o,1,l<<2|3)}(l,v,g)}function dS(s){const o=[],l=[];let d=1,h=0;const g=L_(s=s.replace(pf,function(v,C,D){return d="select"===D?0:1,h=parseInt(C.substr(1),10),""}));for(let v=0;v<g.length;){let C=g[v++].trim();1===d&&(C=C.replace(/\s*(?:=)?(\w+)\s*/,"$1")),C.length&&o.push(C);const D=L_(g[v++]);o.length>l.length&&l.push(D)}return{type:d,mainBinding:h,cases:o,values:l}}function L_(s){if(!s)return[];let o=0;const l=[],d=[],h=/[{}]/g;let g;for(h.lastIndex=0;g=h.exec(s);){const C=g.index;if("}"==g[0]){if(l.pop(),0==l.length){const D=s.substring(o,C);pf.test(D)?d.push(dS(D)):d.push(D),o=C+1}}else{if(0==l.length){const D=s.substring(o,C);d.push(D),o=C+1}l.push("{")}}const v=s.substring(o);return d.push(v),d}function hS(s,o,l,d,h,g,v,C){const D=[],N=[],M=[];o.cases.push(g),o.create.push(D),o.remove.push(N),o.update.push(M);const j=function fv(s){const o=new gv(s);return function aT(){try{return!!(new window.DOMParser).parseFromString(hc(""),"text/html")}catch(s){return!1}}()?new pv(o):o}($a()).getInertBodyElement(v),K=function gc(s){return"content"in s&&function wv(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}(j)||j;return K?K0(s,o,l,d,D,N,M,K,h,C,0):0}function K0(s,o,l,d,h,g,v,C,D,N,M){let L=0,j=C.firstChild;for(;j;){const K=Dc(s,l,1,null);switch(j.nodeType){case Node.ELEMENT_NODE:const _e=j,Ve=_e.tagName.toLowerCase();if(vh.hasOwnProperty(Ve)){bf(h,A_,Ve,D,K),s.data[K]=Ve;const _t=_e.attributes;for(let tn=0;tn<_t.length;tn++){const bn=_t.item(tn),us=bn.name.toLowerCase();bn.value.match(R_)?nl.hasOwnProperty(us)&&_f(v,bn.value,K,bn.name,0,bh[us]?Du:wh[us]?mv:null):GC(h,K,bn)}L=K0(s,o,l,d,h,g,v,j,K,N,M+1)|L,$C(g,K,M)}break;case Node.TEXT_NODE:const Ze=j.textContent||"",at=Ze.match(R_);bf(h,null,at?"":Ze,D,K),$C(g,K,M),at&&(L=_f(v,Ze,K,null,0,null)|L);break;case Node.COMMENT_NODE:const Te=md.exec(j.textContent||"");if(Te){const tn=N[parseInt(Te[1],10)];bf(h,N_,"",D,K),F_(s,l,d,D,tn,K),yf(g,K,M)}}j=j.nextSibling}return L}function $C(s,o,l){0===l&&s.push(o)}function yf(s,o,l){0===l&&(s.push(~o),s.push(o))}function bf(s,o,l,d,h){null!==o&&s.push(o),s.push(l,h,function xc(s,o,l){return s|o<<17|l<<1}(0,d,h))}function GC(s,o,l){s.push(o<<1|1,l.name,l.value)}function Yr(s,o,l=-1){const d=jt(),h=De(),g=20+s,v=di(d.consts,o),C=oa();d.firstCreatePass&&function G0(s,o,l,d,h,g){const v=oa(),C=[],D=[],N=[[]];h=function HC(s,o){if(function uS(s){return-1===s}(o))return W0(s);{const l=s.indexOf(`:${o}\ufffd`)+2+o.toString().length,d=s.search(new RegExp(`\ufffd\\/\\*\\d+:${o}\ufffd`));return W0(s.substring(l,d))}}(h,g);const M=function $0(s){return s.replace(jC," ")}(h).split(cS);for(let L=0;L<M.length;L++){let j=M[L];if(0==(1&L)){const K=L_(j);for(let _e=0;_e<K.length;_e++){let Ve=K[_e];if(0==(1&_e)){const Ze=Ve;""!==Ze&&k_(s,v,N[0],C,D,l,Ze)}else{const Ze=Ve;if("object"!=typeof Ze)throw new Error(`Unable to parse ICU expression in "${h}" message.`);F_(s,l,D,o,Ze,mf(s,v,N[0],l,C,"",!0).index)}}}else{const K=47===j.charCodeAt(0),Ve=(j.charCodeAt(K?1:0),20+Number.parseInt(j.substring(K?2:1)));if(K)N.shift(),hi(oa(),!1);else{const Ze=cs(s,N[0],Ve);N.unshift([]),hi(Ze,!0)}}}s.data[d]={create:C,update:D}}(d,null===C?0:C.index,h,g,v,l);const D=d.data[g],M=Jw(d,C===h[6]?null:C,h);(function ff(s,o,l,d){const h=s[11];for(let g=0;g<o.length;g++){const v=o[g++],C=o[g],D=(v&ur.COMMENT)===ur.COMMENT,N=(v&ur.APPEND_EAGERLY)===ur.APPEND_EAGERLY,M=v>>>ur.SHIFT;let L=s[M];null===L&&(L=s[M]=D?h.createComment(C):Pu(h,C)),N&&null!==l&&ku(h,l,L,d,!1)}})(h,D.create,M,C&&8&C.type?h[C.index]:null),ec(!0)}function zC(s,o,l){Yr(s,o,l),function ZC(){ec(!1)}()}function tb(s){return function gd(s){s&&(Sa|=1<<Math.min(hf,31)),hf++}(Kn(De(),ro(),s)),tb}function WC(s){!function sS(s,o,l){if(hf>0){const d=s.data[l];bl(s,o,Array.isArray(d)?d:d.update,function Pi(){return Ct.lFrame.bindingIndex}()-hf-1,Sa)}Sa=0,hf=0}(jt(),De(),s+20)}function V_(s,o,l,d,h){if(s=J(s),Array.isArray(s))for(let g=0;g<s.length;g++)V_(s[g],o,l,d,h);else{const g=jt(),v=De();let C=ju(s)?s:J(s.provide),D=Bt(s);const N=In(),M=1048575&N.providerIndexes,L=N.directiveStart,j=N.providerIndexes>>20;if(ju(s)||!s.multi){const K=new la(D,h,ml),_e=wf(C,o,h?M:M+j,L);-1===_e?(ao(Es(N,v),g,C),B_(g,s,o.length),o.push(C),N.directiveStart++,N.directiveEnd++,h&&(N.providerIndexes+=1048576),l.push(K),v.push(K)):(l[_e]=K,v[_e]=K)}else{const K=wf(C,o,M+j,L),_e=wf(C,o,M,M+j),Ve=K>=0&&l[K],Ze=_e>=0&&l[_e];if(h&&!Ze||!h&&!Ve){ao(Es(N,v),g,C);const at=function rb(s,o,l,d,h){const g=new la(s,l,ml);return g.multi=[],g.index=o,g.componentProviders=0,U_(g,h,d&&!l),g}(h?j_:ig,l.length,h,d,D);!h&&Ze&&(l[_e].providerFactory=at),B_(g,s,o.length,0),o.push(C),N.directiveStart++,N.directiveEnd++,h&&(N.providerIndexes+=1048576),l.push(at),v.push(at)}else B_(g,s,K>-1?K:_e,U_(l[h?_e:K],D,!h&&d));!h&&d&&Ze&&l[_e].componentProviders++}}}function B_(s,o,l,d){const h=ju(o),g=function Hu(s){return!!s.useClass}(o);if(h||g){const D=(g?J(o.useClass):o).prototype.ngOnDestroy;if(D){const N=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const M=N.indexOf(l);-1===M?N.push(l,[d,D]):N[M+1].push(d,D)}else N.push(l,D)}}}function U_(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function wf(s,o,l,d){for(let h=l;h<d;h++)if(o[h]===s)return h;return-1}function ig(s,o,l,d){return sg(this.multi,[])}function j_(s,o,l,d){const h=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,C=gi(l,l[1],this.providerFactory.index,d);g=C.slice(0,v),sg(h,g);for(let D=v;D<C.length;D++)g.push(C[D])}else g=[],sg(h,g);return g}function sg(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function H_(s,o=[]){return l=>{l.providersResolver=(d,h)=>function nb(s,o,l){const d=jt();if(d.firstCreatePass){const h=ci(s);V_(l,d.data,d.blueprint,h,!0),V_(o,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,o)}}class YC{}class vS{resolveComponentFactory(o){throw function QC(s){const o=Error(`No component factory found for ${he(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let og=(()=>{class s{}return s.NULL=new vS,s})();function $_(){return Ia(In(),De())}function Ia(s,o){return new _d($r(s,o))}let _d=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=$_,s})();function XC(s){return s instanceof _d?s.nativeElement:s}class eD{}let bS=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function CS(){const s=De(),l=Gr(In().index,s);return function wS(s){return s[11]}(Hi(l)?l:s)}(),s})(),ag=(()=>{class s{}return s.\u0275prov=an({token:s,providedIn:"root",factory:()=>null}),s})();class G_{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const yd=new G_("13.3.6"),lg={};function vd(s,o,l,d,h=!1){for(;null!==l;){const g=o[l.index];if(null!==g&&d.push(yn(g)),Oi(g))for(let C=10;C<g.length;C++){const D=g[C],N=D[1].firstChild;null!==N&&vd(D[1],D,N,d)}const v=l.type;if(8&v)vd(s,o,l.child,d);else if(32&v){const C=ot(l,o);let D;for(;D=C();)d.push(D)}else if(16&v){const C=Ov(o,l);if(Array.isArray(C))d.push(...C);else{const D=Vn(o[16]);vd(D[1],D,C,d,!0)}}l=h?l.projectionNext:l.next}return d}class wl{constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,l=o[1];return vd(l,o,l.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Oi(o)){const l=o[8],d=l?l.indexOf(this):-1;d>-1&&(zr(o,d),fo(l,d))}this._attachedToViewContainer=!1}_p(this._lView[1],this._lView)}onDestroy(o){xp(this._lView[1],this._lView,null,o)}markForCheck(){Ym(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Jv(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Ci(s,o,l){no(!0);try{Jv(s,o,l)}finally{no(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new ke(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Tv(s,o){wp(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new ke(902,"");this._appRef=o}}class ib extends wl{constructor(o){super(o),this._view=o}detectChanges(){Xv(this._view)}checkNoChanges(){!function Zh(s){no(!0);try{Xv(s)}finally{no(!1)}}(this._view)}get context(){return null}}class sb extends og{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=Jt(o);return new Z_(l,this.ngModule)}}function q_(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}class Z_ extends YC{constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function Mm(s){return s.map(Rv).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return q_(this.componentDef.inputs)}get outputs(){return q_(this.componentDef.outputs)}create(o,l,d,h){const g=(h=h||this.ngModule)?function Rc(s,o){return{get:(l,d,h)=>{const g=s.get(l,lg,h);return g!==lg||d===lg?g:o.get(l,d,h)}}}(o,h.injector):o,v=g.get(eD,ia),C=g.get(ag,null),D=v.createRenderer(null,this.componentDef),N=this.componentDef.selectors[0][0]||"div",M=d?function jv(s,o,l){if(En(s))return s.selectRootElement(o,l===Qt.ShadowDom);let d="string"==typeof o?s.querySelector(o):o;return d.textContent="",d}(D,d,this.componentDef.encapsulation):Ru(v.createRenderer(null,this.componentDef),N,function ob(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(N)),L=this.componentDef.onPush?576:528,j=function Ic(s,o){return{components:[],scheduler:s||xh,clean:AT,playerHandler:o||null,flags:0}}(),K=$m(0,null,null,1,0,null,null,null,null,null),_e=Cc(null,K,j,L,null,null,v,D,C,g);let Ve,Ze;io(_e);try{const at=function zu(s,o,l,d,h,g){const v=l[1];l[20]=s;const D=ya(v,20,2,"#host",null),N=D.mergedAttrs=o.hostAttrs;null!==N&&(Jm(D,N,!0),null!==s&&(rs(h,s,N),null!==D.classes&&Im(h,s,D.classes),null!==D.styles&&bc(h,s,D.styles)));const M=d.createRenderer(s,o),L=Cc(l,m1(o),null,o.onPush?64:16,l[20],D,d,M,g||null,null);return v.firstCreatePass&&(ao(Es(D,l),v,o.type),zv(v,D),Wv(D,l.length,1)),Km(l,L),l[20]=L}(M,this.componentDef,_e,v,D);if(M)if(d)rs(D,M,["ng-version",yd.full]);else{const{attrs:Te,classes:_t}=function Tp(s){const o=[],l=[];let d=1,h=2;for(;d<s.length;){let g=s[d];if("string"==typeof g)2===h?""!==g&&o.push(g,s[++d]):8===h&&l.push(g);else{if(!ls(h))break;h=g}d++}return{attrs:o,classes:l}}(this.componentDef.selectors[0]);Te&&rs(D,M,Te),_t&&_t.length>0&&Im(D,M,_t.join(" "))}if(Ze=Ga(K,20),void 0!==l){const Te=Ze.projection=[];for(let _t=0;_t<this.ngContentSelectors.length;_t++){const tn=l[_t];Te.push(null!=tn?Array.from(tn):null)}}Ve=function t_(s,o,l,d,h){const g=l[1],v=function Gm(s,o,l){const d=In();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),Ec(s,d,o,Dc(s,o,1,null),l));const h=gi(o,s,d.directiveStart,d);un(h,o);const g=$r(d,o);return g&&un(g,o),h}(g,l,o);if(d.components.push(v),s[8]=v,h&&h.forEach(D=>D(v,o)),o.contentQueries){const D=In();o.contentQueries(1,v,D.directiveStart)}const C=In();return!g.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(oo(C.index),qv(l[1],C,0,C.directiveStart,C.directiveEnd,o),qm(o,v)),v}(at,this.componentDef,_e,j,[c0]),$h(K,_e,null)}finally{Oo()}return new ES(this.componentType,Ve,Ia(Ze,_e),_e,Ze)}}class ES extends class KC{}{constructor(o,l,d,h,g){super(),this.location=d,this._rootLView=h,this._tNode=g,this.instance=l,this.hostView=this.changeDetectorRef=new ib(h),this.componentType=o}get injector(){return new ki(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class Cf{}class z_{}const Cl=new Map;class cb extends Cf{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new sb(this);const d=wn(o);this._bootstrapComponents=m(d.bootstrap),this._r3Injector=M1(o,l,[{provide:Cf,useValue:this},{provide:og,useValue:this.componentFactoryResolver}],he(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,l=Ca.THROW_IF_NOT_FOUND,d=yt.Default){return o===Ca||o===Cf||o===xr?this:this._r3Injector.get(o,l,d)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class W_ extends z_{constructor(o){super(),this.moduleType=o,null!==wn(o)&&function Df(s){const o=new Set;!function l(d){const h=wn(d,!0),g=h.id;null!==g&&(function lb(s,o,l){if(o&&o!==l)throw new Error(`Duplicate module registered for ${s} - ${he(o)} vs ${he(o.name)}`)}(g,Cl.get(g),d),Cl.set(g,d));const v=m(h.imports);for(const C of v)o.has(C)||(o.add(C),l(C))}(s)}(o)}create(o){return new cb(this.moduleType,o)}}function K_(s,o,l,d){return Q_(De(),Ar(),s,o,l,d)}function sD(s,o,l,d,h){return function wd(s,o,l,d,h,g,v){const C=o+l;return Ju(s,C,h,g)?Ho(s,C+2,v?d.call(v,h,g):d(h,g)):bd(s,C+2)}(De(),Ar(),s,o,l,d,h)}function Y_(s,o,l,d,h,g){return function Dl(s,o,l,d,h,g,v,C){const D=o+l;return function a_(s,o,l,d,h){const g=Ju(s,o,l,d);return Kn(s,o+2,h)||g}(s,D,h,g,v)?Ho(s,D+3,C?d.call(C,h,g,v):d(h,g,v)):bd(s,D+3)}(De(),Ar(),s,o,l,d,h,g)}function bd(s,o){const l=s[o];return l===Ft?void 0:l}function Q_(s,o,l,d,h,g){const v=o+l;return Kn(s,v,h)?Ho(s,v+1,g?d.call(g,h):d(h)):bd(s,v+1)}function Dd(s,o){const l=jt();let d;const h=s+20;l.firstCreatePass?(d=function aD(s,o){if(o)for(let l=o.length-1;l>=0;l--){const d=o[l];if(s===d.name)return d}}(o,l.pipeRegistry),l.data[h]=d,d.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(h,d.onDestroy)):d=l.data[h];const g=d.factory||(d.factory=ui(d.type)),v=rr(ml);try{const C=pt(!1),D=g();return pt(C),function gl(s,o,l,d){l>=s.data.length&&(s.data[l]=null,s.blueprint[l]=null),o[l]=d}(l,De(),h,D),D}finally{rr(v)}}function Ed(s,o,l){const d=s+20,h=De(),g=$i(h,d);return function Td(s,o){return s[1].data[o].pure}(h,d)?Q_(h,Ar(),o,g.transform,l,g):g.transform(l)}function mb(s){return o=>{setTimeout(s,void 0,o)}}const Aa=class gb extends c.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,d){var h,g,v;let C=o,D=l||(()=>null),N=d;if(o&&"object"==typeof o){const L=o;C=null===(h=L.next)||void 0===h?void 0:h.bind(L),D=null===(g=L.error)||void 0===g?void 0:g.bind(L),N=null===(v=L.complete)||void 0===v?void 0:v.bind(L)}this.__isAsync&&(D=mb(D),C&&(C=mb(C)),N&&(N=mb(N)));const M=super.subscribe({next:C,error:D,complete:N});return o instanceof Y.w0&&o.add(M),M}};function _b(){return this._results[Dn()]()}class cg{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Dn(),d=cg.prototype;d[l]||(d[l]=_b)}get changes(){return this._changes||(this._changes=new Aa)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const d=this;d.dirty=!1;const h=Nr(o);(this._changesDetected=!function gu(s,o,l){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],g=o[d];if(l&&(h=l(h),g=l(g)),g!==h)return!1}return!0}(d._results,h,l))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let ug=(()=>{class s{}return s.__NG_ELEMENT_ID__=cD,s})();const lD=ug,MS=class extends lD{constructor(o,l,d){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=d}createEmbeddedView(o){const l=this._declarationTContainer.tViews,d=Cc(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(d[19]=g.createEmbeddedView(l)),$h(l,d,o),new wl(d)}};function cD(){return dg(In(),De())}function dg(s,o){return 4&s.type?new MS(o,s,Ia(s,o)):null}let hg=(()=>{class s{}return s.__NG_ELEMENT_ID__=uD,s})();function uD(){return X_(In(),De())}const OS=hg,dD=class extends OS{constructor(o,l,d){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=d}get element(){return Ia(this._hostTNode,this._hostLView)}get injector(){return new ki(this._hostTNode,this._hostLView)}get parentInjector(){const o=pi(this._hostTNode,this._hostLView);if(Wa(o)){const l=cn(o,this._hostLView),d=Zt(o);return new ki(l[1].data[d+8],l)}return new ki(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=hD(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,l,d){const h=o.createEmbeddedView(l||{});return this.insert(h,d),h}createComponent(o,l,d,h,g){const v=o&&!function ho(s){return"function"==typeof s}(o);let C;if(v)C=l;else{const L=l||{};C=L.index,d=L.injector,h=L.projectableNodes,g=L.ngModuleRef}const D=v?o:new Z_(Jt(o)),N=d||this.parentInjector;if(!g&&null==D.ngModule){const j=(v?N:this.parentInjector).get(Cf,null);j&&(g=j)}const M=D.create(N,h,void 0,g);return this.insert(M.hostView,C),M}insert(o,l){const d=o._lView,h=d[1];if(function zl(s){return Oi(s[3])}(d)){const M=this.indexOf(o);if(-1!==M)this.detach(M);else{const L=d[3],j=new dD(L,L[6],L[3]);j.detach(j.indexOf(o))}}const g=this._adjustIndex(l),v=this._lContainer;!function Iv(s,o,l,d){const h=10+d,g=l.length;d>0&&(l[h-1][4]=o),d<g-10?(o[4]=l[h],ah(l,10+d,o)):(l.push(o),o[4]=null),o[3]=l;const v=o[17];null!==v&&l!==v&&function Av(s,o){const l=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===l?s[9]=[o]:l.push(o)}(v,o);const C=o[19];null!==C&&C.insertView(s),o[2]|=128}(h,d,v,g);const C=Sm(g,v),D=d[11],N=Fh(D,v[7]);return null!==N&&function kh(s,o,l,d,h,g){d[0]=h,d[6]=o,wp(s,d,l,1,h,g)}(h,v[6],D,d,N,C),o.attachToViewContainerRef(),ah(yb(v),g,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=hD(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),d=zr(this._lContainer,l);d&&(fo(yb(this._lContainer),l),_p(d[1],d))}detach(o){const l=this._adjustIndex(o,-1),d=zr(this._lContainer,l);return d&&null!=fo(yb(this._lContainer),l)?new wl(d):null}_adjustIndex(o,l=0){return null==o?this.length+l:o}};function hD(s){return s[8]}function yb(s){return s[8]||(s[8]=[])}function X_(s,o){let l;const d=o[s.index];if(Oi(d))l=d;else{let h;if(8&s.type)h=yn(d);else{const g=o[11];h=g.createComment("");const v=$r(s,o);ku(g,Fh(g,v),h,function Xw(s,o){return En(s)?s.nextSibling(o):o.nextSibling}(g,v),!1)}o[s.index]=l=Kv(d,o,h,s),Km(o,l)}return new dD(l,s,o)}class fg{constructor(o){this.queryList=o,this.matches=null}clone(){return new fg(this.queryList)}setDirty(){this.queryList.setDirty()}}class wb{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const d=null!==o.contentQueries?o.contentQueries[0]:l.length,h=[];for(let g=0;g<d;g++){const v=l.getByIndex(g);h.push(this.queries[v.indexInDeclarationView].clone())}return new wb(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==gD(o,l).matches&&this.queries[l].setDirty()}}class ey{constructor(o,l,d=null){this.predicate=o,this.flags=l,this.read=d}}class ty{constructor(o=[]){this.queries=o}elementStart(o,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let d=0;d<this.length;d++){const h=null!==l?l.length:0,g=this.getByIndex(d).embeddedTView(o,h);g&&(g.indexInDeclarationView=d,null!==l?l.push(g):l=[g])}return null!==l?new ty(l):null}template(o,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class pg{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new pg(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const g=d[h];this.matchTNodeWithReadOption(o,l,fD(l,g)),this.matchTNodeWithReadOption(o,l,ic(l,o,g,!1,!1))}else d===ug?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,ic(l,o,d,!1,!1))}matchTNodeWithReadOption(o,l,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===_d||h===hg||h===ug&&4&l.type)this.addMatch(l.index,-2);else{const g=ic(l,o,h,!1,!1);null!==g&&this.addMatch(l.index,g)}else this.addMatch(l.index,d)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function fD(s,o){const l=s.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===o)return l[d+1];return null}function Cb(s,o,l,d){return-1===l?function xS(s,o){return 11&s.type?Ia(s,o):4&s.type?dg(s,o):null}(o,s):-2===l?function PS(s,o,l){return l===_d?Ia(o,s):l===ug?dg(o,s):l===hg?X_(o,s):void 0}(s,o,d):gi(s,s[1],l,o)}function ny(s,o,l,d){const h=o[19].queries[d];if(null===h.matches){const g=s.data,v=l.matches,C=[];for(let D=0;D<v.length;D+=2){const N=v[D];C.push(N<0?null:Cb(o,g[N],v[D+1],l.metadata.read))}h.matches=C}return h.matches}function Db(s,o,l,d){const h=s.queries.getByIndex(l),g=h.matches;if(null!==g){const v=ny(s,o,h,l);for(let C=0;C<g.length;C+=2){const D=g[C];if(D>0)d.push(v[C/2]);else{const N=g[C+1],M=o[-D];for(let L=10;L<M.length;L++){const j=M[L];j[17]===j[3]&&Db(j[1],j,N,d)}if(null!==M[9]){const L=M[9];for(let j=0;j<L.length;j++){const K=L[j];Db(K[1],K,N,d)}}}}}return d}function ry(s){const o=De(),l=jt(),d=su();ou(d+1);const h=gD(l,d);if(s.dirty&&Xs(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const g=h.crossesNgTemplate?Db(l,o,d,[]):ny(l,o,h,d);s.reset(g,XC),s.notifyOnChanges()}return!0}return!1}function pD(s,o,l){const d=jt();d.firstCreatePass&&(Tb(d,new ey(s,o,l),-1),2==(2&o)&&(d.staticViewQueries=!0)),Sd(d,De(),o)}function iy(s,o,l,d){const h=jt();if(h.firstCreatePass){const g=In();Tb(h,new ey(o,l,d),g.index),function Sb(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(h,s),2==(2&l)&&(h.staticContentQueries=!0)}Sd(h,De(),l)}function sy(){return function Eb(s,o){return s[19].queries[o].queryList}(De(),su())}function Sd(s,o,l){const d=new cg(4==(4&l));xp(s,o,d,d.destroy),null===o[19]&&(o[19]=new wb),o[19].queries.push(new fg(d))}function Tb(s,o,l){null===s.queries&&(s.queries=new ty),s.queries.track(new pg(o,l))}function gD(s,o){return s.queries.getByIndex(o)}function oy(s,o){return dg(s,o)}function _y(...s){}const ED=new qn("Application Initializer");let Bb=(()=>{class s{constructor(l){this.appInits=l,this.resolve=_y,this.reject=_y,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(nf(g))l.push(g);else if(Pn(g)){const v=new Promise((C,D)=>{g.subscribe({complete:C,error:D})});l.push(v)}}Promise.all(l).then(()=>{d()}).catch(h=>{this.reject(h)}),0===l.length&&d(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(ct(ED,8))},s.\u0275prov=an({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Ub=new qn("AppId",{providedIn:"root",factory:function yy(){return`${vy()}${vy()}${vy()}`}});function vy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const jb=new qn("Platform Initializer"),by=new qn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),sn=new qn("appBootstrapListener");let TD=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=an({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Hb=new qn("LocaleId",{providedIn:"root",factory:()=>zt(Hb,yt.Optional|yt.SkipSelf)||function wg(){return"undefined"!=typeof $localize&&$localize.locale||I_}()}),Bn=new qn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class qS{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let wy=(()=>{class s{compileModuleSync(l){return new W_(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),g=m(wn(l).declarations).reduce((v,C)=>{const D=Jt(C);return D&&v.push(new Z_(D)),v},[]);return new qS(d,g)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=an({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const zS=(()=>Promise.resolve(0))();function Cg(s){"undefined"==typeof Zone?zS.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Wo{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Aa(!1),this.onMicrotaskEmpty=new Aa(!1),this.onStable=new Aa(!1),this.onError=new Aa(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&l,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function WS(){let s=Gt.requestAnimationFrame,o=Gt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Lr(s){const o=()=>{!function BN(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Gt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Cy(s),s.isCheckStableRunning=!0,ID(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Cy(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,h,g,v,C)=>{try{return AD(s),l.invokeTask(h,g,v,C)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),ND(s)}},onInvoke:(l,d,h,g,v,C,D)=>{try{return AD(s),l.invoke(h,g,v,C,D)}finally{s.shouldCoalesceRunChangeDetection&&o(),ND(s)}},onHasTask:(l,d,h,g)=>{l.hasTask(h,g),d===h&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,Cy(s),ID(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(l,d,h,g)=>(l.handleError(h,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Wo.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Wo.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,l,d){return this._inner.run(o,l,d)}runTask(o,l,d,h){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+h,o,Yn,_y,_y);try{return g.runTask(v,l,d)}finally{g.cancelTask(v)}}runGuarded(o,l,d){return this._inner.runGuarded(o,l,d)}runOutsideAngular(o){return this._outer.run(o)}}const Yn={};function ID(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Cy(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function AD(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function ND(s){s._nesting--,ID(s)}class MD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Aa,this.onMicrotaskEmpty=new Aa,this.onStable=new Aa,this.onError=new Aa}run(o,l,d){return o.apply(l,d)}runGuarded(o,l,d){return o.apply(l,d)}runOutsideAngular(o){return o()}runTask(o,l,d,h){return o.apply(l,d)}}let OD=(()=>{class s{constructor(l){this._ngZone=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Wo.assertNotInAngularZone(),Cg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Cg(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,h){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:g,updateCb:h})}whenStable(l,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(l,d,h){return[]}}return s.\u0275fac=function(l){return new(l||s)(ct(Wo))},s.\u0275prov=an({token:s,factory:s.\u0275fac}),s})(),KS=(()=>{class s{constructor(){this._applications=new Map,xD.addToWindow(this)}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return xD.findTestabilityInTree(this,l,d)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=an({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();class YS{addToWindow(o){}findTestabilityInTree(o,l,d){return null}}function QS(s){xD=s}let xD=new YS,Id=null;const PD=new qn("AllowMultipleToken"),$b=new qn("PlatformOnDestroy");class Ad{constructor(o,l){this.name=o,this.token=l}}function RD(s,o,l=[]){const d=`Platform: ${o}`,h=new qn(d);return(g=[])=>{let v=Tf();if(!v||v.injector.get(PD,!1)){const C=[...l,...g,{provide:h,useValue:!0}];s?s(C):function Dy(s){if(Id&&!Id.get(PD,!1))throw new ke(400,"");Id=s;const o=s.get(FD),l=s.get(jb,null);l&&l.forEach(d=>d())}(function kD(s=[],o){return Ca.create({name:o,providers:[{provide:t0,useValue:"platform"},{provide:$b,useValue:()=>Id=null},...s]})}(C,d))}return function JS(s){const o=Tf();if(!o)throw new ke(401,"");return o}()}}function Tf(){var s;return null!==(s=null==Id?void 0:Id.get(FD))&&void 0!==s?s:null}let FD=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const C=function Nd(s,o){let l;return l="noop"===s?new MD:("zone.js"===s?void 0:s)||new Wo({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),l}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),D=[{provide:Wo,useValue:C}];return C.run(()=>{const N=Ca.create({providers:D,parent:this.injector,name:l.moduleType.name}),M=l.create(N),L=M.injector.get(Or,null);if(!L)throw new ke(402,"");return C.runOutsideAngular(()=>{const j=C.onError.subscribe({next:K=>{L.handleError(K)}});M.onDestroy(()=>{Dg(this._modules,M),j.unsubscribe()})}),function Ey(s,o,l){try{const d=l();return nf(d)?d.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(L,C,()=>{const j=M.injector.get(Bb);return j.runInitializers(),j.donePromise.then(()=>(function fd(s){(function gn(s,o){null==s&&Ke(o,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(vl=s.toLowerCase().replace(/_/g,"-"))}(M.injector.get(Hb,I_)||I_),this._moduleDoBootstrap(M),M))})})}bootstrapModule(l,d=[]){const h=Sf({},d);return function Tl(s,o,l){const d=new W_(l);return Promise.resolve(d)}(0,0,l).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(l){const d=l.injector.get(Ty);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new ke(403,"");l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ke(404,"");this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const l=this._injector.get($b,null);null==l||l(),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(ct(Ca))},s.\u0275prov=an({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function Sf(s,o){return Array.isArray(o)?o.reduce(Sf,s):Object.assign(Object.assign({},s),o)}let Ty=(()=>{class s{constructor(l,d,h,g){this._zone=l,this._injector=d,this._exceptionHandler=h,this._initStatus=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new k.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),C=new k.y(D=>{let N;this._zone.runOutsideAngular(()=>{N=this._zone.onStable.subscribe(()=>{Wo.assertNotInAngularZone(),Cg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{Wo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{N.unsubscribe(),M.unsubscribe()}});this.isStable=(0,ae.T)(v,C.pipe((0,ee.B)()))}bootstrap(l,d){if(!this._initStatus.done)throw new ke(405,"");let h;h=l instanceof YC?l:this._injector.get(og).resolveComponentFactory(l),this.componentTypes.push(h.componentType);const g=function Na(s){return s.isBoundToModule}(h)?void 0:this._injector.get(Cf),C=h.create(Ca.NULL,[],d||h.selector,g),D=C.location.nativeElement,N=C.injector.get(OD,null),M=N&&C.injector.get(KS);return N&&M&&M.registerApplication(D,N),C.onDestroy(()=>{this.detachView(C.hostView),Dg(this.components,C),M&&M.unregisterApplication(D)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new ke(101,"");try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;Dg(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(sn,[]).concat(this._bootstrapListeners).forEach(h=>h(l))}ngOnDestroy(){this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(l){return new(l||s)(ct(Wo),ct(Ca),ct(Or),ct(Bb))},s.\u0275prov=an({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Dg(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}let VD=!0,Sy=!1;function Gb(){return Sy=!0,VD}function BD(){if(Sy)throw new Error("Cannot enable prod mode after platform setup.");VD=!1}let Zb=(()=>{class s{}return s.__NG_ELEMENT_ID__=zb,s})();function zb(s){return function nI(s,o,l){if(zs(s)&&!l){const d=Gr(s.index,o);return new wl(d,d)}return 47&s.type?new wl(o[16],o):null}(In(),De(),16==(16&s))}class Xb{constructor(){}supports(o){return Ku(o)}create(o){return new oI(o)}}const sI=(s,o)=>o;class oI{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||sI}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,d=this._removalsHead,h=0,g=null;for(;l||d;){const v=!d||l&&l.currentIndex<ew(d,h,g)?l:d,C=ew(v,h,g),D=v.currentIndex;if(v===d)h--,d=d._nextRemoved;else if(l=l._next,null==v.previousIndex)h++;else{g||(g=[]);const N=C-h,M=D-h;if(N!=M){for(let j=0;j<N;j++){const K=j<g.length?g[j]:g[j]=0,_e=K+j;M<=_e&&_e<N&&(g[j]=K+1)}g[v.previousIndex]=M-N}}C!==D&&o(v,C,D)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!Ku(o))throw new ke(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,g,v,l=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let C=0;C<this.length;C++)g=o[C],v=this._trackByFn(C,g),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,g,v,C)),Object.is(l.item,g)||this._addIdentityChange(l,g)):(l=this._mismatch(l,g,v,C),d=!0),l=l._next}else h=0,function o_(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[Dn()]();let d;for(;!(d=l.next()).done;)o(d.value)}}(o,C=>{v=this._trackByFn(h,C),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,C,v,h)),Object.is(l.item,C)||this._addIdentityChange(l,C)):(l=this._mismatch(l,C,v,h),d=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,d,h){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,g,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,g,h)):o=this._addAfter(new UD(l,d),g,h),o}_verifyReinsertion(o,l,d,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?o=this._reinsertAfter(g,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,g=o._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(o,l,d),this._addToMoves(o,d),o}_moveAfter(o,l,d){return this._unlink(o),this._insertAfter(o,l,d),this._addToMoves(o,d),o}_addAfter(o,l,d){return this._insertAfter(o,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,d){const h=null===l?this._itHead:l._next;return o._next=h,o._prev=l,null===h?this._itTail=o:h._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new jD),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,d=o._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new jD),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class UD{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class aI{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const l=o._prevDup,d=o._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class jD{constructor(){this.map=new Map}put(o){const l=o.trackById;let d=this.map.get(l);d||(d=new aI,this.map.set(l,d)),d.add(o)}get(o,l){const h=this.map.get(o);return h?h.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ew(s,o,l){const d=s.previousIndex;if(null===d)return d;let h=0;return l&&d<l.length&&(h=l[d]),d+o+h}class tw{constructor(){}supports(o){return o instanceof Map||Qu(o)}create(){return new HD}}class HD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||Qu(o)))throw new ke(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const g=this._getOrCreateRecordForKey(h,d);l=this._insertBeforeOrAppend(l,g)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const d=o._prev;return l._next=o,l._prev=d,o._prev=l,d&&(d._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,l);const g=h._prev,v=h._next;return g&&(g._next=v),v&&(v._prev=g),h._next=null,h._prev=null,h}const d=new $D(o);return this._records.set(o,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(d=>l(o[d],d))}}class $D{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Oy(){return new Af([new Xb])}let Af=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(null!=d){const h=d.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||Oy()),deps:[[s,new Is,new vi]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(null!=d)return d;throw new ke(901,"")}}return s.\u0275prov=an({token:s,providedIn:"root",factory:Oy}),s})();function nw(){return new Oa([new tw])}let Oa=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(d){const h=d.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||nw()),deps:[[s,new Is,new vi]]}}find(l){const d=this.factories.find(g=>g.supports(l));if(d)return d;throw new ke(901,"")}}return s.\u0275prov=an({token:s,providedIn:"root",factory:nw}),s})();const cI=RD(null,"core",[]);let uI=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(ct(Ty))},s.\u0275mod=Q({type:s}),s.\u0275inj=nn({}),s})()},3942:(ft,Ee,R)=>{R.d(Ee,{Z:()=>ke});var c=R(2090),Y=R(4859),k=R(9681),ae=R(1877);class ee{constructor(fe,we){this._delegate=fe,this.firebase=we,(0,k._addComponent)(fe,new Y.wA("app-compat",()=>this,"PUBLIC")),this.container=fe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(fe){this._delegate.automaticDataCollectionEnabled=fe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(fe=>{this._delegate.checkDestroyed(),fe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(fe,we=k._DEFAULT_ENTRY_NAME){var st;this._delegate.checkDestroyed();const et=this._delegate.container.getProvider(fe);return!et.isInitialized()&&"EXPLICIT"===(null===(st=et.getComponent())||void 0===st?void 0:st.instantiationMode)&&et.initialize(),et.getImmediate({identifier:we})}_removeServiceInstance(fe,we=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(fe).clearInstance(we)}_addComponent(fe){(0,k._addComponent)(this._delegate,fe)}_addOrOverwriteComponent(fe){(0,k._addOrOverwriteComponent)(this._delegate,fe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const oe=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function ue(){const Ue=function he(Ue){const fe={},we={__esModule:!0,initializeApp:function Se(qe,ie={}){const Je=k.initializeApp(qe,ie);if((0,c.r3)(fe,Je.name))return fe[Je.name];const X=new Ue(Je,we);return fe[Je.name]=X,X},app:et,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function be(qe){const ie=qe.name,Je=ie.replace("-compat","");if(k._registerComponent(qe)&&"PUBLIC"===qe.type){const X=(le=et())=>{if("function"!=typeof le[Je])throw oe.create("invalid-app-argument",{appName:ie});return le[Je]()};void 0!==qe.serviceProps&&(0,c.ZB)(X,qe.serviceProps),we[Je]=X,Ue.prototype[Je]=function(...le){return this._getService.bind(this,ie).apply(this,qe.multipleInstances?le:[])}}return"PUBLIC"===qe.type?we[Je]:null},removeApp:function st(qe){delete fe[qe]},useAsService:function We(qe,ie){return"serverAuth"===ie?null:ie},modularAPIs:k}};function et(qe){if(!(0,c.r3)(fe,qe=qe||k._DEFAULT_ENTRY_NAME))throw oe.create("no-app",{appName:qe});return fe[qe]}return we.default=we,Object.defineProperty(we,"apps",{get:function ve(){return Object.keys(fe).map(qe=>fe[qe])}}),et.App=Ue,we}(ee);return Ue.INTERNAL=Object.assign(Object.assign({},Ue.INTERNAL),{createFirebaseNamespace:ue,extendNamespace:function fe(we){(0,c.ZB)(Ue,we)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),Ue}(),G=new ae.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ue=self.firebase.SDK_VERSION;Ue&&Ue.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ke=$;!function Ne(Ue){(0,k.registerVersion)("@firebase/app-compat","0.1.23",Ue)}()},9681:(ft,Ee,R)=>{R.r(Ee),R.d(Ee,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>Jr,_DEFAULT_ENTRY_NAME:()=>en,_addComponent:()=>hr,_addOrOverwriteComponent:()=>Rn,_apps:()=>Ke,_clearComponents:()=>Yt,_components:()=>Kt,_getProvider:()=>ji,_registerComponent:()=>an,_removeServiceInstance:()=>nn,deleteApp:()=>gs,getApp:()=>Xr,getApps:()=>ps,initializeApp:()=>es,onLog:()=>fr,registerVersion:()=>li,setLogLevel:()=>rr});var c=R(5861),Y=R(4859),k=R(1877),ae=R(2090);class ee{constructor(Ie){this.container=Ie}getPlatformInfoString(){return this.container.getProviders().map(it=>{if(function ge(tt){const Ie=tt.getComponent();return"VERSION"===(null==Ie?void 0:Ie.type)}(it)){const wt=it.getImmediate();return`${wt.library}/${wt.version}`}return null}).filter(it=>it).join(" ")}}const oe="@firebase/app",ue=new k.Yd("@firebase/app"),en="[DEFAULT]",gn={[oe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ke=new Map,Kt=new Map;function hr(tt,Ie){try{tt.container.addComponent(Ie)}catch(it){ue.debug(`Component ${Ie.name} failed to register with FirebaseApp ${tt.name}`,it)}}function Rn(tt,Ie){tt.container.addOrOverwriteComponent(Ie)}function an(tt){const Ie=tt.name;if(Kt.has(Ie))return ue.debug(`There were multiple attempts to register component ${Ie}.`),!1;Kt.set(Ie,tt);for(const it of Ke.values())hr(it,tt);return!0}function ji(tt,Ie){const it=tt.container.getProvider("heartbeat").getImmediate({optional:!0});return it&&it.triggerHeartbeat(),tt.container.getProvider(Ie)}function nn(tt,Ie,it=en){ji(tt,Ie).clearInstance(it)}function Yt(){Kt.clear()}const Ai=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Hs{constructor(Ie,it,wt){this._isDeleted=!1,this._options=Object.assign({},Ie),this._config=Object.assign({},it),this._name=it.name,this._automaticDataCollectionEnabled=it.automaticDataCollectionEnabled,this._container=wt,this.container.addComponent(new Y.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ie){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ie}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ie){this._isDeleted=Ie}checkDestroyed(){if(this.isDeleted)throw Ai.create("app-deleted",{appName:this._name})}}const Jr="9.7.0";function es(tt,Ie={}){"object"!=typeof Ie&&(Ie={name:Ie});const it=Object.assign({name:en,automaticDataCollectionEnabled:!1},Ie),wt=it.name;if("string"!=typeof wt||!wt)throw Ai.create("bad-app-name",{appName:String(wt)});const $t=Ke.get(wt);if($t){if((0,ae.vZ)(tt,$t.options)&&(0,ae.vZ)(it,$t.config))return $t;throw Ai.create("duplicate-app",{appName:wt})}const Ut=new Y.H0(wt);for(const B of Kt.values())Ut.addComponent(B);const H=new Hs(tt,it,Ut);return Ke.set(wt,H),H}function Xr(tt=en){const Ie=Ke.get(tt);if(!Ie)throw Ai.create("no-app",{appName:tt});return Ie}function ps(){return Array.from(Ke.values())}function gs(tt){return yt.apply(this,arguments)}function yt(){return(yt=(0,c.Z)(function*(tt){const Ie=tt.name;Ke.has(Ie)&&(Ke.delete(Ie),yield Promise.all(tt.container.getProviders().map(it=>it.delete())),tt.isDeleted=!0)})).apply(this,arguments)}function li(tt,Ie,it){var wt;let $t=null!==(wt=gn[tt])&&void 0!==wt?wt:tt;it&&($t+=`-${it}`);const Ut=$t.match(/\s|\//),H=Ie.match(/\s|\//);if(Ut||H){const B=[`Unable to register library "${$t}" with version "${Ie}":`];return Ut&&B.push(`library name "${$t}" contains illegal characters (whitespace or "/")`),Ut&&H&&B.push("and"),H&&B.push(`version name "${Ie}" contains illegal characters (whitespace or "/")`),void ue.warn(B.join(" "))}an(new Y.wA(`${$t}-version`,()=>({library:$t,version:Ie}),"VERSION"))}function fr(tt,Ie){if(null!==tt&&"function"!=typeof tt)throw Ai.create("invalid-log-argument");(0,k.Am)(tt,Ie)}function rr(tt){(0,k.Ub)(tt)}const Sn="firebase-heartbeat-store";let pr=null;function $s(){return pr||(pr=(0,ae.X3)("firebase-heartbeat-database",1,(tt,Ie)=>{0===Ie&&tt.createObjectStore(Sn)}).catch(tt=>{throw Ai.create("storage-open",{originalErrorMessage:tt.message})})),pr}function Qt(){return(Qt=(0,c.Z)(function*(tt){try{return(yield $s()).transaction(Sn).objectStore(Sn).get(Er(tt))}catch(Ie){throw Ai.create("storage-get",{originalErrorMessage:Ie.message})}})).apply(this,arguments)}function ht(tt,Ie){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,c.Z)(function*(tt,Ie){try{const wt=(yield $s()).transaction(Sn,"readwrite");return yield wt.objectStore(Sn).put(Ie,Er(tt)),wt.complete}catch(it){throw Ai.create("storage-set",{originalErrorMessage:it.message})}})).apply(this,arguments)}function Er(tt){return`${tt.name}!${tt.options.appId}`}class Do{constructor(Ie){this.container=Ie,this._heartbeatsCache=null;const it=this.container.getProvider("app").getImmediate();this._storage=new bt(it),this._heartbeatsCachePromise=this._storage.read().then(wt=>(this._heartbeatsCache=wt,wt))}triggerHeartbeat(){var Ie=this;return(0,c.Z)(function*(){const wt=Ie.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),$t=Ur();if(null===Ie._heartbeatsCache&&(Ie._heartbeatsCache=yield Ie._heartbeatsCachePromise),Ie._heartbeatsCache.lastSentHeartbeatDate!==$t&&!Ie._heartbeatsCache.heartbeats.some(Ut=>Ut.date===$t))return Ie._heartbeatsCache.heartbeats.push({date:$t,agent:wt}),Ie._heartbeatsCache.heartbeats=Ie._heartbeatsCache.heartbeats.filter(Ut=>{const H=new Date(Ut.date).valueOf();return Date.now()-H<=2592e6}),Ie._storage.overwrite(Ie._heartbeatsCache)})()}getHeartbeatsHeader(){var Ie=this;return(0,c.Z)(function*(){if(null===Ie._heartbeatsCache&&(yield Ie._heartbeatsCachePromise),null===Ie._heartbeatsCache||0===Ie._heartbeatsCache.heartbeats.length)return"";const it=Ur(),{heartbeatsToSend:wt,unsentEntries:$t}=function Tr(tt,Ie=1024){const it=[];let wt=tt.slice();for(const $t of tt){const Ut=it.find(H=>H.agent===$t.agent);if(Ut){if(Ut.dates.push($t.date),jr(it)>Ie){Ut.dates.pop();break}}else if(it.push({agent:$t.agent,dates:[$t.date]}),jr(it)>Ie){it.pop();break}wt=wt.slice(1)}return{heartbeatsToSend:it,unsentEntries:wt}}(Ie._heartbeatsCache.heartbeats),Ut=(0,ae.L)(JSON.stringify({version:2,heartbeats:wt}));return Ie._heartbeatsCache.lastSentHeartbeatDate=it,$t.length>0?(Ie._heartbeatsCache.heartbeats=$t,yield Ie._storage.overwrite(Ie._heartbeatsCache)):(Ie._heartbeatsCache.heartbeats=[],Ie._storage.overwrite(Ie._heartbeatsCache)),Ut})()}}function Ur(){return(new Date).toISOString().substring(0,10)}class bt{constructor(Ie){this.app=Ie,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ie=this;return(0,c.Z)(function*(){return(yield Ie._canUseIndexedDBPromise)&&(yield function Va(tt){return Qt.apply(this,arguments)}(Ie.app))||{heartbeats:[]}})()}overwrite(Ie){var it=this;return(0,c.Z)(function*(){var wt;if(yield it._canUseIndexedDBPromise){const Ut=yield it.read();return ht(it.app,{lastSentHeartbeatDate:null!==(wt=Ie.lastSentHeartbeatDate)&&void 0!==wt?wt:Ut.lastSentHeartbeatDate,heartbeats:Ie.heartbeats})}})()}add(Ie){var it=this;return(0,c.Z)(function*(){var wt;if(yield it._canUseIndexedDBPromise){const Ut=yield it.read();return ht(it.app,{lastSentHeartbeatDate:null!==(wt=Ie.lastSentHeartbeatDate)&&void 0!==wt?wt:Ut.lastSentHeartbeatDate,heartbeats:[...Ut.heartbeats,...Ie.heartbeats]})}})()}}function jr(tt){return(0,ae.L)(JSON.stringify({version:2,heartbeats:tt})).length}!function Ht(tt){an(new Y.wA("platform-logger",Ie=>new ee(Ie),"PRIVATE")),an(new Y.wA("heartbeat",Ie=>new Do(Ie),"PRIVATE")),li(oe,"0.7.22",tt),li(oe,"0.7.22","esm2017"),li("fire-js","")}("")},4859:(ft,Ee,R)=>{R.d(Ee,{H0:()=>he,wA:()=>k});var c=R(5861),Y=R(2090);class k{constructor($,G,J){this.name=$,this.instanceFactory=G,this.type=J,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const ae="[DEFAULT]";class ee{constructor($,G){this.name=$,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const G=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(G)){const J=new Y.BH;if(this.instancesDeferred.set(G,J),this.isInitialized(G)||this.shouldAutoInitialize())try{const Ye=this.getOrInitializeService({instanceIdentifier:G});Ye&&J.resolve(Ye)}catch(Ye){}}return this.instancesDeferred.get(G).promise}getImmediate($){var G;const J=this.normalizeInstanceIdentifier(null==$?void 0:$.identifier),Ye=null!==(G=null==$?void 0:$.optional)&&void 0!==G&&G;if(!this.isInitialized(J)&&!this.shouldAutoInitialize()){if(Ye)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:J})}catch(Ne){if(Ye)return null;throw Ne}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function oe(ue){return"EAGER"===ue.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:ae})}catch(G){}for(const[G,J]of this.instancesDeferred.entries()){const Ye=this.normalizeInstanceIdentifier(G);try{const Ne=this.getOrInitializeService({instanceIdentifier:Ye});J.resolve(Ne)}catch(Ne){}}}}clearInstance($=ae){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,c.Z)(function*(){const G=Array.from($.instances.values());yield Promise.all([...G.filter(J=>"INTERNAL"in J).map(J=>J.INTERNAL.delete()),...G.filter(J=>"_delete"in J).map(J=>J._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=ae){return this.instances.has($)}getOptions($=ae){return this.instancesOptions.get($)||{}}initialize($={}){const{options:G={}}=$,J=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(J))throw Error(`${this.name}(${J}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ye=this.getOrInitializeService({instanceIdentifier:J,options:G});for(const[Ne,ke]of this.instancesDeferred.entries())J===this.normalizeInstanceIdentifier(Ne)&&ke.resolve(Ye);return Ye}onInit($,G){var J;const Ye=this.normalizeInstanceIdentifier(G),Ne=null!==(J=this.onInitCallbacks.get(Ye))&&void 0!==J?J:new Set;Ne.add($),this.onInitCallbacks.set(Ye,Ne);const ke=this.instances.get(Ye);return ke&&$(ke,Ye),()=>{Ne.delete($)}}invokeOnInitCallbacks($,G){const J=this.onInitCallbacks.get(G);if(J)for(const Ye of J)try{Ye($,G)}catch(Ne){}}getOrInitializeService({instanceIdentifier:$,options:G={}}){let J=this.instances.get($);if(!J&&this.component&&(J=this.component.instanceFactory(this.container,{instanceIdentifier:(ue=$,ue===ae?void 0:ue),options:G}),this.instances.set($,J),this.instancesOptions.set($,G),this.invokeOnInitCallbacks(J,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,J)}catch(Ye){}var ue;return J||null}normalizeInstanceIdentifier($=ae){return this.component?this.component.multipleInstances?$:ae:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class he{constructor($){this.name=$,this.providers=new Map}addComponent($){const G=this.getProvider($.name);if(G.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);G.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const G=new ee($,this);return this.providers.set($,G),G}getProviders(){return Array.from(this.providers.values())}}},1877:(ft,Ee,R)=>{R.d(Ee,{Am:()=>ue,Ub:()=>he,Yd:()=>oe,in:()=>Y});const c=[];var Y=(()=>{return($=Y||(Y={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",Y;var $})();const k={debug:Y.DEBUG,verbose:Y.VERBOSE,info:Y.INFO,warn:Y.WARN,error:Y.ERROR,silent:Y.SILENT},ae=Y.INFO,ee={[Y.DEBUG]:"log",[Y.VERBOSE]:"log",[Y.INFO]:"info",[Y.WARN]:"warn",[Y.ERROR]:"error"},ge=($,G,...J)=>{if(G<$.logLevel)return;const Ye=(new Date).toISOString(),Ne=ee[G];if(!Ne)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[Ne](`[${Ye}]  ${$.name}:`,...J)};class oe{constructor(G){this.name=G,this._logLevel=ae,this._logHandler=ge,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in Y))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?k[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,Y.DEBUG,...G),this._logHandler(this,Y.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,Y.VERBOSE,...G),this._logHandler(this,Y.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,Y.INFO,...G),this._logHandler(this,Y.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,Y.WARN,...G),this._logHandler(this,Y.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,Y.ERROR,...G),this._logHandler(this,Y.ERROR,...G)}}function he($){c.forEach(G=>{G.setLogLevel($)})}function ue($,G){for(const J of c){let Ye=null;G&&G.level&&(Ye=k[G.level]),J.userLogHandler=null===$?null:(Ne,ke,...Ue)=>{const fe=Ue.map(we=>{if(null==we)return null;if("string"==typeof we)return we;if("number"==typeof we||"boolean"==typeof we)return we.toString();if(we instanceof Error)return we.message;try{return JSON.stringify(we)}catch(st){return null}}).filter(we=>we).join(" ");ke>=(null!=Ye?Ye:Ne.logLevel)&&$({level:Y[ke].toLowerCase(),message:fe,args:Ue,type:Ne.name})}}}},5861:(ft,Ee,R)=>{function c(k,ae,ee,ge,oe,he,ue){try{var $=k[he](ue),G=$.value}catch(J){return void ee(J)}$.done?ae(G):Promise.resolve(G).then(ge,oe)}function Y(k){return function(){var ae=this,ee=arguments;return new Promise(function(ge,oe){var he=k.apply(ae,ee);function ue(G){c(he,ge,oe,ue,$,"next",G)}function $(G){c(he,ge,oe,ue,$,"throw",G)}ue(void 0)})}}R.d(Ee,{Z:()=>Y})}},ft=>{ft(ft.s=528)}]);